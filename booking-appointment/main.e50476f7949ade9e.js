"use strict";(self.webpackChunkBooking_Appointment=self.webpackChunkBooking_Appointment||[]).push([[179],{515:()=>{function fe(t){return"function"==typeof t}function Us(t){const n=t(r=>{Error.call(r),r.stack=(new Error).stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}const ic=Us(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:\n${n.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=n});function eo(t,e){if(t){const n=t.indexOf(e);0<=n&&t.splice(n,1)}}class Tt{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(const o of n)o.remove(this);else n.remove(this);const{initialTeardown:r}=this;if(fe(r))try{r()}catch(o){e=o instanceof ic?o.errors:[o]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const o of i)try{fE(o)}catch(s){e=e??[],s instanceof ic?e=[...e,...s.errors]:e.push(s)}}if(e)throw new ic(e)}}add(e){var n;if(e&&e!==this)if(this.closed)fE(e);else{if(e instanceof Tt){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(e)}}_hasParent(e){const{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){const{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){const{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&eo(n,e)}remove(e){const{_finalizers:n}=this;n&&eo(n,e),e instanceof Tt&&e._removeParent(this)}}Tt.EMPTY=(()=>{const t=new Tt;return t.closed=!0,t})();const dE=Tt.EMPTY;function hE(t){return t instanceof Tt||t&&"closed"in t&&fe(t.remove)&&fe(t.add)&&fe(t.unsubscribe)}function fE(t){fe(t)?t():t.unsubscribe()}const ci={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},oc={setTimeout(t,e,...n){const{delegate:r}=oc;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){const{delegate:e}=oc;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function pE(t){oc.setTimeout(()=>{const{onUnhandledError:e}=ci;if(!e)throw t;e(t)})}function $h(){}const Fx=Gh("C",void 0,void 0);function Gh(t,e,n){return{kind:t,value:e,error:n}}let ui=null;function sc(t){if(ci.useDeprecatedSynchronousErrorHandling){const e=!ui;if(e&&(ui={errorThrown:!1,error:null}),t(),e){const{errorThrown:n,error:r}=ui;if(ui=null,n)throw r}}else t()}class Wh extends Tt{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,hE(e)&&e.add(this)):this.destination=$x}static create(e,n,r){return new Bs(e,n,r)}next(e){this.isStopped?qh(function Vx(t){return Gh("N",t,void 0)}(e),this):this._next(e)}error(e){this.isStopped?qh(function Lx(t){return Gh("E",void 0,t)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?qh(Fx,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Bx=Function.prototype.bind;function zh(t,e){return Bx.call(t,e)}class jx{constructor(e){this.partialObserver=e}next(e){const{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){ac(r)}}error(e){const{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){ac(r)}else ac(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){ac(n)}}}class Bs extends Wh{constructor(e,n,r){let i;if(super(),fe(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let o;this&&ci.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&zh(e.next,o),error:e.error&&zh(e.error,o),complete:e.complete&&zh(e.complete,o)}):i=e}this.destination=new jx(i)}}function ac(t){ci.useDeprecatedSynchronousErrorHandling?function Ux(t){ci.useDeprecatedSynchronousErrorHandling&&ui&&(ui.errorThrown=!0,ui.error=t)}(t):pE(t)}function qh(t,e){const{onStoppedNotification:n}=ci;n&&oc.setTimeout(()=>n(t,e))}const $x={closed:!0,next:$h,error:function Hx(t){throw t},complete:$h},Yh="function"==typeof Symbol&&Symbol.observable||"@@observable";function br(t){return t}function gE(t){return 0===t.length?br:1===t.length?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}let Ae=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){const r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){const o=function zx(t){return t&&t instanceof Wh||function Wx(t){return t&&fe(t.next)&&fe(t.error)&&fe(t.complete)}(t)&&hE(t)}(n)?n:new Bs(n,r,i);return sc(()=>{const{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return new(r=mE(r))((i,o)=>{const s=new Bs({next:a=>{try{n(a)}catch(l){o(l),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(n){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(n)}[Yh](){return this}pipe(...n){return gE(n)(this)}toPromise(n){return new(n=mE(n))((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return t.create=e=>new t(e),t})();function mE(t){var e;return null!==(e=t??ci.Promise)&&void 0!==e?e:Promise}const qx=Us(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let Qt=(()=>{class t extends Ae{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){const r=new _E(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new qx}next(n){sc(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(n)}})}error(n){sc(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;const{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){sc(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return(null===(n=this.observers)||void 0===n?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){const{hasError:r,isStopped:i,observers:o}=this;return r||i?dE:(this.currentObservers=null,o.push(n),new Tt(()=>{this.currentObservers=null,eo(o,n)}))}_checkFinalizedStatuses(n){const{hasError:r,thrownError:i,isStopped:o}=this;r?n.error(i):o&&n.complete()}asObservable(){const n=new Ae;return n.source=this,n}}return t.create=(e,n)=>new _E(e,n),t})();class _E extends Qt{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.next)||void 0===r||r.call(n,e)}error(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.error)||void 0===r||r.call(n,e)}complete(){var e,n;null===(n=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===n||n.call(e)}_subscribe(e){var n,r;return null!==(r=null===(n=this.source)||void 0===n?void 0:n.subscribe(e))&&void 0!==r?r:dE}}function vE(t){return fe(t?.lift)}function $e(t){return e=>{if(vE(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function Ue(t,e,n,r,i){return new Yx(t,e,n,r,i)}class Yx extends Wh{constructor(e,n,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(l){e.error(l)}}:super._next,this._error=i?function(a){try{i(a)}catch(l){e.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:n}=this;super.unsubscribe(),!n&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function re(t,e){return $e((n,r)=>{let i=0;n.subscribe(Ue(r,o=>{r.next(t.call(e,o,i++))}))})}function Zh(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}function Tr(t){return this instanceof Tr?(this.v=t,this):new Tr(t)}function wE(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,e=t[Symbol.asyncIterator];return e?e.call(t):(t=function Jh(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(t),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=t[o]&&function(s){return new Promise(function(a,l){!function i(o,s,a,l){Promise.resolve(l).then(function(c){o({value:c,done:a})},s)}(a,l,(s=t[o](s)).done,s.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const DE=t=>t&&"number"==typeof t.length&&"function"!=typeof t;function IE(t){return fe(t?.then)}function bE(t){return fe(t[Yh])}function TE(t){return Symbol.asyncIterator&&fe(t?.[Symbol.asyncIterator])}function SE(t){return new TypeError(`You provided ${null!==t&&"object"==typeof t?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const AE=function gk(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function ME(t){return fe(t?.[AE])}function NE(t){return function EE(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=n.apply(t,e||[]),o=[];return i={},s("next"),s("throw"),s("return"),i[Symbol.asyncIterator]=function(){return this},i;function s(h){r[h]&&(i[h]=function(f){return new Promise(function(p,g){o.push([h,f,p,g])>1||a(h,f)})})}function a(h,f){try{!function l(h){h.value instanceof Tr?Promise.resolve(h.value.v).then(c,u):d(o[0][2],h)}(r[h](f))}catch(p){d(o[0][3],p)}}function c(h){a("next",h)}function u(h){a("throw",h)}function d(h,f){h(f),o.shift(),o.length&&a(o[0][0],o[0][1])}}(this,arguments,function*(){const n=t.getReader();try{for(;;){const{value:r,done:i}=yield Tr(n.read());if(i)return yield Tr(void 0);yield yield Tr(r)}}finally{n.releaseLock()}})}function RE(t){return fe(t?.getReader)}function Vt(t){if(t instanceof Ae)return t;if(null!=t){if(bE(t))return function mk(t){return new Ae(e=>{const n=t[Yh]();if(fe(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(t);if(DE(t))return function _k(t){return new Ae(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}(t);if(IE(t))return function vk(t){return new Ae(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,pE)})}(t);if(TE(t))return PE(t);if(ME(t))return function yk(t){return new Ae(e=>{for(const n of t)if(e.next(n),e.closed)return;e.complete()})}(t);if(RE(t))return function Ck(t){return PE(NE(t))}(t)}throw SE(t)}function PE(t){return new Ae(e=>{(function Ek(t,e){var n,r,i,o;return function yE(t,e,n,r){return new(n||(n=Promise))(function(o,s){function a(u){try{c(r.next(u))}catch(d){s(d)}}function l(u){try{c(r.throw(u))}catch(d){s(d)}}function c(u){u.done?o(u.value):function i(o){return o instanceof n?o:new n(function(s){s(o)})}(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})}(this,void 0,void 0,function*(){try{for(n=wE(t);!(r=yield n.next()).done;)if(e.next(r.value),e.closed)return}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=n.return)&&(yield o.call(n))}finally{if(i)throw i.error}}e.complete()})})(t,e).catch(n=>e.error(n))})}function Xn(t,e,n,r=0,i=!1){const o=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(o),!i)return o}function Ze(t,e,n=1/0){return fe(e)?Ze((r,i)=>re((o,s)=>e(r,o,i,s))(Vt(t(r,i))),n):("number"==typeof e&&(n=e),$e((r,i)=>function wk(t,e,n,r,i,o,s,a){const l=[];let c=0,u=0,d=!1;const h=()=>{d&&!l.length&&!c&&e.complete()},f=g=>c<r?p(g):l.push(g),p=g=>{o&&e.next(g),c++;let m=!1;Vt(n(g,u++)).subscribe(Ue(e,y=>{i?.(y),o?f(y):e.next(y)},()=>{m=!0},void 0,()=>{if(m)try{for(c--;l.length&&c<r;){const y=l.shift();s?Xn(e,s,()=>p(y)):p(y)}h()}catch(y){e.error(y)}}))};return t.subscribe(Ue(e,f,()=>{d=!0,h()})),()=>{a?.()}}(r,i,t,n)))}function to(t=1/0){return Ze(br,t)}const Sn=new Ae(t=>t.complete());function ef(t){return t[t.length-1]}function OE(t){return fe(ef(t))?t.pop():void 0}function js(t){return function Ik(t){return t&&fe(t.schedule)}(ef(t))?t.pop():void 0}function lc(t,e=0){return $e((n,r)=>{n.subscribe(Ue(r,i=>Xn(r,t,()=>r.next(i),e),()=>Xn(r,t,()=>r.complete(),e),i=>Xn(r,t,()=>r.error(i),e)))})}function cc(t,e=0){return $e((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function xE(t,e){if(!t)throw new Error("Iterable cannot be null");return new Ae(n=>{Xn(n,e,()=>{const r=t[Symbol.asyncIterator]();Xn(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function Ge(t,e){return e?function Rk(t,e){if(null!=t){if(bE(t))return function Tk(t,e){return Vt(t).pipe(cc(e),lc(e))}(t,e);if(DE(t))return function Ak(t,e){return new Ae(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}(t,e);if(IE(t))return function Sk(t,e){return Vt(t).pipe(cc(e),lc(e))}(t,e);if(TE(t))return xE(t,e);if(ME(t))return function Mk(t,e){return new Ae(n=>{let r;return Xn(n,e,()=>{r=t[AE](),Xn(n,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){return void n.error(s)}o?n.complete():n.next(i)},0,!0)}),()=>fe(r?.return)&&r.return()})}(t,e);if(RE(t))return function Nk(t,e){return xE(NE(t),e)}(t,e)}throw SE(t)}(t,e):Vt(t)}class Zt extends Qt{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){const{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}function k(...t){return Ge(t,js(t))}function kE(t={}){const{connector:e=(()=>new Qt),resetOnError:n=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=t;return o=>{let s,a,l,c=0,u=!1,d=!1;const h=()=>{a?.unsubscribe(),a=void 0},f=()=>{h(),s=l=void 0,u=d=!1},p=()=>{const g=s;f(),g?.unsubscribe()};return $e((g,m)=>{c++,!d&&!u&&h();const y=l=l??e();m.add(()=>{c--,0===c&&!d&&!u&&(a=tf(p,i))}),y.subscribe(m),!s&&c>0&&(s=new Bs({next:_=>y.next(_),error:_=>{d=!0,h(),a=tf(f,n,_),y.error(_)},complete:()=>{u=!0,h(),a=tf(f,r),y.complete()}}),Vt(g).subscribe(s))})(o)}}function tf(t,e,...n){if(!0===e)return void t();if(!1===e)return;const r=new Bs({next:()=>{r.unsubscribe(),t()}});return Vt(e(...n)).subscribe(r)}function dn(t,e){return $e((n,r)=>{let i=null,o=0,s=!1;const a=()=>s&&!i&&r.complete();n.subscribe(Ue(r,l=>{i?.unsubscribe();let c=0;const u=o++;Vt(t(l,u)).subscribe(i=Ue(r,d=>r.next(e?e(l,d,u,c++):d),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function xk(t,e){return t===e}function le(t){for(let e in t)if(t[e]===le)return e;throw Error("Could not find renamed property on target object.")}function uc(t,e){for(const n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function We(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(We).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function nf(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const kk=le({__forward_ref__:le});function _e(t){return t.__forward_ref__=_e,t.toString=function(){return We(this())},t}function V(t){return rf(t)?t():t}function rf(t){return"function"==typeof t&&t.hasOwnProperty(kk)&&t.__forward_ref__===_e}function sf(t){return t&&!!t.\u0275providers}const FE="https://g.co/ng/security#xss";class D extends Error{constructor(e,n){super(function dc(t,e){return`NG0${Math.abs(t)}${e?": "+e:""}`}(e,n)),this.code=e}}function B(t){return"string"==typeof t?t:null==t?"":String(t)}function af(t,e){throw new D(-201,!1)}function Xt(t,e){null==t&&function F(t,e,n,r){throw new Error(`ASSERTION ERROR: ${t}`+(null==r?"":` [Expected=> ${n} ${r} ${e} <=Actual]`))}(e,t,null,"!=")}function x(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function ft(t){return{providers:t.providers||[],imports:t.imports||[]}}function hc(t){return LE(t,pc)||LE(t,VE)}function LE(t,e){return t.hasOwnProperty(e)?t[e]:null}function fc(t){return t&&(t.hasOwnProperty(lf)||t.hasOwnProperty($k))?t[lf]:null}const pc=le({\u0275prov:le}),lf=le({\u0275inj:le}),VE=le({ngInjectableDef:le}),$k=le({ngInjectorDef:le});var Z=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(Z||{});let cf;function St(t){const e=cf;return cf=t,e}function BE(t,e,n){const r=hc(t);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&Z.Optional?null:void 0!==e?e:void af(We(t))}const ve=globalThis,Hs={},pf="__NG_DI_FLAG__",gc="ngTempTokenPath",zk=/\n/gm,HE="__source";let no;function Sr(t){const e=no;return no=t,e}function Kk(t,e=Z.Default){if(void 0===no)throw new D(-203,!1);return null===no?BE(t,void 0,e):no.get(t,e&Z.Optional?null:void 0,e)}function O(t,e=Z.Default){return(function UE(){return cf}()||Kk)(V(t),e)}function M(t,e=Z.Default){return O(t,mc(e))}function mc(t){return typeof t>"u"||"number"==typeof t?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function gf(t){const e=[];for(let n=0;n<t.length;n++){const r=V(t[n]);if(Array.isArray(r)){if(0===r.length)throw new D(900,!1);let i,o=Z.Default;for(let s=0;s<r.length;s++){const a=r[s],l=Qk(a);"number"==typeof l?-1===l?i=a.token:o|=l:i=a}e.push(O(i,o))}else e.push(O(r))}return e}function $s(t,e){return t[pf]=e,t.prototype[pf]=e,t}function Qk(t){return t[pf]}function Jn(t){return{toString:t}.toString()}var _c=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(_c||{}),hn=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(hn||{});const An={},te=[],vc=le({\u0275cmp:le}),mf=le({\u0275dir:le}),_f=le({\u0275pipe:le}),GE=le({\u0275mod:le}),er=le({\u0275fac:le}),Gs=le({__NG_ELEMENT_ID__:le}),WE=le({__NG_ENV_ID__:le});function zE(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const o=e.length;if(i+o===r||t.charCodeAt(i+o)<=32)return i}n=i+1}}function vf(t,e,n){let r=0;for(;r<n.length;){const i=n[r];if("number"==typeof i){if(0!==i)break;r++;const o=n[r++],s=n[r++],a=n[r++];t.setAttribute(e,s,a,o)}else{const o=i,s=n[++r];YE(o)?t.setProperty(e,o,s):t.setAttribute(e,o,s),r++}}return r}function qE(t){return 3===t||4===t||6===t}function YE(t){return 64===t.charCodeAt(0)}function Ws(t,e){if(null!==e&&0!==e.length)if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||KE(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function KE(t,e,n,r,i){let o=0,s=t.length;if(-1===e)s=-1;else for(;o<t.length;){const a=t[o++];if("number"==typeof a){if(a===e){s=-1;break}if(a>e){s=o-1;break}}}for(;o<t.length;){const a=t[o];if("number"==typeof a)break;if(a===n){if(null===r)return void(null!==i&&(t[o+1]=i));if(r===t[o+1])return void(t[o+2]=i)}o++,null!==r&&o++,null!==i&&o++}-1!==s&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),null!==r&&t.splice(o++,0,r),null!==i&&t.splice(o++,0,i)}const QE="ng-template";function Jk(t,e,n){let r=0,i=!0;for(;r<t.length;){let o=t[r++];if("string"==typeof o&&i){const s=t[r++];if(n&&"class"===o&&-1!==zE(s.toLowerCase(),e,0))return!0}else{if(1===o){for(;r<t.length&&"string"==typeof(o=t[r++]);)if(o.toLowerCase()===e)return!0;return!1}"number"==typeof o&&(i=!1)}}return!1}function ZE(t){return 4===t.type&&t.value!==QE}function e1(t,e,n){return e===(4!==t.type||n?t.value:QE)}function t1(t,e,n){let r=4;const i=t.attrs||[],o=function i1(t){for(let e=0;e<t.length;e++)if(qE(t[e]))return e;return t.length}(i);let s=!1;for(let a=0;a<e.length;a++){const l=e[a];if("number"!=typeof l){if(!s)if(4&r){if(r=2|1&r,""!==l&&!e1(t,l,n)||""===l&&1===e.length){if(fn(r))return!1;s=!0}}else{const c=8&r?l:e[++a];if(8&r&&null!==t.attrs){if(!Jk(t.attrs,c,n)){if(fn(r))return!1;s=!0}continue}const d=n1(8&r?"class":l,i,ZE(t),n);if(-1===d){if(fn(r))return!1;s=!0;continue}if(""!==c){let h;h=d>o?"":i[d+1].toLowerCase();const f=8&r?h:null;if(f&&-1!==zE(f,c,0)||2&r&&c!==h){if(fn(r))return!1;s=!0}}}}else{if(!s&&!fn(r)&&!fn(l))return!1;if(s&&fn(l))continue;s=!1,r=l|1&r}}return fn(r)||s}function fn(t){return 0==(1&t)}function n1(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let o=!1;for(;i<e.length;){const s=e[i];if(s===t)return i;if(3===s||6===s)o=!0;else{if(1===s||2===s){let a=e[++i];for(;"string"==typeof a;)a=e[++i];continue}if(4===s)break;if(0===s){i+=4;continue}}i+=o?1:2}return-1}return function o1(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function XE(t,e,n=!1){for(let r=0;r<e.length;r++)if(t1(t,e[r],n))return!0;return!1}function JE(t,e){return t?":not("+e.trim()+")":e}function a1(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let s=t[n];if("string"==typeof s)if(2&r){const a=t[++n];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+s:4&r&&(i+=" "+s);else""!==i&&!fn(s)&&(e+=JE(o,i),i=""),r=s,o=o||!fn(r);n++}return""!==i&&(e+=JE(o,i)),e}function pn(t){return Jn(()=>{const e=tw(t),n={...e,decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===_c.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||hn.Emulated,styles:t.styles||te,_:null,schemas:t.schemas||null,tView:null,id:""};nw(n);const r=t.dependencies;return n.directiveDefs=yc(r,!1),n.pipeDefs=yc(r,!0),n.id=function g1(t){let e=0;const n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(const i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}(n),n})}function d1(t){return J(t)||Xe(t)}function h1(t){return null!==t}function At(t){return Jn(()=>({type:t.type,bootstrap:t.bootstrap||te,declarations:t.declarations||te,imports:t.imports||te,exports:t.exports||te,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function ew(t,e){if(null==t)return An;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],o=i;Array.isArray(i)&&(o=i[1],i=i[0]),n[i]=r,e&&(e[i]=o)}return n}function U(t){return Jn(()=>{const e=tw(t);return nw(e),e})}function J(t){return t[vc]||null}function Xe(t){return t[mf]||null}function pt(t){return t[_f]||null}function Bt(t,e){const n=t[GE]||null;if(!n&&!0===e)throw new Error(`Type ${We(t)} does not have '\u0275mod' property.`);return n}function tw(t){const e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||An,exportAs:t.exportAs||null,standalone:!0===t.standalone,signals:!0===t.signals,selectors:t.selectors||te,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:ew(t.inputs,e),outputs:ew(t.outputs)}}function nw(t){t.features?.forEach(e=>e(t))}function yc(t,e){if(!t)return null;const n=e?pt:d1;return()=>("function"==typeof t?t():t).map(r=>n(r)).filter(h1)}const Pe=0,S=1,G=2,Ie=3,gn=4,zs=5,ot=6,io=7,ke=8,Ar=9,oo=10,j=11,qs=12,rw=13,so=14,Fe=15,Ys=16,ao=17,Mn=18,Ks=19,iw=20,Mr=21,tr=22,Qs=23,Zs=24,X=25,yf=1,ow=2,Nn=7,lo=9,Je=11;function Nt(t){return Array.isArray(t)&&"object"==typeof t[yf]}function gt(t){return Array.isArray(t)&&!0===t[yf]}function Cf(t){return 0!=(4&t.flags)}function hi(t){return t.componentOffset>-1}function Ec(t){return 1==(1&t.flags)}function mn(t){return!!t.template}function Ef(t){return 0!=(512&t[G])}function fi(t,e){return t.hasOwnProperty(er)?t[er]:null}let et=null,wc=!1;function Jt(t){const e=et;return et=t,e}const lw={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function uw(t){if(!Js(t)||t.dirty){if(!t.producerMustRecompute(t)&&!fw(t))return void(t.dirty=!1);t.producerRecomputeValue(t),t.dirty=!1}}function hw(t){t.dirty=!0,function dw(t){if(void 0===t.liveConsumerNode)return;const e=wc;wc=!0;try{for(const n of t.liveConsumerNode)n.dirty||hw(n)}finally{wc=e}}(t),t.consumerMarkedDirty?.(t)}function Df(t){return t&&(t.nextProducerIndex=0),Jt(t)}function If(t,e){if(Jt(e),t&&void 0!==t.producerNode&&void 0!==t.producerIndexOfThis&&void 0!==t.producerLastReadVersion){if(Js(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)Dc(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function fw(t){co(t);for(let e=0;e<t.producerNode.length;e++){const n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(uw(n),r!==n.version))return!0}return!1}function pw(t){if(co(t),Js(t))for(let e=0;e<t.producerNode.length;e++)Dc(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function Dc(t,e){if(function mw(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}(t),co(t),1===t.liveConsumerNode.length)for(let r=0;r<t.producerNode.length;r++)Dc(t.producerNode[r],t.producerIndexOfThis[r]);const n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){const r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];co(i),i.producerIndexOfThis[r]=e}}function Js(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function co(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}let _w=null;const Ew=()=>{},A1=(()=>({...lw,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:t=>{t.schedule(t.ref)},hasRun:!1,cleanupFn:Ew}))();class M1{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}}function en(){return ww}function ww(t){return t.type.prototype.ngOnChanges&&(t.setInput=R1),N1}function N1(){const t=Iw(this),e=t?.current;if(e){const n=t.previous;if(n===An)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function R1(t,e,n,r){const i=this.declaredInputs[n],o=Iw(t)||function P1(t,e){return t[Dw]=e}(t,{previous:An,current:null}),s=o.current||(o.current={}),a=o.previous,l=a[i];s[i]=new M1(l&&l.currentValue,e,a===An),t[r]=e}en.ngInherit=!0;const Dw="__ngSimpleChanges__";function Iw(t){return t[Dw]||null}const Rn=function(t,e,n){};function ye(t){for(;Array.isArray(t);)t=t[Pe];return t}function Ic(t,e){return ye(e[t])}function Rt(t,e){return ye(e[t.index])}function Sw(t,e){return t.data[e]}function jt(t,e){const n=e[t];return Nt(n)?n:n[Pe]}function Rr(t,e){return null==e?null:t[e]}function Aw(t){t[ao]=0}function V1(t){1024&t[G]||(t[G]|=1024,Nw(t,1))}function Mw(t){1024&t[G]&&(t[G]&=-1025,Nw(t,-1))}function Nw(t,e){let n=t[Ie];if(null===n)return;n[zs]+=e;let r=n;for(n=n[Ie];null!==n&&(1===e&&1===r[zs]||-1===e&&0===r[zs]);)n[zs]+=e,r=n,n=n[Ie]}const L={lFrame:jw(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function Ow(){return L.bindingsEnabled}function w(){return L.lFrame.lView}function ee(){return L.lFrame.tView}function fo(t){return L.lFrame.contextLView=t,t[ke]}function po(t){return L.lFrame.contextLView=null,t}function tt(){let t=xw();for(;null!==t&&64===t.type;)t=t.parent;return t}function xw(){return L.lFrame.currentTNode}function Pn(t,e){const n=L.lFrame;n.currentTNode=t,n.isParent=e}function Mf(){return L.lFrame.isParent}function go(){return L.lFrame.bindingIndex++}function Q1(t,e){const n=L.lFrame;n.bindingIndex=n.bindingRootIndex=t,Rf(e)}function Rf(t){L.lFrame.currentDirectiveIndex=t}function Of(t){L.lFrame.currentQueryIndex=t}function X1(t){const e=t[S];return 2===e.type?e.declTNode:1===e.type?t[ot]:null}function Uw(t,e,n){if(n&Z.SkipSelf){let i=e,o=t;for(;!(i=i.parent,null!==i||n&Z.Host||(i=X1(o),null===i||(o=o[so],10&i.type))););if(null===i)return!1;e=i,t=o}const r=L.lFrame=Bw();return r.currentTNode=e,r.lView=t,!0}function xf(t){const e=Bw(),n=t[S];L.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function Bw(){const t=L.lFrame,e=null===t?null:t.child;return null===e?jw(t):e}function jw(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function Hw(){const t=L.lFrame;return L.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const $w=Hw;function kf(){const t=Hw();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function _t(){return L.lFrame.selectedIndex}function pi(t){L.lFrame.selectedIndex=t}function Me(){const t=L.lFrame;return Sw(t.tView,t.selectedIndex)}let Ww=!0;function bc(){return Ww}function Pr(t){Ww=t}function Tc(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const o=t.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:c,ngOnDestroy:u}=o;s&&(t.contentHooks??=[]).push(-n,s),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),l&&(t.viewHooks??=[]).push(-n,l),c&&((t.viewHooks??=[]).push(n,c),(t.viewCheckHooks??=[]).push(n,c)),null!=u&&(t.destroyHooks??=[]).push(n,u)}}function Sc(t,e,n){zw(t,e,3,n)}function Ac(t,e,n,r){(3&t[G])===n&&zw(t,e,n,r)}function Ff(t,e){let n=t[G];(3&n)===e&&(n&=8191,n+=1,t[G]=n)}function zw(t,e,n,r){const o=r??-1,s=e.length-1;let a=0;for(let l=void 0!==r?65535&t[ao]:0;l<s;l++)if("number"==typeof e[l+1]){if(a=e[l],null!=r&&a>=r)break}else e[l]<0&&(t[ao]+=65536),(a<o||-1==o)&&(sF(t,n,e,l),t[ao]=(4294901760&t[ao])+l+2),l++}function qw(t,e){Rn(4,t,e);const n=Jt(null);try{e.call(t)}finally{Jt(n),Rn(5,t,e)}}function sF(t,e,n,r){const i=n[r]<0,o=n[r+1],a=t[i?-n[r]:n[r]];i?t[G]>>13<t[ao]>>16&&(3&t[G])===e&&(t[G]+=8192,qw(a,o)):qw(a,o)}const mo=-1;class ta{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}}function Vf(t){return t!==mo}function na(t){return 32767&t}function ra(t,e){let n=function uF(t){return t>>16}(t),r=e;for(;n>0;)r=r[so],n--;return r}let Uf=!0;function Mc(t){const e=Uf;return Uf=t,e}const Yw=255,Kw=5;let dF=0;const On={};function Nc(t,e){const n=Qw(t,e);if(-1!==n)return n;const r=e[S];r.firstCreatePass&&(t.injectorIndex=e.length,Bf(r.data,t),Bf(e,null),Bf(r.blueprint,null));const i=Rc(t,e),o=t.injectorIndex;if(Vf(i)){const s=na(i),a=ra(i,e),l=a[S].data;for(let c=0;c<8;c++)e[o+c]=a[s+c]|l[s+c]}return e[o+8]=i,o}function Bf(t,e){t.push(0,0,0,0,0,0,0,0,e)}function Qw(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function Rc(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;null!==i;){if(r=rD(i),null===r)return mo;if(n++,i=i[so],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return mo}function jf(t,e,n){!function hF(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(Gs)&&(r=n[Gs]),null==r&&(r=n[Gs]=dF++);const i=r&Yw;e.data[t+(i>>Kw)]|=1<<i}(t,e,n)}function Zw(t,e,n){if(n&Z.Optional||void 0!==t)return t;af()}function Xw(t,e,n,r){if(n&Z.Optional&&void 0===r&&(r=null),!(n&(Z.Self|Z.Host))){const i=t[Ar],o=St(void 0);try{return i?i.get(e,r,n&Z.Optional):BE(e,r,n&Z.Optional)}finally{St(o)}}return Zw(r,0,n)}function Jw(t,e,n,r=Z.Default,i){if(null!==t){if(2048&e[G]&&!(r&Z.Self)){const s=function vF(t,e,n,r,i){let o=t,s=e;for(;null!==o&&null!==s&&2048&s[G]&&!(512&s[G]);){const a=eD(o,s,n,r|Z.Self,On);if(a!==On)return a;let l=o.parent;if(!l){const c=s[iw];if(c){const u=c.get(n,On,r);if(u!==On)return u}l=rD(s),s=s[so]}o=l}return i}(t,e,n,r,On);if(s!==On)return s}const o=eD(t,e,n,r,On);if(o!==On)return o}return Xw(e,n,r,i)}function eD(t,e,n,r,i){const o=function gF(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(Gs)?t[Gs]:void 0;return"number"==typeof e?e>=0?e&Yw:_F:e}(n);if("function"==typeof o){if(!Uw(e,t,r))return r&Z.Host?Zw(i,0,r):Xw(e,n,r,i);try{let s;if(s=o(r),null!=s||r&Z.Optional)return s;af()}finally{$w()}}else if("number"==typeof o){let s=null,a=Qw(t,e),l=mo,c=r&Z.Host?e[Fe][ot]:null;for((-1===a||r&Z.SkipSelf)&&(l=-1===a?Rc(t,e):e[a+8],l!==mo&&nD(r,!1)?(s=e[S],a=na(l),e=ra(l,e)):a=-1);-1!==a;){const u=e[S];if(tD(o,a,u.data)){const d=pF(a,e,n,s,r,c);if(d!==On)return d}l=e[a+8],l!==mo&&nD(r,e[S].data[a+8]===c)&&tD(o,a,e)?(s=u,a=na(l),e=ra(l,e)):a=-1}}return i}function pF(t,e,n,r,i,o){const s=e[S],a=s.data[t+8],u=function Pc(t,e,n,r,i){const o=t.providerIndexes,s=e.data,a=1048575&o,l=t.directiveStart,u=o>>20,h=i?a+u:t.directiveEnd;for(let f=r?a:a+u;f<h;f++){const p=s[f];if(f<l&&n===p||f>=l&&p.type===n)return f}if(i){const f=s[l];if(f&&mn(f)&&f.type===n)return l}return null}(a,s,n,null==r?hi(a)&&Uf:r!=s&&0!=(3&a.type),i&Z.Host&&o===a);return null!==u?gi(e,s,u,a):On}function gi(t,e,n,r){let i=t[n];const o=e.data;if(function aF(t){return t instanceof ta}(i)){const s=i;s.resolving&&function Fk(t,e){const n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new D(-200,`Circular dependency in DI detected for ${t}${n}`)}(function se(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():B(t)}(o[n]));const a=Mc(s.canSeeViewProviders);s.resolving=!0;const c=s.injectImpl?St(s.injectImpl):null;Uw(t,r,Z.Default);try{i=t[n]=s.factory(void 0,o,t,r),e.firstCreatePass&&n>=r.directiveStart&&function oF(t,e,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){const s=ww(e);(n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s)}i&&(n.preOrderHooks??=[]).push(0-t,i),o&&((n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o))}(n,o[n],e)}finally{null!==c&&St(c),Mc(a),s.resolving=!1,$w()}}return i}function tD(t,e,n){return!!(n[e+(t>>Kw)]&1<<t)}function nD(t,e){return!(t&Z.Self||t&Z.Host&&e)}class vt{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return Jw(this._tNode,this._lView,e,mc(r),n)}}function _F(){return new vt(tt(),w())}function nt(t){return Jn(()=>{const e=t.prototype.constructor,n=e[er]||Hf(e),r=Object.prototype;let i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){const o=i[er]||Hf(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function Hf(t){return rf(t)?()=>{const e=Hf(V(t));return e&&e()}:fi(t)}function rD(t){const e=t[S],n=e.type;return 2===n?e.declTNode:1===n?t[ot]:null}const vo="__parameters__";function Co(t,e,n){return Jn(()=>{const r=function $f(t){return function(...n){if(t){const r=t(...n);for(const i in r)this[i]=r[i]}}}(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;const s=new i(...o);return a.annotation=s,a;function a(l,c,u){const d=l.hasOwnProperty(vo)?l[vo]:Object.defineProperty(l,vo,{value:[]})[vo];for(;d.length<=u;)d.push(null);return(d[u]=d[u]||[]).push(s),l}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}function wo(t,e){t.forEach(n=>Array.isArray(n)?wo(n,e):e(n))}function oD(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function xc(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function Ht(t,e,n){let r=Do(t,e);return r>=0?t[1|r]=n:(r=~r,function bF(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(1===i)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=n,t[e+1]=r}}(t,r,e,n)),r}function Gf(t,e){const n=Do(t,e);if(n>=0)return t[1|n]}function Do(t,e){return function sD(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){const o=r+(i-r>>1),s=t[o<<n];if(e===s)return o<<n;s>e?i=o:r=o+1}return~(i<<n)}(t,e,1)}const nn=$s(Co("Optional"),8),Fc=$s(Co("SkipSelf"),4);function jc(t){return 128==(128&t.flags)}var Or=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Or||{});const Kf=new Map;let KF=0;const Zf="__ngContext__";function st(t,e){Nt(e)?(t[Zf]=e[Ks],function ZF(t){Kf.set(t[Ks],t)}(e)):t[Zf]=e}let Xf;function Jf(t,e){return Xf(t,e)}function ca(t){const e=t[Ie];return gt(e)?e[Ie]:e}function TD(t){return AD(t[qs])}function SD(t){return AD(t[gn])}function AD(t){for(;null!==t&&!gt(t);)t=t[gn];return t}function To(t,e,n,r,i){if(null!=r){let o,s=!1;gt(r)?o=r:Nt(r)&&(s=!0,r=r[Pe]);const a=ye(r);0===t&&null!==n?null==i?PD(e,n,a):mi(e,n,a,i||null,!0):1===t&&null!==n?mi(e,n,a,i||null,!0):2===t?function Yc(t,e,n){const r=zc(t,e);r&&function mL(t,e,n,r){t.removeChild(e,n,r)}(t,r,e,n)}(e,a,s):3===t&&e.destroyNode(a),null!=o&&function yL(t,e,n,r,i){const o=n[Nn];o!==ye(n)&&To(e,t,r,o,i);for(let a=Je;a<n.length;a++){const l=n[a];da(l[S],l,t,e,r,o)}}(e,t,o,n,i)}}function Gc(t,e,n){return t.createElement(e,n)}function ND(t,e){const n=t[lo],r=n.indexOf(e);Mw(e),n.splice(r,1)}function Wc(t,e){if(t.length<=Je)return;const n=Je+e,r=t[n];if(r){const i=r[Ys];null!==i&&i!==t&&ND(i,r),e>0&&(t[n-1][gn]=r[gn]);const o=xc(t,Je+e);!function lL(t,e){da(t,e,e[j],2,null,null),e[Pe]=null,e[ot]=null}(r[S],r);const s=o[Mn];null!==s&&s.detachView(o[S]),r[Ie]=null,r[gn]=null,r[G]&=-129}return r}function tp(t,e){if(!(256&e[G])){const n=e[j];e[Qs]&&pw(e[Qs]),e[Zs]&&pw(e[Zs]),n.destroyNode&&da(t,e,n,3,null,null),function dL(t){let e=t[qs];if(!e)return np(t[S],t);for(;e;){let n=null;if(Nt(e))n=e[qs];else{const r=e[Je];r&&(n=r)}if(!n){for(;e&&!e[gn]&&e!==t;)Nt(e)&&np(e[S],e),e=e[Ie];null===e&&(e=t),Nt(e)&&np(e[S],e),n=e&&e[gn]}e=n}}(e)}}function np(t,e){if(!(256&e[G])){e[G]&=-129,e[G]|=256,function gL(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const i=e[n[r]];if(!(i instanceof ta)){const o=n[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){const a=i[o[s]],l=o[s+1];Rn(4,a,l);try{l.call(a)}finally{Rn(5,a,l)}}else{Rn(4,i,o);try{o.call(i)}finally{Rn(5,i,o)}}}}}(t,e),function pL(t,e){const n=t.cleanup,r=e[io];if(null!==n)for(let o=0;o<n.length-1;o+=2)if("string"==typeof n[o]){const s=n[o+3];s>=0?r[s]():r[-s].unsubscribe(),o+=2}else n[o].call(r[n[o+1]]);null!==r&&(e[io]=null);const i=e[Mr];if(null!==i){e[Mr]=null;for(let o=0;o<i.length;o++)(0,i[o])()}}(t,e),1===e[S].type&&e[j].destroy();const n=e[Ys];if(null!==n&&gt(e[Ie])){n!==e[Ie]&&ND(n,e);const r=e[Mn];null!==r&&r.detachView(t)}!function XF(t){Kf.delete(t[Ks])}(e)}}function rp(t,e,n){return function RD(t,e,n){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return n[Pe];{const{componentOffset:i}=r;if(i>-1){const{encapsulation:o}=t.data[r.directiveStart+i];if(o===hn.None||o===hn.Emulated)return null}return Rt(r,n)}}(t,e.parent,n)}function mi(t,e,n,r,i){t.insertBefore(e,n,r,i)}function PD(t,e,n){t.appendChild(e,n)}function OD(t,e,n,r,i){null!==r?mi(t,e,n,r,i):PD(t,e,n)}function zc(t,e){return t.parentNode(e)}let ip,lp,Qc,FD=function kD(t,e,n){return 40&t.type?Rt(t,n):null};function qc(t,e,n,r){const i=rp(t,r,e),o=e[j],a=function xD(t,e,n){return FD(t,e,n)}(r.parent||e[ot],r,e);if(null!=i)if(Array.isArray(n))for(let l=0;l<n.length;l++)OD(o,i,n[l],a,!1);else OD(o,i,n,a,!1);void 0!==ip&&ip(o,r,e,n,i)}function ua(t,e){if(null!==e){const n=e.type;if(3&n)return Rt(e,t);if(4&n)return op(-1,t[e.index]);if(8&n){const r=e.child;if(null!==r)return ua(t,r);{const i=t[e.index];return gt(i)?op(-1,i):ye(i)}}if(32&n)return Jf(e,t)()||ye(t[e.index]);{const r=VD(t,e);return null!==r?Array.isArray(r)?r[0]:ua(ca(t[Fe]),r):ua(t,e.next)}}return null}function VD(t,e){return null!==e?t[Fe][ot].projection[e.projection]:null}function op(t,e){const n=Je+t+1;if(n<e.length){const r=e[n],i=r[S].firstChild;if(null!==i)return ua(r,i)}return e[Nn]}function sp(t,e,n,r,i,o,s){for(;null!=n;){const a=r[n.index],l=n.type;if(s&&0===e&&(a&&st(ye(a),r),n.flags|=2),32!=(32&n.flags))if(8&l)sp(t,e,n.child,r,i,o,!1),To(e,t,i,a,o);else if(32&l){const c=Jf(n,r);let u;for(;u=c();)To(e,t,i,u,o);To(e,t,i,a,o)}else 16&l?BD(t,e,r,n,i,o):To(e,t,i,a,o);n=s?n.projectionNext:n.next}}function da(t,e,n,r,i,o){sp(n,r,t.firstChild,e,i,o,!1)}function BD(t,e,n,r,i,o){const s=n[Fe],l=s[ot].projection[r.projection];if(Array.isArray(l))for(let c=0;c<l.length;c++)To(e,t,i,l[c],o);else{let c=l;const u=s[Ie];jc(r)&&(c.flags|=128),sp(t,e,c,u,i,o,!0)}}function jD(t,e,n){""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function HD(t,e,n){const{mergedAttrs:r,classes:i,styles:o}=n;null!==r&&vf(t,e,r),null!==i&&jD(t,e,i),null!==o&&function EL(t,e,n){t.setAttribute(e,"style",n)}(t,e,o)}function WD(t){return function cp(){if(void 0===Qc&&(Qc=null,ve.trustedTypes))try{Qc=ve.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Qc}()?.createScriptURL(t)||t}class zD{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${FE})`}}function xr(t){return t instanceof zD?t.changingThisBreaksApplicationSecurity:t}function ha(t,e){const n=function RL(t){return t instanceof zD&&t.getTypeName()||null}(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${FE})`)}return n===e}const kL=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;var Mo=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(Mo||{});function JD(t){const e=pa();return e?e.sanitize(Mo.URL,t)||"":ha(t,"URL")?xr(t):function up(t){return(t=String(t)).match(kL)?t:"unsafe:"+t}(B(t))}function eI(t){const e=pa();if(e)return WD(e.sanitize(Mo.RESOURCE_URL,t)||"");if(ha(t,"ResourceURL"))return WD(xr(t));throw new D(904,!1)}function pa(){const t=w();return t&&t[oo].sanitizer}class N{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=x({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const ga=new N("ENVIRONMENT_INITIALIZER"),nI=new N("INJECTOR",-1),rI=new N("INJECTOR_DEF_TYPES");class pp{get(e,n=Hs){if(n===Hs){const r=new Error(`NullInjectorError: No provider for ${We(e)}!`);throw r.name="NullInjectorError",r}return n}}function YL(...t){return{\u0275providers:iI(0,t),\u0275fromNgModule:!0}}function iI(t,...e){const n=[],r=new Set;let i;const o=s=>{n.push(s)};return wo(e,s=>{const a=s;Xc(a,o,[],r)&&(i||=[],i.push(a))}),void 0!==i&&oI(i,o),n}function oI(t,e){for(let n=0;n<t.length;n++){const{ngModule:r,providers:i}=t[n];mp(i,o=>{e(o,r)})}}function Xc(t,e,n,r){if(!(t=V(t)))return!1;let i=null,o=fc(t);const s=!o&&J(t);if(o||s){if(s&&!s.standalone)return!1;i=t}else{const l=t.ngModule;if(o=fc(l),!o)return!1;i=l}const a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){const l="function"==typeof s.dependencies?s.dependencies():s.dependencies;for(const c of l)Xc(c,e,n,r)}}else{if(!o)return!1;{if(null!=o.imports&&!a){let c;r.add(i);try{wo(o.imports,u=>{Xc(u,e,n,r)&&(c||=[],c.push(u))})}finally{}void 0!==c&&oI(c,e)}if(!a){const c=fi(i)||(()=>new i);e({provide:i,useFactory:c,deps:te},i),e({provide:rI,useValue:i,multi:!0},i),e({provide:ga,useValue:()=>O(i),multi:!0},i)}const l=o.providers;if(null!=l&&!a){const c=t;mp(l,u=>{e(u,c)})}}}return i!==t&&void 0!==t.providers}function mp(t,e){for(let n of t)sf(n)&&(n=n.\u0275providers),Array.isArray(n)?mp(n,e):e(n)}const KL=le({provide:String,useValue:le});function _p(t){return null!==t&&"object"==typeof t&&KL in t}function _i(t){return"function"==typeof t}const vp=new N("Set Injector scope."),Jc={},ZL={};let yp;function eu(){return void 0===yp&&(yp=new pp),yp}class $t{}class tu extends $t{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Ep(e,s=>this.processProvider(s)),this.records.set(nI,No(void 0,this)),i.has("environment")&&this.records.set($t,No(void 0,this));const o=this.records.get(vp);null!=o&&"string"==typeof o.value&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(rI.multi,te,Z.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const n of this._ngOnDestroyHooks)n.ngOnDestroy();const e=this._onDestroyHooks;this._onDestroyHooks=[];for(const n of e)n()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();const n=Sr(this),r=St(void 0);try{return e()}finally{Sr(n),St(r)}}get(e,n=Hs,r=Z.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(WE))return e[WE](this);r=mc(r);const o=Sr(this),s=St(void 0);try{if(!(r&Z.SkipSelf)){let l=this.records.get(e);if(void 0===l){const c=function nV(t){return"function"==typeof t||"object"==typeof t&&t instanceof N}(e)&&hc(e);l=c&&this.injectableDefInScope(c)?No(Cp(e),Jc):null,this.records.set(e,l)}if(null!=l)return this.hydrate(e,l)}return(r&Z.Self?eu():this.parent).get(e,n=r&Z.Optional&&n===Hs?null:n)}catch(a){if("NullInjectorError"===a.name){if((a[gc]=a[gc]||[]).unshift(We(e)),o)throw a;return function Zk(t,e,n,r){const i=t[gc];throw e[HE]&&i.unshift(e[HE]),t.message=function Xk(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let i=We(e);if(Array.isArray(e))i=e.map(We).join(" -> ");else if("object"==typeof e){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+("string"==typeof a?JSON.stringify(a):We(a)))}i=`{${o.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(zk,"\n  ")}`}("\n"+t.message,i,n,r),t.ngTokenPath=i,t[gc]=null,t}(a,e,"R3InjectorError",this.source)}throw a}finally{St(s),Sr(o)}}resolveInjectorInitializers(){const e=Sr(this),n=St(void 0);try{const i=this.get(ga.multi,te,Z.Self);for(const o of i)o()}finally{Sr(e),St(n)}}toString(){const e=[],n=this.records;for(const r of n.keys())e.push(We(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new D(205,!1)}processProvider(e){let n=_i(e=V(e))?e:V(e&&e.provide);const r=function JL(t){return _p(t)?No(void 0,t.useValue):No(lI(t),Jc)}(e);if(_i(e)||!0!==e.multi)this.records.get(n);else{let i=this.records.get(n);i||(i=No(void 0,Jc,!0),i.factory=()=>gf(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){return n.value===Jc&&(n.value=ZL,n.value=n.factory()),"object"==typeof n.value&&n.value&&function tV(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}injectableDefInScope(e){if(!e.providedIn)return!1;const n=V(e.providedIn);return"string"==typeof n?"any"===n||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){const n=this._onDestroyHooks.indexOf(e);-1!==n&&this._onDestroyHooks.splice(n,1)}}function Cp(t){const e=hc(t),n=null!==e?e.factory:fi(t);if(null!==n)return n;if(t instanceof N)throw new D(204,!1);if(t instanceof Function)return function XL(t){const e=t.length;if(e>0)throw function sa(t,e){const n=[];for(let r=0;r<t;r++)n.push(e);return n}(e,"?"),new D(204,!1);const n=function Hk(t){return t&&(t[pc]||t[VE])||null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new D(204,!1)}function lI(t,e,n){let r;if(_i(t)){const i=V(t);return fi(i)||Cp(i)}if(_p(t))r=()=>V(t.useValue);else if(function aI(t){return!(!t||!t.useFactory)}(t))r=()=>t.useFactory(...gf(t.deps||[]));else if(function sI(t){return!(!t||!t.useExisting)}(t))r=()=>O(V(t.useExisting));else{const i=V(t&&(t.useClass||t.provide));if(!function eV(t){return!!t.deps}(t))return fi(i)||Cp(i);r=()=>new i(...gf(t.deps))}return r}function No(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function Ep(t,e){for(const n of t)Array.isArray(n)?Ep(n,e):n&&sf(n)?Ep(n.\u0275providers,e):e(n)}const nu=new N("AppId",{providedIn:"root",factory:()=>rV}),rV="ng",cI=new N("Platform Initializer"),kr=new N("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),uI=new N("CSP nonce",{providedIn:"root",factory:()=>function Ao(){if(void 0!==lp)return lp;if(typeof document<"u")return document;throw new D(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let dI=(t,e,n)=>null;function Mp(t,e,n=!1){return dI(t,e,n)}class fV{}class pI{}class gV{resolveComponentFactory(e){throw function pV(t){const e=Error(`No component factory found for ${We(t)}.`);return e.ngComponent=t,e}(e)}}let lu=(()=>{class e{}return e.NULL=new gV,e})();function mV(){return Oo(tt(),w())}function Oo(t,e){return new Ot(Rt(t,e))}let Ot=(()=>{class e{constructor(r){this.nativeElement=r}}return e.__NG_ELEMENT_ID__=mV,e})();class mI{}let _n=(()=>{class e{constructor(){this.destroyNode=null}}return e.__NG_ELEMENT_ID__=()=>function vV(){const t=w(),n=jt(tt().index,t);return(Nt(n)?n:t)[j]}(),e})(),yV=(()=>{var t;class e{}return(t=e).\u0275prov=x({token:t,providedIn:"root",factory:()=>null}),e})();class xo{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const _I=new xo("16.2.6"),Pp={};function EI(t,e=null,n=null,r){const i=wI(t,e,n,r);return i.resolveInjectorInitializers(),i}function wI(t,e=null,n=null,r,i=new Set){const o=[n||te,YL(t)];return r=r||("object"==typeof t?void 0:We(t)),new tu(o,e||eu(),r||null,i)}let yt=(()=>{var t;class e{static create(r,i){if(Array.isArray(r))return EI({name:""},i,r,"");{const o=r.name??"";return EI({name:o},r.parent,r.providers,o)}}}return(t=e).THROW_IF_NOT_FOUND=Hs,t.NULL=new pp,t.\u0275prov=x({token:t,providedIn:"any",factory:()=>O(nI)}),t.__NG_ELEMENT_ID__=-1,e})();function xp(t){return t.ngOriginalError}class or{constructor(){this._console=console}handleError(e){const n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&xp(e);for(;n&&xp(n);)n=xp(n);return n||null}}function Fp(t){return e=>{setTimeout(t,void 0,e)}}const Oe=class TV extends Qt{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,n,r){let i=e,o=n||(()=>null),s=r;if(e&&"object"==typeof e){const l=e;i=l.next?.bind(l),o=l.error?.bind(l),s=l.complete?.bind(l)}this.__isAsync&&(o=Fp(o),i&&(i=Fp(i)),s&&(s=Fp(s)));const a=super.subscribe({next:i,error:o,complete:s});return e instanceof Tt&&e.add(a),a}};function II(...t){}class ce{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Oe(!1),this.onMicrotaskEmpty=new Oe(!1),this.onStable=new Oe(!1),this.onError=new Oe(!1),typeof Zone>"u")throw new D(908,!1);Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function SV(){const t="function"==typeof ve.requestAnimationFrame;let e=ve[t?"requestAnimationFrame":"setTimeout"],n=ve[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&n){const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r);const i=n[Zone.__symbol__("OriginalDelegate")];i&&(n=i)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:n}}().nativeRequestAnimationFrame,function NV(t){const e=()=>{!function MV(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(ve,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,Vp(t),t.isCheckStableRunning=!0,Lp(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),Vp(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,o,s,a)=>{if(function PV(t){return!(!Array.isArray(t)||1!==t.length)&&!0===t[0].data?.__ignore_ng_zone__}(a))return n.invokeTask(i,o,s,a);try{return bI(t),n.invokeTask(i,o,s,a)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||t.shouldCoalesceRunChangeDetection)&&e(),TI(t)}},onInvoke:(n,r,i,o,s,a,l)=>{try{return bI(t),n.invoke(i,o,s,a,l)}finally{t.shouldCoalesceRunChangeDetection&&e(),TI(t)}},onHasTask:(n,r,i,o)=>{n.hasTask(i,o),r===i&&("microTask"==o.change?(t._hasPendingMicrotasks=o.microTask,Vp(t),Lp(t)):"macroTask"==o.change&&(t.hasPendingMacrotasks=o.macroTask))},onHandleError:(n,r,i,o)=>(n.handleError(i,o),t.runOutsideAngular(()=>t.onError.emit(o)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!ce.isInAngularZone())throw new D(909,!1)}static assertNotInAngularZone(){if(ce.isInAngularZone())throw new D(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){const o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,AV,II,II);try{return o.runTask(s,n,r)}finally{o.cancelTask(s)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}}const AV={};function Lp(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function Vp(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function bI(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function TI(t){t._nesting--,Lp(t)}class RV{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Oe,this.onMicrotaskEmpty=new Oe,this.onStable=new Oe,this.onError=new Oe}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}}const SI=new N("",{providedIn:"root",factory:AI});function AI(){const t=M(ce);let e=!0;return function Pk(...t){const e=js(t),n=function bk(t,e){return"number"==typeof ef(t)?t.pop():e}(t,1/0),r=t;return r.length?1===r.length?Vt(r[0]):to(n)(Ge(r,e)):Sn}(new Ae(i=>{e=t.isStable&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks,t.runOutsideAngular(()=>{i.next(e),i.complete()})}),new Ae(i=>{let o;t.runOutsideAngular(()=>{o=t.onStable.subscribe(()=>{ce.assertNotInAngularZone(),queueMicrotask(()=>{!e&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks&&(e=!0,i.next(!0))})})});const s=t.onUnstable.subscribe(()=>{ce.assertInAngularZone(),e&&(e=!1,t.runOutsideAngular(()=>{i.next(!1)}))});return()=>{o.unsubscribe(),s.unsubscribe()}}).pipe(kE()))}function sr(t){return t instanceof Function?t():t}let Up=(()=>{var t;class e{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}}return(t=e).\u0275prov=x({token:t,providedIn:"root",factory:()=>new t}),e})();function va(t){for(;t;){t[G]|=64;const e=ca(t);if(Ef(t)&&!e)return t;t=e}return null}const OI=new N("",{providedIn:"root",factory:()=>!1});let uu=null;function LI(t,e){return t[e]??BI()}function VI(t,e){const n=BI();n.producerNode?.length&&(t[e]=uu,n.lView=t,uu=UI())}const HV={...lw,consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{va(t.lView)},lView:null};function UI(){return Object.create(HV)}function BI(){return uu??=UI(),uu}const H={};function rt(t){jI(ee(),w(),_t()+t,!1)}function jI(t,e,n,r){if(!r)if(3==(3&e[G])){const o=t.preOrderCheckHooks;null!==o&&Sc(e,o,n)}else{const o=t.preOrderHooks;null!==o&&Ac(e,o,0,n)}pi(n)}function E(t,e=Z.Default){const n=w();return null===n?O(t,e):Jw(tt(),n,V(t),e)}function du(t,e,n,r,i,o,s,a,l,c,u){const d=e.blueprint.slice();return d[Pe]=i,d[G]=140|r,(null!==c||t&&2048&t[G])&&(d[G]|=2048),Aw(d),d[Ie]=d[so]=t,d[ke]=n,d[oo]=s||t&&t[oo],d[j]=a||t&&t[j],d[Ar]=l||t&&t[Ar]||null,d[ot]=o,d[Ks]=function QF(){return KF++}(),d[tr]=u,d[iw]=c,d[Fe]=2==e.type?t[Fe]:d,d}function Lo(t,e,n,r,i){let o=t.data[e];if(null===o)o=function Bp(t,e,n,r,i){const o=xw(),s=Mf(),l=t.data[e]=function QV(t,e,n,r,i,o){let s=e?e.injectorIndex:-1,a=0;return function ho(){return null!==L.skipHydrationRootTNode}()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?o:o&&o.parent,n,e,r,i);return null===t.firstChild&&(t.firstChild=l),null!==o&&(s?null==o.child&&null!==l.parent&&(o.child=l):null===o.next&&(o.next=l,l.prev=o)),l}(t,e,n,r,i),function K1(){return L.lFrame.inI18n}()&&(o.flags|=32);else if(64&o.type){o.type=n,o.value=r,o.attrs=i;const s=function ea(){const t=L.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}();o.injectorIndex=null===s?-1:s.injectorIndex}return Pn(o,!0),o}function ya(t,e,n,r){if(0===n)return-1;const i=e.length;for(let o=0;o<n;o++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function $I(t,e,n,r,i){const o=LI(e,Qs),s=_t(),a=2&r;try{pi(-1),a&&e.length>X&&jI(t,e,X,!1),Rn(a?2:0,i);const c=a?o:null,u=Df(c);try{null!==c&&(c.dirty=!1),n(r,i)}finally{If(c,u)}}finally{a&&null===e[Qs]&&VI(e,Qs),pi(s),Rn(a?3:1,i)}}function jp(t,e,n){if(Cf(e)){const r=Jt(null);try{const o=e.directiveEnd;for(let s=e.directiveStart;s<o;s++){const a=t.data[s];a.contentQueries&&a.contentQueries(1,n[s],s)}}finally{Jt(r)}}}function Hp(t,e,n){Ow()&&(function r2(t,e,n,r){const i=n.directiveStart,o=n.directiveEnd;hi(n)&&function u2(t,e,n){const r=Rt(e,t),i=GI(n);let s=16;n.signals?s=4096:n.onPush&&(s=64);const a=hu(t,du(t,i,null,s,r,e,null,t[oo].rendererFactory.createRenderer(r,n),null,null,null));t[e.index]=a}(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||Nc(n,e),st(r,e);const s=n.initialInputs;for(let a=i;a<o;a++){const l=t.data[a],c=gi(e,t,a,n);st(c,e),null!==s&&d2(0,a-i,c,l,0,s),mn(l)&&(jt(n.index,e)[ke]=gi(e,t,a,n))}}(t,e,n,Rt(n,e)),64==(64&n.flags)&&KI(t,e,n))}function $p(t,e,n=Rt){const r=e.localNames;if(null!==r){let i=e.index+1;for(let o=0;o<r.length;o+=2){const s=r[o+1],a=-1===s?n(e,t):t[s];t[i++]=a}}}function GI(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=Gp(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function Gp(t,e,n,r,i,o,s,a,l,c,u){const d=X+r,h=d+i,f=function GV(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:H);return n}(d,h),p="function"==typeof c?c():c;return f[S]={type:t,blueprint:f,template:n,queries:null,viewQuery:a,declTNode:e,data:f.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:l,consts:p,incompleteFirstPass:!1,ssrId:u}}let WI=t=>null;function zI(t,e,n,r){for(let i in t)if(t.hasOwnProperty(i)){n=null===n?{}:n;const o=t[i];null===r?qI(n,e,i,o):r.hasOwnProperty(i)&&qI(n,e,r[i],o)}return n}function qI(t,e,n,r){t.hasOwnProperty(n)?t[n].push(e,r):t[n]=[e,r]}function Wp(t,e,n,r){if(Ow()){const i=null===r?null:{"":-1},o=function o2(t,e){const n=t.directiveRegistry;let r=null,i=null;if(n)for(let o=0;o<n.length;o++){const s=n[o];if(XE(e,s.selectors,!1))if(r||(r=[]),mn(s))if(null!==s.findHostDirectiveDefs){const a=[];i=i||new Map,s.findHostDirectiveDefs(s,a,i),r.unshift(...a,s),zp(t,e,a.length)}else r.unshift(s),zp(t,e,0);else i=i||new Map,s.findHostDirectiveDefs?.(s,r,i),r.push(s)}return null===r?null:[r,i]}(t,n);let s,a;null===o?s=a=null:[s,a]=o,null!==s&&YI(t,e,n,s,i,a),i&&function s2(t,e,n){if(e){const r=t.localNames=[];for(let i=0;i<e.length;i+=2){const o=n[e[i+1]];if(null==o)throw new D(-301,!1);r.push(e[i],o)}}}(n,r,i)}n.mergedAttrs=Ws(n.mergedAttrs,n.attrs)}function YI(t,e,n,r,i,o){for(let c=0;c<r.length;c++)jf(Nc(n,e),t,r[c].type);!function l2(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}(n,t.data.length,r.length);for(let c=0;c<r.length;c++){const u=r[c];u.providersResolver&&u.providersResolver(u)}let s=!1,a=!1,l=ya(t,e,r.length,null);for(let c=0;c<r.length;c++){const u=r[c];n.mergedAttrs=Ws(n.mergedAttrs,u.hostAttrs),c2(t,n,e,l,u),a2(l,u,i),null!==u.contentQueries&&(n.flags|=4),(null!==u.hostBindings||null!==u.hostAttrs||0!==u.hostVars)&&(n.flags|=64);const d=u.type.prototype;!s&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),s=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),l++}!function ZV(t,e,n){const i=e.directiveEnd,o=t.data,s=e.attrs,a=[];let l=null,c=null;for(let u=e.directiveStart;u<i;u++){const d=o[u],h=n?n.get(d):null,p=h?h.outputs:null;l=zI(d.inputs,u,l,h?h.inputs:null),c=zI(d.outputs,u,c,p);const g=null===l||null===s||ZE(e)?null:h2(l,u,s);a.push(g)}null!==l&&(l.hasOwnProperty("class")&&(e.flags|=8),l.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=l,e.outputs=c}(t,n,o)}function KI(t,e,n){const r=n.directiveStart,i=n.directiveEnd,o=n.index,s=function Z1(){return L.lFrame.currentDirectiveIndex}();try{pi(o);for(let a=r;a<i;a++){const l=t.data[a],c=e[a];Rf(a),(null!==l.hostBindings||0!==l.hostVars||null!==l.hostAttrs)&&i2(l,c)}}finally{pi(-1),Rf(s)}}function i2(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function zp(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function a2(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;mn(e)&&(n[""]=t)}}function c2(t,e,n,r,i){t.data[r]=i;const o=i.factory||(i.factory=fi(i.type)),s=new ta(o,mn(i),E);t.blueprint[r]=s,n[r]=s,function t2(t,e,n,r,i){const o=i.hostBindings;if(o){let s=t.hostBindingOpCodes;null===s&&(s=t.hostBindingOpCodes=[]);const a=~e.index;(function n2(t){let e=t.length;for(;e>0;){const n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(s)!=a&&s.push(a),s.push(n,r,o)}}(t,e,r,ya(t,n,i.hostVars,H),i)}function xn(t,e,n,r,i,o){const s=Rt(t,e);!function qp(t,e,n,r,i,o,s){if(null==o)t.removeAttribute(e,i,n);else{const a=null==s?B(o):s(o,r||"",i);t.setAttribute(e,i,a,n)}}(e[j],s,o,t.value,n,r,i)}function d2(t,e,n,r,i,o){const s=o[e];if(null!==s)for(let a=0;a<s.length;)QI(r,n,s[a++],s[a++],s[a++])}function QI(t,e,n,r,i){const o=Jt(null);try{const s=t.inputTransforms;null!==s&&s.hasOwnProperty(r)&&(i=s[r].call(e,i)),null!==t.setInput?t.setInput(e,i,n,r):e[r]=i}finally{Jt(o)}}function h2(t,e,n){let r=null,i=0;for(;i<n.length;){const o=n[i];if(0!==o)if(5!==o){if("number"==typeof o)break;if(t.hasOwnProperty(o)){null===r&&(r=[]);const s=t[o];for(let a=0;a<s.length;a+=2)if(s[a]===e){r.push(o,s[a+1],n[i+1]);break}}i+=2}else i+=2;else i+=4}return r}function ZI(t,e,n,r){return[t,!0,!1,e,null,0,r,n,null,null,null]}function XI(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const o=n[r+1];if(-1!==o){const s=t.data[o];Of(n[r]),s.contentQueries(2,e[o],o)}}}function hu(t,e){return t[qs]?t[rw][gn]=e:t[qs]=e,t[rw]=e,e}function Yp(t,e,n){Of(0);const r=Jt(null);try{e(t,n)}finally{Jt(r)}}function nb(t,e){const n=t[Ar],r=n?n.get(or,null):null;r&&r.handleError(e)}function Kp(t,e,n,r,i){for(let o=0;o<n.length;){const s=n[o++],a=n[o++];QI(t.data[s],e[s],r,a,i)}}function f2(t,e){const n=jt(e,t),r=n[S];!function p2(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(r,n);const i=n[Pe];null!==i&&null===n[tr]&&(n[tr]=Mp(i,n[Ar])),Qp(r,n,n[ke])}function Qp(t,e,n){xf(e);try{const r=t.viewQuery;null!==r&&Yp(1,r,n);const i=t.template;null!==i&&$I(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&XI(t,e),t.staticViewQueries&&Yp(2,t.viewQuery,n);const o=t.components;null!==o&&function g2(t,e){for(let n=0;n<e.length;n++)f2(t,e[n])}(e,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[G]&=-5,kf()}}let rb=(()=>{var t;class e{constructor(){this.all=new Set,this.queue=new Map}create(r,i,o){const s=typeof Zone>"u"?null:Zone.current,a=function S1(t,e,n){const r=Object.create(A1);n&&(r.consumerAllowSignalWrites=!0),r.fn=t,r.schedule=e;const i=s=>{r.cleanupFn=s};return r.ref={notify:()=>hw(r),run:()=>{if(r.dirty=!1,r.hasRun&&!fw(r))return;r.hasRun=!0;const s=Df(r);try{r.cleanupFn(),r.cleanupFn=Ew,r.fn(i)}finally{If(r,s)}},cleanup:()=>r.cleanupFn()},r.ref}(r,u=>{this.all.has(u)&&this.queue.set(u,s)},o);let l;this.all.add(a),a.notify();const c=()=>{a.cleanup(),l?.(),this.all.delete(a),this.queue.delete(a)};return l=i?.onDestroy(c),{destroy:c}}flush(){if(0!==this.queue.size)for(const[r,i]of this.queue)this.queue.delete(r),i?i.run(()=>r.run()):r.run()}get isQueueEmpty(){return 0===this.queue.size}}return(t=e).\u0275prov=x({token:t,providedIn:"root",factory:()=>new t}),e})();function fu(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(null!==e)for(let s=0;s<e.length;s++){const a=e[s];"number"==typeof a?o=a:1==o?i=nf(i,a):2==o&&(r=nf(r,a+": "+e[++s]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}function Ca(t,e,n,r,i=!1){for(;null!==n;){const o=e[n.index];null!==o&&r.push(ye(o)),gt(o)&&ib(o,r);const s=n.type;if(8&s)Ca(t,e,n.child,r);else if(32&s){const a=Jf(n,e);let l;for(;l=a();)r.push(l)}else if(16&s){const a=VD(e,n);if(Array.isArray(a))r.push(...a);else{const l=ca(e[Fe]);Ca(l[S],l,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function ib(t,e){for(let n=Je;n<t.length;n++){const r=t[n],i=r[S].firstChild;null!==i&&Ca(r[S],r,i,e)}t[Nn]!==t[Pe]&&e.push(t[Nn])}function pu(t,e,n,r=!0){const i=e[oo],o=i.rendererFactory,s=i.afterRenderEventManager;o.begin?.(),s?.begin();try{ob(t,e,t.template,n)}catch(l){throw r&&nb(e,l),l}finally{o.end?.(),i.effectManager?.flush(),s?.end()}}function ob(t,e,n,r){const i=e[G];if(256!=(256&i)){e[oo].effectManager?.flush(),xf(e);try{Aw(e),function Fw(t){return L.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==n&&$I(t,e,n,2,r);const s=3==(3&i);if(s){const c=t.preOrderCheckHooks;null!==c&&Sc(e,c,null)}else{const c=t.preOrderHooks;null!==c&&Ac(e,c,0,null),Ff(e,0)}if(function v2(t){for(let e=TD(t);null!==e;e=SD(e)){if(!e[ow])continue;const n=e[lo];for(let r=0;r<n.length;r++){V1(n[r])}}}(e),sb(e,2),null!==t.contentQueries&&XI(t,e),s){const c=t.contentCheckHooks;null!==c&&Sc(e,c)}else{const c=t.contentHooks;null!==c&&Ac(e,c,1),Ff(e,1)}!function $V(t,e){const n=t.hostBindingOpCodes;if(null===n)return;const r=LI(e,Zs);try{for(let i=0;i<n.length;i++){const o=n[i];if(o<0)pi(~o);else{const s=o,a=n[++i],l=n[++i];Q1(a,s),r.dirty=!1;const c=Df(r);try{l(2,e[s])}finally{If(r,c)}}}}finally{null===e[Zs]&&VI(e,Zs),pi(-1)}}(t,e);const a=t.components;null!==a&&lb(e,a,0);const l=t.viewQuery;if(null!==l&&Yp(2,l,r),s){const c=t.viewCheckHooks;null!==c&&Sc(e,c)}else{const c=t.viewHooks;null!==c&&Ac(e,c,2),Ff(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),e[G]&=-73,Mw(e)}finally{kf()}}}function sb(t,e){for(let n=TD(t);null!==n;n=SD(n))for(let r=Je;r<n.length;r++)ab(n[r],e)}function y2(t,e,n){ab(jt(e,t),n)}function ab(t,e){if(!function F1(t){return 128==(128&t[G])}(t))return;const n=t[S],r=t[G];if(80&r&&0===e||1024&r||2===e)ob(n,t,n.template,t[ke]);else if(t[zs]>0){sb(t,1);const i=n.components;null!==i&&lb(t,i,1)}}function lb(t,e,n){for(let r=0;r<e.length;r++)y2(t,e[r],n)}class Ea{get rootNodes(){const e=this._lView,n=e[S];return Ca(n,e,n.firstChild,[])}constructor(e,n){this._lView=e,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[ke]}set context(e){this._lView[ke]=e}get destroyed(){return 256==(256&this._lView[G])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[Ie];if(gt(e)){const n=e[8],r=n?n.indexOf(this):-1;r>-1&&(Wc(e,r),xc(n,r))}this._attachedToViewContainer=!1}tp(this._lView[S],this._lView)}onDestroy(e){!function Rw(t,e){if(256==(256&t[G]))throw new D(911,!1);null===t[Mr]&&(t[Mr]=[]),t[Mr].push(e)}(this._lView,e)}markForCheck(){va(this._cdRefInjectingView||this._lView)}detach(){this._lView[G]&=-129}reattach(){this._lView[G]|=128}detectChanges(){pu(this._lView[S],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new D(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function uL(t,e){da(t,e,e[j],2,null,null)}(this._lView[S],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new D(902,!1);this._appRef=e}}class C2 extends Ea{constructor(e){super(e),this._view=e}detectChanges(){const e=this._view;pu(e[S],e,e[ke],!1)}checkNoChanges(){}get context(){return null}}class cb extends lu{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const n=J(e);return new wa(n,this.ngModule)}}function ub(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}class w2{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=mc(r);const i=this.injector.get(e,Pp,r);return i!==Pp||n===Pp?i:this.parentInjector.get(e,n,r)}}class wa extends pI{get inputs(){const e=this.componentDef,n=e.inputTransforms,r=ub(e.inputs);if(null!==n)for(const i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return ub(this.componentDef.outputs)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=function l1(t){return t.map(a1).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){let o=(i=i||this.ngModule)instanceof $t?i:i?.injector;o&&null!==this.componentDef.getStandaloneInjector&&(o=this.componentDef.getStandaloneInjector(o)||o);const s=o?new w2(e,o):e,a=s.get(mI,null);if(null===a)throw new D(407,!1);const d={rendererFactory:a,sanitizer:s.get(yV,null),effectManager:s.get(rb,null),afterRenderEventManager:s.get(Up,null)},h=a.createRenderer(null,this.componentDef),f=this.componentDef.selectors[0][0]||"div",p=r?function WV(t,e,n,r){const o=r.get(OI,!1)||n===hn.ShadowDom,s=t.selectRootElement(e,o);return function zV(t){WI(t)}(s),s}(h,r,this.componentDef.encapsulation,s):Gc(h,f,function E2(t){const e=t.toLowerCase();return"svg"===e?"svg":"math"===e?"math":null}(f)),y=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let _=null;null!==p&&(_=Mp(p,s,!0));const R=Gp(0,null,null,1,0,null,null,null,null,null,null),P=du(null,R,null,y,null,null,d,h,s,null,_);let $,Ve;xf(P);try{const ht=this.componentDef;let Ir,li=null;ht.findHostDirectiveDefs?(Ir=[],li=new Map,ht.findHostDirectiveDefs(ht,Ir,li),Ir.push(ht)):Ir=[ht];const uE=function I2(t,e){const n=t[S],r=X;return t[r]=e,Lo(n,r,2,"#host",null)}(P,p),AZ=function b2(t,e,n,r,i,o,s){const a=i[S];!function T2(t,e,n,r){for(const i of t)e.mergedAttrs=Ws(e.mergedAttrs,i.hostAttrs);null!==e.mergedAttrs&&(fu(e,e.mergedAttrs,!0),null!==n&&HD(r,n,e))}(r,t,e,s);let l=null;null!==e&&(l=Mp(e,i[Ar]));const c=o.rendererFactory.createRenderer(e,n);let u=16;n.signals?u=4096:n.onPush&&(u=64);const d=du(i,GI(n),null,u,i[t.index],t,o,c,null,null,l);return a.firstCreatePass&&zp(a,t,r.length-1),hu(i,d),i[t.index]=d}(uE,p,ht,Ir,P,d,h);Ve=Sw(R,X),p&&function A2(t,e,n,r){if(r)vf(t,n,["ng-version",_I.full]);else{const{attrs:i,classes:o}=function c1(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let o=t[r];if("string"==typeof o)2===i?""!==o&&e.push(o,t[++r]):8===i&&n.push(o);else{if(!fn(i))break;i=o}r++}return{attrs:e,classes:n}}(e.selectors[0]);i&&vf(t,n,i),o&&o.length>0&&jD(t,n,o.join(" "))}}(h,ht,p,r),void 0!==n&&function M2(t,e,n){const r=t.projection=[];for(let i=0;i<e.length;i++){const o=n[i];r.push(null!=o?Array.from(o):null)}}(Ve,this.ngContentSelectors,n),$=function S2(t,e,n,r,i,o){const s=tt(),a=i[S],l=Rt(s,i);YI(a,i,s,n,null,r);for(let u=0;u<n.length;u++)st(gi(i,a,s.directiveStart+u,s),i);KI(a,i,s),l&&st(l,i);const c=gi(i,a,s.directiveStart+s.componentOffset,s);if(t[ke]=i[ke]=c,null!==o)for(const u of o)u(c,e);return jp(a,s,t),c}(AZ,ht,Ir,li,P,[N2]),Qp(R,P,null)}finally{kf()}return new D2(this.componentType,$,Oo(Ve,P),P,Ve)}}class D2 extends fV{constructor(e,n,r,i,o){super(),this.location=r,this._rootLView=i,this._tNode=o,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new C2(i),this.componentType=e}setInput(e,n){const r=this._tNode.inputs;let i;if(null!==r&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;const o=this._rootLView;Kp(o[S],o,i,e,n),this.previousInputValues.set(e,n),va(jt(this._tNode.index,o))}}get injector(){return new vt(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function N2(){const t=tt();Tc(w()[S],t)}function ue(t){let e=function db(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),n=!0;const r=[t];for(;e;){let i;if(mn(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new D(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);const s=t;s.inputs=gu(t.inputs),s.inputTransforms=gu(t.inputTransforms),s.declaredInputs=gu(t.declaredInputs),s.outputs=gu(t.outputs);const a=i.hostBindings;a&&x2(t,a);const l=i.viewQuery,c=i.contentQueries;if(l&&P2(t,l),c&&O2(t,c),uc(t.inputs,i.inputs),uc(t.declaredInputs,i.declaredInputs),uc(t.outputs,i.outputs),null!==i.inputTransforms&&(null===s.inputTransforms&&(s.inputTransforms={}),uc(s.inputTransforms,i.inputTransforms)),mn(i)&&i.data.animation){const u=t.data;u.animation=(u.animation||[]).concat(i.data.animation)}}const o=i.features;if(o)for(let s=0;s<o.length;s++){const a=o[s];a&&a.ngInherit&&a(t),a===ue&&(n=!1)}}e=Object.getPrototypeOf(e)}!function R2(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){const i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Ws(i.hostAttrs,n=Ws(n,i.hostAttrs))}}(r)}function gu(t){return t===An?{}:t===te?[]:t}function P2(t,e){const n=t.viewQuery;t.viewQuery=n?(r,i)=>{e(r,i),n(r,i)}:e}function O2(t,e){const n=t.contentQueries;t.contentQueries=n?(r,i,o)=>{e(r,i,o),n(r,i,o)}:e}function x2(t,e){const n=t.hostBindings;t.hostBindings=n?(r,i)=>{e(r,i),n(r,i)}:e}function gb(t){const e=t.inputConfig,n={};for(const r in e)if(e.hasOwnProperty(r)){const i=e[r];Array.isArray(i)&&i[2]&&(n[r]=i[2])}t.inputTransforms=n}function mu(t){return!!function Zp(t){return null!==t&&("function"==typeof t||"object"==typeof t)}(t)&&(Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t)}function at(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function Fn(t,e,n,r){const i=w();return at(i,go(),e)&&(ee(),xn(Me(),i,t,e,n,r)),Fn}function rg(t,e,n,r,i,o,s,a){const l=w(),c=ee(),u=t+X,d=c.firstCreatePass?function oU(t,e,n,r,i,o,s,a,l){const c=e.consts,u=Lo(e,t,4,s||null,Rr(c,a));Wp(e,n,u,Rr(c,l)),Tc(e,u);const d=u.tView=Gp(2,u,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c,null);return null!==e.queries&&(e.queries.template(e,u),d.queries=e.queries.embeddedTView(u)),u}(u,c,l,e,n,r,i,o,s):c.data[u];Pn(d,!1);const h=Ab(c,l,d,t);bc()&&qc(c,l,h,d),st(h,l),hu(l,l[u]=ZI(h,l,h,d)),Ec(d)&&Hp(c,l,d),null!=s&&$p(l,d,a)}let Ab=function Mb(t,e,n,r){return Pr(!0),e[j].createComment("")};function Eu(t){return function uo(t,e){return t[e]}(function Y1(){return L.lFrame.contextLView}(),X+t)}function on(t,e,n){const r=w();return at(r,go(),e)&&function Gt(t,e,n,r,i,o,s,a){const l=Rt(e,n);let u,c=e.inputs;!a&&null!=c&&(u=c[r])?(Kp(t,n,u,r,i),hi(e)&&function JV(t,e){const n=jt(e,t);16&n[G]||(n[G]|=64)}(n,e.index)):3&e.type&&(r=function XV(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(r),i=null!=s?s(i,e.value||"",r):i,o.setProperty(l,r,i))}(ee(),Me(),r,t,e,r[j],n,!1),on}function ig(t,e,n,r,i){const s=i?"class":"style";Kp(t,n,e.inputs[s],s,r)}function C(t,e,n,r){const i=w(),o=ee(),s=X+t,a=i[j],l=o.firstCreatePass?function cU(t,e,n,r,i,o){const s=e.consts,l=Lo(e,t,2,r,Rr(s,i));return Wp(e,n,l,Rr(s,o)),null!==l.attrs&&fu(l,l.attrs,!1),null!==l.mergedAttrs&&fu(l,l.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,l),l}(s,o,i,e,n,r):o.data[s],c=Nb(o,i,l,a,e,t);i[s]=c;const u=Ec(l);return Pn(l,!0),HD(a,c,l),32!=(32&l.flags)&&bc()&&qc(o,i,c,l),0===function B1(){return L.lFrame.elementDepthCount}()&&st(c,i),function j1(){L.lFrame.elementDepthCount++}(),u&&(Hp(o,i,l),jp(o,l,i)),null!==r&&$p(i,l),C}function v(){let t=tt();Mf()?function Nf(){L.lFrame.isParent=!1}():(t=t.parent,Pn(t,!1));const e=t;(function $1(t){return L.skipHydrationRootTNode===t})(e)&&function q1(){L.skipHydrationRootTNode=null}(),function H1(){L.lFrame.elementDepthCount--}();const n=ee();return n.firstCreatePass&&(Tc(n,t),Cf(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function lF(t){return 0!=(8&t.flags)}(e)&&ig(n,e,w(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function cF(t){return 0!=(16&t.flags)}(e)&&ig(n,e,w(),e.stylesWithoutHost,!1),v}function q(t,e,n,r){return C(t,e,n,r),v(),q}let Nb=(t,e,n,r,i,o)=>(Pr(!0),Gc(r,i,function Gw(){return L.lFrame.currentNamespace}()));function wu(){return w()}function Sa(t){return!!t&&"function"==typeof t.then}function Ob(t){return!!t&&"function"==typeof t.subscribe}function de(t,e,n,r){const i=w(),o=ee(),s=tt();return function kb(t,e,n,r,i,o,s){const a=Ec(r),c=t.firstCreatePass&&function eb(t){return t.cleanup||(t.cleanup=[])}(t),u=e[ke],d=function JI(t){return t[io]||(t[io]=[])}(e);let h=!0;if(3&r.type||s){const g=Rt(r,e),m=s?s(g):g,y=d.length,_=s?P=>s(ye(P[r.index])):r.index;let R=null;if(!s&&a&&(R=function gU(t,e,n,r){const i=t.cleanup;if(null!=i)for(let o=0;o<i.length-1;o+=2){const s=i[o];if(s===n&&i[o+1]===r){const a=e[io],l=i[o+2];return a.length>l?a[l]:null}"string"==typeof s&&(o+=2)}return null}(t,e,i,r.index)),null!==R)(R.__ngLastListenerFn__||R).__ngNextListenerFn__=o,R.__ngLastListenerFn__=o,h=!1;else{o=Lb(r,e,u,o,!1);const P=n.listen(m,i,o);d.push(o,P),c&&c.push(i,_,y,y+1)}}else o=Lb(r,e,u,o,!1);const f=r.outputs;let p;if(h&&null!==f&&(p=f[i])){const g=p.length;if(g)for(let m=0;m<g;m+=2){const $=e[p[m]][p[m+1]].subscribe(o),Ve=d.length;d.push(o,$),c&&c.push(i,r.index,Ve,-(Ve+1))}}}(o,i,i[j],s,t,e,r),de}function Fb(t,e,n,r){try{return Rn(6,e,n),!1!==n(r)}catch(i){return nb(t,i),!1}finally{Rn(7,e,n)}}function Lb(t,e,n,r,i){return function o(s){if(s===Function)return r;va(t.componentOffset>-1?jt(t.index,e):e);let l=Fb(e,n,r,s),c=o.__ngNextListenerFn__;for(;c;)l=Fb(e,n,c,s)&&l,c=c.__ngNextListenerFn__;return i&&!1===l&&s.preventDefault(),l}}function ag(t=1){return function J1(t){return(L.lFrame.contextLView=function eF(t,e){for(;t>0;)e=e[so],t--;return e}(t,L.lFrame.contextLView))[ke]}(t)}function Du(t,e){return t<<17|e<<2}function Fr(t){return t>>17&32767}function cg(t){return 2|t}function yi(t){return(131068&t)>>2}function ug(t,e){return-131069&t|e<<2}function dg(t){return 1|t}function qb(t,e,n,r,i){const o=t[n+1],s=null===e;let a=r?Fr(o):yi(o),l=!1;for(;0!==a&&(!1===l||s);){const u=t[a+1];IU(t[a],e)&&(l=!0,t[a+1]=r?dg(u):cg(u)),a=r?Fr(u):yi(u)}l&&(t[n+1]=r?cg(o):dg(o))}function IU(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&Do(t,e)>=0}function Iu(t,e){return function vn(t,e,n,r){const i=w(),o=ee(),s=function rr(t){const e=L.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}(2);o.firstUpdatePass&&function nT(t,e,n,r){const i=t.data;if(null===i[n+1]){const o=i[_t()],s=function tT(t,e){return e>=t.expandoStartIndex}(t,n);(function sT(t,e){return 0!=(t.flags&(e?8:16))})(o,r)&&null===e&&!s&&(e=!1),e=function OU(t,e,n,r){const i=function Pf(t){const e=L.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}(t);let o=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(n=Aa(n=hg(null,t,e,n,r),e.attrs,r),o=null);else{const s=e.directiveStylingLast;if(-1===s||t[s]!==i)if(n=hg(i,t,e,n,r),null===o){let l=function xU(t,e,n){const r=n?e.classBindings:e.styleBindings;if(0!==yi(r))return t[Fr(r)]}(t,e,r);void 0!==l&&Array.isArray(l)&&(l=hg(null,t,e,l[1],r),l=Aa(l,e.attrs,r),function kU(t,e,n,r){t[Fr(n?e.classBindings:e.styleBindings)]=r}(t,e,r,l))}else o=function FU(t,e,n){let r;const i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++)r=Aa(r,t[o].hostAttrs,n);return Aa(r,e.attrs,n)}(t,e,r)}return void 0!==o&&(r?e.residualClasses=o:e.residualStyles=o),n}(i,o,e,r),function wU(t,e,n,r,i,o){let s=o?e.classBindings:e.styleBindings,a=Fr(s),l=yi(s);t[r]=n;let u,c=!1;if(Array.isArray(n)?(u=n[1],(null===u||Do(n,u)>0)&&(c=!0)):u=n,i)if(0!==l){const h=Fr(t[a+1]);t[r+1]=Du(h,a),0!==h&&(t[h+1]=ug(t[h+1],r)),t[a+1]=function CU(t,e){return 131071&t|e<<17}(t[a+1],r)}else t[r+1]=Du(a,0),0!==a&&(t[a+1]=ug(t[a+1],r)),a=r;else t[r+1]=Du(l,0),0===a?a=r:t[l+1]=ug(t[l+1],r),l=r;c&&(t[r+1]=cg(t[r+1])),qb(t,u,r,!0),qb(t,u,r,!1),function DU(t,e,n,r,i){const o=i?t.residualClasses:t.residualStyles;null!=o&&"string"==typeof e&&Do(o,e)>=0&&(n[r+1]=dg(n[r+1]))}(e,u,t,r,o),s=Du(a,l),o?e.classBindings=s:e.styleBindings=s}(i,o,e,n,s,r)}}(o,t,s,r),e!==H&&at(i,s,e)&&function iT(t,e,n,r,i,o,s,a){if(!(3&e.type))return;const l=t.data,c=l[a+1],u=function EU(t){return 1==(1&t)}(c)?oT(l,e,n,i,yi(c),s):void 0;bu(u)||(bu(o)||function yU(t){return 2==(2&t)}(c)&&(o=oT(l,null,n,i,a,s)),function CL(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let o=-1===r.indexOf("-")?void 0:Or.DashCase;null==i?t.removeStyle(n,r,o):("string"==typeof i&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=Or.Important),t.setStyle(n,r,i,o))}}(r,s,Ic(_t(),n),i,o))}(o,o.data[_t()],i,i[j],t,i[s+1]=function BU(t,e){return null==t||""===t||("string"==typeof e?t+=e:"object"==typeof t&&(t=We(xr(t)))),t}(e,n),r,s)}(t,e,null,!0),Iu}function hg(t,e,n,r,i){let o=null;const s=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<s&&(o=e[a],r=Aa(r,o.hostAttrs,i),o!==t);)a++;return null!==t&&(n.directiveStylingLast=a),r}function Aa(t,e,n){const r=n?1:2;let i=-1;if(null!==e)for(let o=0;o<e.length;o++){const s=e[o];"number"==typeof s?i=s:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),Ht(t,s,!!n||e[++o]))}return void 0===t?null:t}function oT(t,e,n,r,i,o){const s=null===e;let a;for(;i>0;){const l=t[i],c=Array.isArray(l),u=c?l[1]:l,d=null===u;let h=n[i+1];h===H&&(h=d?te:void 0);let f=d?Gf(h,r):u===r?h:void 0;if(c&&!bu(f)&&(f=Gf(l,r)),bu(f)&&(a=f,s))return a;const p=t[i+1];i=s?Fr(p):yi(p)}if(null!==e){let l=o?e.residualClasses:e.residualStyles;null!=l&&(a=Gf(l,r))}return a}function bu(t){return void 0!==t}function I(t,e=""){const n=w(),r=ee(),i=t+X,o=r.firstCreatePass?Lo(r,i,1,e,null):r.data[i],s=aT(r,n,o,e,t);n[i]=s,bc()&&qc(r,n,s,o),Pn(o,!1)}let aT=(t,e,n,r,i)=>(Pr(!0),function $c(t,e){return t.createText(e)}(e[j],r));function Lr(t){return fg("",t,""),Lr}function fg(t,e,n){const r=w(),i=function Uo(t,e,n,r){return at(t,go(),n)?e+B(n)+r:H}(r,t,e,n);return i!==H&&function ar(t,e,n){const r=Ic(e,t);!function MD(t,e,n){t.setValue(e,n)}(t[j],r,n)}(r,_t(),i),fg}const Ko="en-US";let MT=Ko;function mg(t,e,n,r,i){if(t=V(t),Array.isArray(t))for(let o=0;o<t.length;o++)mg(t[o],e,n,r,i);else{const o=ee(),s=w(),a=tt();let l=_i(t)?t:V(t.provide);const c=lI(t),u=1048575&a.providerIndexes,d=a.directiveStart,h=a.providerIndexes>>20;if(_i(t)||!t.multi){const f=new ta(c,i,E),p=vg(l,e,i?u:u+h,d);-1===p?(jf(Nc(a,s),o,l),_g(o,t,e.length),e.push(l),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(f),s.push(f)):(n[p]=f,s[p]=f)}else{const f=vg(l,e,u+h,d),p=vg(l,e,u,u+h),m=p>=0&&n[p];if(i&&!m||!i&&!(f>=0&&n[f])){jf(Nc(a,s),o,l);const y=function aj(t,e,n,r,i){const o=new ta(t,n,E);return o.multi=[],o.index=e,o.componentProviders=0,eS(o,i,r&&!n),o}(i?sj:oj,n.length,i,r,c);!i&&m&&(n[p].providerFactory=y),_g(o,t,e.length,0),e.push(l),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(y),s.push(y)}else _g(o,t,f>-1?f:p,eS(n[i?p:f],c,!i&&r));!i&&r&&m&&n[p].componentProviders++}}}function _g(t,e,n,r){const i=_i(e),o=function QL(t){return!!t.useClass}(e);if(i||o){const l=(o?V(e.useClass):e).prototype.ngOnDestroy;if(l){const c=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){const u=c.indexOf(n);-1===u?c.push(n,[r,l]):c[u+1].push(r,l)}else c.push(n,l)}}}function eS(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function vg(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function oj(t,e,n,r){return yg(this.multi,[])}function sj(t,e,n,r){const i=this.multi;let o;if(this.providerFactory){const s=this.providerFactory.componentProviders,a=gi(n,n[S],this.providerFactory.index,r);o=a.slice(0,s),yg(i,o);for(let l=s;l<a.length;l++)o.push(a[l])}else o=[],yg(i,o);return o}function yg(t,e){for(let n=0;n<t.length;n++)e.push((0,t[n])());return e}function be(t,e=[]){return n=>{n.providersResolver=(r,i)=>function ij(t,e,n){const r=ee();if(r.firstCreatePass){const i=mn(t);mg(n,r.data,r.blueprint,i,!0),mg(e,r.data,r.blueprint,i,!1)}}(r,i?i(t):t,e)}}class Ei{}class tS{}class Cg extends Ei{constructor(e,n,r){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new cb(this);const i=Bt(e);this._bootstrapComponents=sr(i.bootstrap),this._r3Injector=wI(e,n,[{provide:Ei,useValue:this},{provide:lu,useValue:this.componentFactoryResolver},...r],We(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class Eg extends tS{constructor(e){super(),this.moduleType=e}create(e){return new Cg(this.moduleType,e,[])}}class nS extends Ei{constructor(e){super(),this.componentFactoryResolver=new cb(this),this.instance=null;const n=new tu([...e.providers,{provide:Ei,useValue:this},{provide:lu,useValue:this.componentFactoryResolver}],e.parent||eu(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}}function wg(t,e,n=null){return new nS({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}let uj=(()=>{var t;class e{constructor(r){this._injector=r,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(r){if(!r.standalone)return null;if(!this.cachedInjectors.has(r)){const i=iI(0,r.type),o=i.length>0?wg([i],this._injector,`Standalone[${r.type.name}]`):null;this.cachedInjectors.set(r,o)}return this.cachedInjectors.get(r)}ngOnDestroy(){try{for(const r of this.cachedInjectors.values())null!==r&&r.destroy()}finally{this.cachedInjectors.clear()}}}return(t=e).\u0275prov=x({token:t,providedIn:"environment",factory:()=>new t(O($t))}),e})();function rS(t){t.getStandaloneInjector=e=>e.get(uj).getOrCreateStandaloneInjector(t)}function Vj(t,e,n,r=!0){const i=e[S];if(function hL(t,e,n,r){const i=Je+r,o=n.length;r>0&&(n[i-1][gn]=e),r<o-Je?(e[gn]=n[i],oD(n,Je+r,e)):(n.push(e),e[gn]=null),e[Ie]=n;const s=e[Ys];null!==s&&n!==s&&function fL(t,e){const n=t[lo];e[Fe]!==e[Ie][Ie][Fe]&&(t[ow]=!0),null===n?t[lo]=[e]:n.push(e)}(s,e);const a=e[Mn];null!==a&&a.insertView(t),e[G]|=128}(i,e,t,n),r){const o=op(n,t),s=e[j],a=zc(s,t[Nn]);null!==a&&function cL(t,e,n,r,i,o){r[Pe]=i,r[ot]=e,da(t,r,n,1,i,o)}(i,t[ot],s,e,a,o)}}let lr=(()=>{class e{}return e.__NG_ELEMENT_ID__=jj,e})();const Uj=lr,Bj=class extends Uj{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){const i=function Lj(t,e,n,r){const i=e.tView,a=du(t,i,n,4096&t[G]?4096:16,null,e,null,null,null,r?.injector??null,r?.hydrationInfo??null);a[Ys]=t[e.index];const c=t[Mn];return null!==c&&(a[Mn]=c.createEmbeddedView(i)),Qp(i,a,n),a}(this._declarationLView,this._declarationTContainer,e,{injector:n,hydrationInfo:r});return new Ea(i)}};function jj(){return function Nu(t,e){return 4&t.type?new Bj(e,t,Oo(t,e)):null}(tt(),w())}let Cn=(()=>{class e{}return e.__NG_ELEMENT_ID__=qj,e})();function qj(){return function ES(t,e){let n;const r=e[t.index];return gt(r)?n=r:(n=ZI(r,e,null,t),e[t.index]=n,hu(e,n)),wS(n,e,t,r),new yS(n,t,e)}(tt(),w())}const Yj=Cn,yS=class extends Yj{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return Oo(this._hostTNode,this._hostLView)}get injector(){return new vt(this._hostTNode,this._hostLView)}get parentInjector(){const e=Rc(this._hostTNode,this._hostLView);if(Vf(e)){const n=ra(e,this._hostLView),r=na(e);return new vt(n[S].data[r+8],n)}return new vt(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const n=CS(this._lContainer);return null!==n&&n[e]||null}get length(){return this._lContainer.length-Je}createEmbeddedView(e,n,r){let i,o;"number"==typeof r?i=r:null!=r&&(i=r.index,o=r.injector);const a=e.createEmbeddedViewImpl(n||{},o,null);return this.insertImpl(a,i,false),a}createComponent(e,n,r,i,o){const s=e&&!function oa(t){return"function"==typeof t}(e);let a;if(s)a=n;else{const g=n||{};a=g.index,r=g.injector,i=g.projectableNodes,o=g.environmentInjector||g.ngModuleRef}const l=s?e:new wa(J(e)),c=r||this.parentInjector;if(!o&&null==l.ngModule){const m=(s?c:this.parentInjector).get($t,null);m&&(o=m)}J(l.componentType??{});const f=l.create(c,i,null,o);return this.insertImpl(f.hostView,a,false),f}insert(e,n){return this.insertImpl(e,n,!1)}insertImpl(e,n,r){const i=e._lView;if(function L1(t){return gt(t[Ie])}(i)){const l=this.indexOf(e);if(-1!==l)this.detach(l);else{const c=i[Ie],u=new yS(c,c[ot],c[Ie]);u.detach(u.indexOf(e))}}const s=this._adjustIndex(n),a=this._lContainer;return Vj(a,i,s,!r),e.attachToViewContainerRef(),oD(bg(a),s,e),e}move(e,n){return this.insert(e,n)}indexOf(e){const n=CS(this._lContainer);return null!==n?n.indexOf(e):-1}remove(e){const n=this._adjustIndex(e,-1),r=Wc(this._lContainer,n);r&&(xc(bg(this._lContainer),n),tp(r[S],r))}detach(e){const n=this._adjustIndex(e,-1),r=Wc(this._lContainer,n);return r&&null!=xc(bg(this._lContainer),n)?new Ea(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function CS(t){return t[8]}function bg(t){return t[8]||(t[8]=[])}let wS=function DS(t,e,n,r){if(t[Nn])return;let i;i=8&n.type?ye(r):function Kj(t,e){const n=t[j],r=n.createComment(""),i=Rt(e,t);return mi(n,zc(n,i),r,function _L(t,e){return t.nextSibling(e)}(n,i),!1),r}(e,n),t[Nn]=i};const Fg=new N("Application Initializer");let Lg=(()=>{var t;class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i}),this.appInits=M(Fg,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const r=[];for(const o of this.appInits){const s=o();if(Sa(s))r.push(s);else if(Ob(s)){const a=new Promise((l,c)=>{s.subscribe({complete:l,error:c})});r.push(a)}}const i=()=>{this.done=!0,this.resolve()};Promise.all(r).then(()=>{i()}).catch(o=>{this.reject(o)}),0===r.length&&i(),this.initialized=!0}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=x({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),YS=(()=>{var t;class e{log(r){console.log(r)}warn(r){console.warn(r)}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=x({token:t,factory:t.\u0275fac,providedIn:"platform"}),e})();const cr=new N("LocaleId",{providedIn:"root",factory:()=>M(cr,Z.Optional|Z.SkipSelf)||function TH(){return typeof $localize<"u"&&$localize.locale||Ko}()});let Ou=(()=>{var t;class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Zt(!1)}add(){this.hasPendingTasks.next(!0);const r=this.taskId++;return this.pendingTasks.add(r),r}remove(r){this.pendingTasks.delete(r),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=x({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();class MH{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}}let KS=(()=>{var t;class e{compileModuleSync(r){return new Eg(r)}compileModuleAsync(r){return Promise.resolve(this.compileModuleSync(r))}compileModuleAndAllComponentsSync(r){const i=this.compileModuleSync(r),s=sr(Bt(r).declarations).reduce((a,l)=>{const c=J(l);return c&&a.push(new wa(c)),a},[]);return new MH(i,s)}compileModuleAndAllComponentsAsync(r){return Promise.resolve(this.compileModuleAndAllComponentsSync(r))}clearCache(){}clearCacheFor(r){}getModuleId(r){}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=x({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();const JS=new N(""),ku=new N("");let Hg,Bg=(()=>{var t;class e{constructor(r,i,o){this._ngZone=r,this.registry=i,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Hg||(function KH(t){Hg=t}(o),o.addToWindow(i)),this._watchAngularEvents(),r.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{ce.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let r=this._callbacks.pop();clearTimeout(r.timeoutId),r.doneCb(this._didWork)}this._didWork=!1});else{let r=this.getPendingTasks();this._callbacks=this._callbacks.filter(i=>!i.updateCb||!i.updateCb(r)||(clearTimeout(i.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(r=>({source:r.source,creationLocation:r.creationLocation,data:r.data})):[]}addCallback(r,i,o){let s=-1;i&&i>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(a=>a.timeoutId!==s),r(this._didWork,this.getPendingTasks())},i)),this._callbacks.push({doneCb:r,timeoutId:s,updateCb:o})}whenStable(r,i,o){if(o&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(r,i,o),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(r){this.registry.registerApplication(r,this)}unregisterApplication(r){this.registry.unregisterApplication(r)}findProviders(r,i,o){return[]}}return(t=e).\u0275fac=function(r){return new(r||t)(O(ce),O(jg),O(ku))},t.\u0275prov=x({token:t,factory:t.\u0275fac}),e})(),jg=(()=>{var t;class e{constructor(){this._applications=new Map}registerApplication(r,i){this._applications.set(r,i)}unregisterApplication(r){this._applications.delete(r)}unregisterAllApplications(){this._applications.clear()}getTestability(r){return this._applications.get(r)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(r,i=!0){return Hg?.findTestabilityInTree(this,r,i)??null}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=x({token:t,factory:t.\u0275fac,providedIn:"platform"}),e})(),Vr=null;const e0=new N("AllowMultipleToken"),$g=new N("PlatformDestroyListeners"),Gg=new N("appBootstrapListener");class n0{constructor(e,n){this.name=e,this.token=n}}function o0(t,e,n=[]){const r=`Platform: ${e}`,i=new N(r);return(o=[])=>{let s=Wg();if(!s||s.injector.get(e0,!1)){const a=[...n,...o,{provide:i,useValue:!0}];t?t(a):function XH(t){if(Vr&&!Vr.get(e0,!1))throw new D(400,!1);(function t0(){!function w1(t){_w=t}(()=>{throw new D(600,!1)})})(),Vr=t;const e=t.get(a0);(function r0(t){t.get(cI,null)?.forEach(n=>n())})(t)}(function s0(t=[],e){return yt.create({name:e,providers:[{provide:vp,useValue:"platform"},{provide:$g,useValue:new Set([()=>Vr=null])},...t]})}(a,r))}return function e$(t){const e=Wg();if(!e)throw new D(401,!1);return e}()}}function Wg(){return Vr?.get(a0)??null}let a0=(()=>{var t;class e{constructor(r){this._injector=r,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(r,i){const o=function t$(t="zone.js",e){return"noop"===t?new RV:"zone.js"===t?new ce(e):t}(i?.ngZone,function l0(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}({eventCoalescing:i?.ngZoneEventCoalescing,runCoalescing:i?.ngZoneRunCoalescing}));return o.run(()=>{const s=function cj(t,e,n){return new Cg(t,e,n)}(r.moduleType,this.injector,function f0(t){return[{provide:ce,useFactory:t},{provide:ga,multi:!0,useFactory:()=>{const e=M(r$,{optional:!0});return()=>e.initialize()}},{provide:h0,useFactory:n$},{provide:SI,useFactory:AI}]}(()=>o)),a=s.injector.get(or,null);return o.runOutsideAngular(()=>{const l=o.onError.subscribe({next:c=>{a.handleError(c)}});s.onDestroy(()=>{Fu(this._modules,s),l.unsubscribe()})}),function c0(t,e,n){try{const r=n();return Sa(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(a,o,()=>{const l=s.injector.get(Lg);return l.runInitializers(),l.donePromise.then(()=>(function NT(t){Xt(t,"Expected localeId to be defined"),"string"==typeof t&&(MT=t.toLowerCase().replace(/_/g,"-"))}(s.injector.get(cr,Ko)||Ko),this._moduleDoBootstrap(s),s))})})}bootstrapModule(r,i=[]){const o=u0({},i);return function QH(t,e,n){const r=new Eg(n);return Promise.resolve(r)}(0,0,r).then(s=>this.bootstrapModuleFactory(s,o))}_moduleDoBootstrap(r){const i=r.injector.get(Xo);if(r._bootstrapComponents.length>0)r._bootstrapComponents.forEach(o=>i.bootstrap(o));else{if(!r.instance.ngDoBootstrap)throw new D(-403,!1);r.instance.ngDoBootstrap(i)}this._modules.push(r)}onDestroy(r){this._destroyListeners.push(r)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new D(404,!1);this._modules.slice().forEach(i=>i.destroy()),this._destroyListeners.forEach(i=>i());const r=this._injector.get($g,null);r&&(r.forEach(i=>i()),r.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return(t=e).\u0275fac=function(r){return new(r||t)(O(yt))},t.\u0275prov=x({token:t,factory:t.\u0275fac,providedIn:"platform"}),e})();function u0(t,e){return Array.isArray(e)?e.reduce(u0,t):{...t,...e}}let Xo=(()=>{var t;class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=M(h0),this.zoneIsStable=M(SI),this.componentTypes=[],this.components=[],this.isStable=M(Ou).hasPendingTasks.pipe(dn(r=>r?k(!1):this.zoneIsStable),function Ok(t,e=br){return t=t??xk,$e((n,r)=>{let i,o=!0;n.subscribe(Ue(r,s=>{const a=e(s);(o||!t(i,a))&&(o=!1,i=a,r.next(s))}))})}(),kE()),this._injector=M($t)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(r,i){const o=r instanceof pI;if(!this._injector.get(Lg).done)throw!o&&function ro(t){const e=J(t)||Xe(t)||pt(t);return null!==e&&e.standalone}(r),new D(405,!1);let a;a=o?r:this._injector.get(lu).resolveComponentFactory(r),this.componentTypes.push(a.componentType);const l=function ZH(t){return t.isBoundToModule}(a)?void 0:this._injector.get(Ei),u=a.create(yt.NULL,[],i||a.selector,l),d=u.location.nativeElement,h=u.injector.get(JS,null);return h?.registerApplication(d),u.onDestroy(()=>{this.detachView(u.hostView),Fu(this.components,u),h?.unregisterApplication(d)}),this._loadComponent(u),u}tick(){if(this._runningTick)throw new D(101,!1);try{this._runningTick=!0;for(let r of this._views)r.detectChanges()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1}}attachView(r){const i=r;this._views.push(i),i.attachToAppRef(this)}detachView(r){const i=r;Fu(this._views,i),i.detachFromAppRef()}_loadComponent(r){this.attachView(r.hostView),this.tick(),this.components.push(r);const i=this._injector.get(Gg,[]);i.push(...this._bootstrapListeners),i.forEach(o=>o(r))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(r=>r()),this._views.slice().forEach(r=>r.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(r){return this._destroyListeners.push(r),()=>Fu(this._destroyListeners,r)}destroy(){if(this._destroyed)throw new D(406,!1);const r=this._injector;r.destroy&&!r.destroyed&&r.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=x({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function Fu(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const h0=new N("",{providedIn:"root",factory:()=>M(or).handleError.bind(void 0)});function n$(){const t=M(ce),e=M(or);return n=>t.runOutsideAngular(()=>e.handleError(n))}let r$=(()=>{var t;class e{constructor(){this.zone=M(ce),this.applicationRef=M(Xo)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=x({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();let Lu=(()=>{class e{}return e.__NG_ELEMENT_ID__=o$,e})();function o$(t){return function s$(t,e,n){if(hi(t)&&!n){const r=jt(t.index,e);return new Ea(r,r)}return 47&t.type?new Ea(e[Fe],e):null}(tt(),w(),16==(16&t))}class _0{constructor(){}supports(e){return mu(e)}create(e){return new h$(e)}}const d$=(t,e)=>e;class h${constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||d$}forEachItem(e){let n;for(n=this._itHead;null!==n;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,o=null;for(;n||r;){const s=!r||n&&n.currentIndex<y0(r,i,o)?n:r,a=y0(s,i,o),l=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(n=n._next,null==s.previousIndex)i++;else{o||(o=[]);const c=a-i,u=l-i;if(c!=u){for(let h=0;h<c;h++){const f=h<o.length?o[h]:o[h]=0,p=f+h;u<=p&&p<c&&(o[h]=f+1)}o[s.previousIndex]=u-c}}a!==l&&e(s,a,l)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;null!==n;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;null!==n;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;null!==n;n=n._nextIdentityChange)e(n)}diff(e){if(null==e&&(e=[]),!mu(e))throw new D(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let i,o,s,n=this._itHead,r=!1;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),null!==n&&Object.is(n.trackById,s)?(r&&(n=this._verifyReinsertion(n,o,s,a)),Object.is(n.item,o)||this._addIdentityChange(n,o)):(n=this._mismatch(n,o,s,a),r=!0),n=n._next}else i=0,function j2(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[Symbol.iterator]();let r;for(;!(r=n.next()).done;)e(r.value)}}(e,a=>{s=this._trackByFn(i,a),null!==n&&Object.is(n.trackById,s)?(r&&(n=this._verifyReinsertion(n,a,s,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)):(n=this._mismatch(n,a,s,i),r=!0),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let o;return null===e?o=this._itTail:(o=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,o,i)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,o,i)):e=this._addAfter(new f$(n,r),o,i),e}_verifyReinsertion(e,n,r,i){let o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==o?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;null!==e;){const n=e._next;this._addToRemovals(this._unlink(e)),e=n}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const i=e._prevRemoved,o=e._nextRemoved;return null===i?this._removalsHead=o:i._nextRemoved=o,null===o?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){const i=null===n?this._itHead:n._next;return e._next=i,e._prev=n,null===i?this._itTail=e:i._prev=e,null===n?this._itHead=e:n._next=e,null===this._linkedRecords&&(this._linkedRecords=new v0),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const n=e._prev,r=e._next;return null===n?this._itHead=r:n._next=r,null===r?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new v0),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class f${constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class p${constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===n||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){const n=e._prevDup,r=e._nextDup;return null===n?this._head=r:n._nextDup=r,null===r?this._tail=n:r._prevDup=n,null===this._head}}class v0{constructor(){this.map=new Map}put(e){const n=e.trackById;let r=this.map.get(n);r||(r=new p$,this.map.set(n,r)),r.add(e)}get(e,n){const i=this.map.get(e);return i?i.get(e,n):null}remove(e){const n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function y0(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}function E0(){return new Bu([new _0])}let Bu=(()=>{var t;class e{constructor(r){this.factories=r}static create(r,i){if(null!=i){const o=i.factories.slice();r=r.concat(o)}return new e(r)}static extend(r){return{provide:e,useFactory:i=>e.create(r,i||E0()),deps:[[e,new Fc,new nn]]}}find(r){const i=this.factories.find(o=>o.supports(r));if(null!=i)return i;throw new D(901,!1)}}return(t=e).\u0275prov=x({token:t,providedIn:"root",factory:E0}),e})();const y$=o0(null,"core",[]);let C$=(()=>{var t;class e{constructor(r){}}return(t=e).\u0275fac=function(r){return new(r||t)(O(Xo))},t.\u0275mod=At({type:t}),t.\u0275inj=ft({}),e})();function Jo(t){return"boolean"==typeof t?t:null!=t&&"false"!==t}let Zg=null;function Ur(){return Zg}class x${}const Wt=new N("DocumentToken");let Xg=(()=>{var t;class e{historyGo(r){throw new Error("Not implemented")}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=x({token:t,factory:function(){return M(F$)},providedIn:"platform"}),e})();const k$=new N("Location Initialized");let F$=(()=>{var t;class e extends Xg{constructor(){super(),this._doc=M(Wt),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Ur().getBaseHref(this._doc)}onPopState(r){const i=Ur().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",r,!1),()=>i.removeEventListener("popstate",r)}onHashChange(r){const i=Ur().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",r,!1),()=>i.removeEventListener("hashchange",r)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(r){this._location.pathname=r}pushState(r,i,o){this._history.pushState(r,i,o)}replaceState(r,i,o){this._history.replaceState(r,i,o)}forward(){this._history.forward()}back(){this._history.back()}historyGo(r=0){this._history.go(r)}getState(){return this._history.state}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=x({token:t,factory:function(){return new t},providedIn:"platform"}),e})();function Jg(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function R0(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function ur(t){return t&&"?"!==t[0]?"?"+t:t}let Di=(()=>{var t;class e{historyGo(r){throw new Error("Not implemented")}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=x({token:t,factory:function(){return M(O0)},providedIn:"root"}),e})();const P0=new N("appBaseHref");let O0=(()=>{var t;class e extends Di{constructor(r,i){super(),this._platformLocation=r,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??M(Wt).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}prepareExternalUrl(r){return Jg(this._baseHref,r)}path(r=!1){const i=this._platformLocation.pathname+ur(this._platformLocation.search),o=this._platformLocation.hash;return o&&r?`${i}${o}`:i}pushState(r,i,o,s){const a=this.prepareExternalUrl(o+ur(s));this._platformLocation.pushState(r,i,a)}replaceState(r,i,o,s){const a=this.prepareExternalUrl(o+ur(s));this._platformLocation.replaceState(r,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}}return(t=e).\u0275fac=function(r){return new(r||t)(O(Xg),O(P0,8))},t.\u0275prov=x({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),L$=(()=>{var t;class e extends Di{constructor(r,i){super(),this._platformLocation=r,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}path(r=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(r){const i=Jg(this._baseHref,r);return i.length>0?"#"+i:i}pushState(r,i,o,s){let a=this.prepareExternalUrl(o+ur(s));0==a.length&&(a=this._platformLocation.pathname),this._platformLocation.pushState(r,i,a)}replaceState(r,i,o,s){let a=this.prepareExternalUrl(o+ur(s));0==a.length&&(a=this._platformLocation.pathname),this._platformLocation.replaceState(r,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}}return(t=e).\u0275fac=function(r){return new(r||t)(O(Xg),O(P0,8))},t.\u0275prov=x({token:t,factory:t.\u0275fac}),e})(),em=(()=>{var t;class e{constructor(r){this._subject=new Oe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=r;const i=this._locationStrategy.getBaseHref();this._basePath=function B$(t){if(new RegExp("^(https?:)?//").test(t)){const[,n]=t.split(/\/\/[^\/]+/);return n}return t}(R0(x0(i))),this._locationStrategy.onPopState(o=>{this._subject.emit({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(r=!1){return this.normalize(this._locationStrategy.path(r))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(r,i=""){return this.path()==this.normalize(r+ur(i))}normalize(r){return e.stripTrailingSlash(function U$(t,e){if(!t||!e.startsWith(t))return e;const n=e.substring(t.length);return""===n||["/",";","?","#"].includes(n[0])?n:e}(this._basePath,x0(r)))}prepareExternalUrl(r){return r&&"/"!==r[0]&&(r="/"+r),this._locationStrategy.prepareExternalUrl(r)}go(r,i="",o=null){this._locationStrategy.pushState(o,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+ur(i)),o)}replaceState(r,i="",o=null){this._locationStrategy.replaceState(o,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+ur(i)),o)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(r=0){this._locationStrategy.historyGo?.(r)}onUrlChange(r){return this._urlChangeListeners.push(r),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)})),()=>{const i=this._urlChangeListeners.indexOf(r);this._urlChangeListeners.splice(i,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(r="",i){this._urlChangeListeners.forEach(o=>o(r,i))}subscribe(r,i,o){return this._subject.subscribe({next:r,error:i,complete:o})}}return(t=e).normalizeQueryParams=ur,t.joinWithSlash=Jg,t.stripTrailingSlash=R0,t.\u0275fac=function(r){return new(r||t)(O(Di))},t.\u0275prov=x({token:t,factory:function(){return function V$(){return new em(O(Di))}()},providedIn:"root"}),e})();function x0(t){return t.replace(/\/index.html$/,"")}function $0(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const r=n.indexOf("="),[i,o]=-1==r?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}class T3{constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let z0=(()=>{var t;class e{set ngForOf(r){this._ngForOf=r,this._ngForOfDirty=!0}set ngForTrackBy(r){this._trackByFn=r}get ngForTrackBy(){return this._trackByFn}constructor(r,i,o){this._viewContainer=r,this._template=i,this._differs=o,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(r){r&&(this._template=r)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const r=this._ngForOf;!this._differ&&r&&(this._differ=this._differs.find(r).create(this.ngForTrackBy))}if(this._differ){const r=this._differ.diff(this._ngForOf);r&&this._applyChanges(r)}}_applyChanges(r){const i=this._viewContainer;r.forEachOperation((o,s,a)=>{if(null==o.previousIndex)i.createEmbeddedView(this._template,new T3(o.item,this._ngForOf,-1,-1),null===a?void 0:a);else if(null==a)i.remove(null===s?void 0:s);else if(null!==s){const l=i.get(s);i.move(l,a),q0(l,o)}});for(let o=0,s=i.length;o<s;o++){const l=i.get(o).context;l.index=o,l.count=s,l.ngForOf=this._ngForOf}r.forEachIdentityChange(o=>{q0(i.get(o.currentIndex),o)})}static ngTemplateContextGuard(r,i){return!0}}return(t=e).\u0275fac=function(r){return new(r||t)(E(Cn),E(lr),E(Bu))},t.\u0275dir=U({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),e})();function q0(t,e){t.context.$implicit=e.item}let Y0=(()=>{var t;class e{constructor(r,i){this._viewContainer=r,this._context=new S3,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(r){this._context.$implicit=this._context.ngIf=r,this._updateView()}set ngIfThen(r){K0("ngIfThen",r),this._thenTemplateRef=r,this._thenViewRef=null,this._updateView()}set ngIfElse(r){K0("ngIfElse",r),this._elseTemplateRef=r,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(r,i){return!0}}return(t=e).\u0275fac=function(r){return new(r||t)(E(Cn),E(lr))},t.\u0275dir=U({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),e})();class S3{constructor(){this.$implicit=null,this.ngIf=null}}function K0(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${We(e)}'.`)}let X3=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=At({type:t}),t.\u0275inj=ft({}),e})();function J0(t){return"server"===t}let nG=(()=>{var t;class e{}return(t=e).\u0275prov=x({token:t,providedIn:"root",factory:()=>new rG(O(Wt),window)}),e})();class rG{constructor(e,n){this.document=e,this.window=n,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const n=function iG(t,e){const n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if("function"==typeof t.createTreeWalker&&t.body&&"function"==typeof t.body.attachShadow){const r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const o=i.shadowRoot;if(o){const s=o.getElementById(e)||o.querySelector(`[name="${e}"]`);if(s)return s}i=r.nextNode()}}return null}(this.document,e);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(e){this.supportsScrolling()&&(this.window.history.scrollRestoration=e)}scrollToElement(e){const n=e.getBoundingClientRect(),r=n.left+this.window.pageXOffset,i=n.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(r-o[0],i-o[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class eA{}class SG extends x${constructor(){super(...arguments),this.supportsDOMEvents=!0}}class _m extends SG{static makeCurrent(){!function O$(t){Zg||(Zg=t)}(new _m)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return(n=n||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return"window"===n?window:"document"===n?e:"body"===n?e.body:null}getBaseHref(e){const n=function AG(){return Ha=Ha||document.querySelector("base"),Ha?Ha.getAttribute("href"):null}();return null==n?null:function MG(t){ed=ed||document.createElement("a"),ed.setAttribute("href",t);const e=ed.pathname;return"/"===e.charAt(0)?e:`/${e}`}(n)}resetBaseElement(){Ha=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return $0(document.cookie,e)}}let ed,Ha=null,RG=(()=>{var t;class e{build(){return new XMLHttpRequest}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=x({token:t,factory:t.\u0275fac}),e})();const vm=new N("EventManagerPlugins");let oA=(()=>{var t;class e{constructor(r,i){this._zone=i,this._eventNameToPlugin=new Map,r.forEach(o=>{o.manager=this}),this._plugins=r.slice().reverse()}addEventListener(r,i,o){return this._findPluginFor(i).addEventListener(r,i,o)}getZone(){return this._zone}_findPluginFor(r){let i=this._eventNameToPlugin.get(r);if(i)return i;if(i=this._plugins.find(s=>s.supports(r)),!i)throw new D(5101,!1);return this._eventNameToPlugin.set(r,i),i}}return(t=e).\u0275fac=function(r){return new(r||t)(O(vm),O(ce))},t.\u0275prov=x({token:t,factory:t.\u0275fac}),e})();class sA{constructor(e){this._doc=e}}const ym="ng-app-id";let aA=(()=>{var t;class e{constructor(r,i,o,s={}){this.doc=r,this.appId=i,this.nonce=o,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=J0(s),this.resetHostNodes()}addStyles(r){for(const i of r)1===this.changeUsageCount(i,1)&&this.onStyleAdded(i)}removeStyles(r){for(const i of r)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){const r=this.styleNodesInDOM;r&&(r.forEach(i=>i.remove()),r.clear());for(const i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(r){this.hostNodes.add(r);for(const i of this.getAllStyles())this.addStyleToHost(r,i)}removeHost(r){this.hostNodes.delete(r)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(r){for(const i of this.hostNodes)this.addStyleToHost(i,r)}onStyleRemoved(r){const i=this.styleRef;i.get(r)?.elements?.forEach(o=>o.remove()),i.delete(r)}collectServerRenderedStyles(){const r=this.doc.head?.querySelectorAll(`style[${ym}="${this.appId}"]`);if(r?.length){const i=new Map;return r.forEach(o=>{null!=o.textContent&&i.set(o.textContent,o)}),i}return null}changeUsageCount(r,i){const o=this.styleRef;if(o.has(r)){const s=o.get(r);return s.usage+=i,s.usage}return o.set(r,{usage:i,elements:[]}),i}getStyleElement(r,i){const o=this.styleNodesInDOM,s=o?.get(i);if(s?.parentNode===r)return o.delete(i),s.removeAttribute(ym),s;{const a=this.doc.createElement("style");return this.nonce&&a.setAttribute("nonce",this.nonce),a.textContent=i,this.platformIsServer&&a.setAttribute(ym,this.appId),a}}addStyleToHost(r,i){const o=this.getStyleElement(r,i);r.appendChild(o);const s=this.styleRef,a=s.get(i)?.elements;a?a.push(o):s.set(i,{elements:[o],usage:1})}resetHostNodes(){const r=this.hostNodes;r.clear(),r.add(this.doc.head)}}return(t=e).\u0275fac=function(r){return new(r||t)(O(Wt),O(nu),O(uI,8),O(kr))},t.\u0275prov=x({token:t,factory:t.\u0275fac}),e})();const Cm={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Em=/%COMP%/g,kG=new N("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function cA(t,e){return e.map(n=>n.replace(Em,t))}let uA=(()=>{var t;class e{constructor(r,i,o,s,a,l,c,u=null){this.eventManager=r,this.sharedStylesHost=i,this.appId=o,this.removeStylesOnCompDestroy=s,this.doc=a,this.platformId=l,this.ngZone=c,this.nonce=u,this.rendererByCompId=new Map,this.platformIsServer=J0(l),this.defaultRenderer=new wm(r,a,c,this.platformIsServer)}createRenderer(r,i){if(!r||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===hn.ShadowDom&&(i={...i,encapsulation:hn.Emulated});const o=this.getOrCreateRenderer(r,i);return o instanceof hA?o.applyToHost(r):o instanceof Dm&&o.applyStyles(),o}getOrCreateRenderer(r,i){const o=this.rendererByCompId;let s=o.get(i.id);if(!s){const a=this.doc,l=this.ngZone,c=this.eventManager,u=this.sharedStylesHost,d=this.removeStylesOnCompDestroy,h=this.platformIsServer;switch(i.encapsulation){case hn.Emulated:s=new hA(c,u,i,this.appId,d,a,l,h);break;case hn.ShadowDom:return new UG(c,u,r,i,a,l,this.nonce,h);default:s=new Dm(c,u,i,d,a,l,h)}o.set(i.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}}return(t=e).\u0275fac=function(r){return new(r||t)(O(oA),O(aA),O(nu),O(kG),O(Wt),O(kr),O(ce),O(uI))},t.\u0275prov=x({token:t,factory:t.\u0275fac}),e})();class wm{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(Cm[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(dA(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(dA(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r="string"==typeof e?this.doc.querySelector(e):e;if(!r)throw new D(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;const o=Cm[i];o?e.setAttributeNS(o,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){const i=Cm[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(Or.DashCase|Or.Important)?e.style.setProperty(n,r,i&Or.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&Or.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e[n]=r}setValue(e,n){e.nodeValue=n}listen(e,n,r){if("string"==typeof e&&!(e=Ur().getGlobalEventTarget(this.doc,e)))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if("__ngUnwrap__"===n)return e;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))&&n.preventDefault()}}}function dA(t){return"TEMPLATE"===t.tagName&&void 0!==t.content}class UG extends wm{constructor(e,n,r,i,o,s,a,l){super(e,o,s,l),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const c=cA(i.id,i.styles);for(const u of c){const d=document.createElement("style");a&&d.setAttribute("nonce",a),d.textContent=u,this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Dm extends wm{constructor(e,n,r,i,o,s,a,l){super(e,o,s,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=l?cA(l,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class hA extends Dm{constructor(e,n,r,i,o,s,a,l){const c=i+"-"+r.id;super(e,n,r,o,s,a,l,c),this.contentAttr=function FG(t){return"_ngcontent-%COMP%".replace(Em,t)}(c),this.hostAttr=function LG(t){return"_nghost-%COMP%".replace(Em,t)}(c)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){const r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}}let BG=(()=>{var t;class e extends sA{constructor(r){super(r)}supports(r){return!0}addEventListener(r,i,o){return r.addEventListener(i,o,!1),()=>this.removeEventListener(r,i,o)}removeEventListener(r,i,o){return r.removeEventListener(i,o)}}return(t=e).\u0275fac=function(r){return new(r||t)(O(Wt))},t.\u0275prov=x({token:t,factory:t.\u0275fac}),e})();const fA=["alt","control","meta","shift"],jG={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},HG={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let $G=(()=>{var t;class e extends sA{constructor(r){super(r)}supports(r){return null!=e.parseEventName(r)}addEventListener(r,i,o){const s=e.parseEventName(i),a=e.eventCallback(s.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Ur().onAndCancel(r,s.domEventName,a))}static parseEventName(r){const i=r.toLowerCase().split("."),o=i.shift();if(0===i.length||"keydown"!==o&&"keyup"!==o)return null;const s=e._normalizeKey(i.pop());let a="",l=i.indexOf("code");if(l>-1&&(i.splice(l,1),a="code."),fA.forEach(u=>{const d=i.indexOf(u);d>-1&&(i.splice(d,1),a+=u+".")}),a+=s,0!=i.length||0===s.length)return null;const c={};return c.domEventName=o,c.fullKey=a,c}static matchEventFullKeyCode(r,i){let o=jG[r.key]||r.key,s="";return i.indexOf("code.")>-1&&(o=r.code,s="code."),!(null==o||!o)&&(o=o.toLowerCase()," "===o?o="space":"."===o&&(o="dot"),fA.forEach(a=>{a!==o&&(0,HG[a])(r)&&(s+=a+".")}),s+=o,s===i)}static eventCallback(r,i,o){return s=>{e.matchEventFullKeyCode(s,r)&&o.runGuarded(()=>i(s))}}static _normalizeKey(r){return"esc"===r?"escape":r}}return(t=e).\u0275fac=function(r){return new(r||t)(O(Wt))},t.\u0275prov=x({token:t,factory:t.\u0275fac}),e})();const gA=[{provide:kr,useValue:"browser"},{provide:cI,useValue:function GG(){_m.makeCurrent()},multi:!0},{provide:Wt,useFactory:function zG(){return function bL(t){lp=t}(document),document},deps:[]}],qG=o0(y$,"browser",gA),YG=new N(""),mA=[{provide:ku,useClass:class NG{addToWindow(e){ve.getAngularTestability=(r,i=!0)=>{const o=e.findTestabilityInTree(r,i);if(null==o)throw new D(5103,!1);return o},ve.getAllAngularTestabilities=()=>e.getAllTestabilities(),ve.getAllAngularRootElements=()=>e.getAllRootElements(),ve.frameworkStabilizers||(ve.frameworkStabilizers=[]),ve.frameworkStabilizers.push(r=>{const i=ve.getAllAngularTestabilities();let o=i.length,s=!1;const a=function(l){s=s||l,o--,0==o&&r(s)};i.forEach(l=>{l.whenStable(a)})})}findTestabilityInTree(e,n,r){return null==n?null:e.getTestability(n)??(r?Ur().isShadowRoot(n)?this.findTestabilityInTree(e,n.host,!0):this.findTestabilityInTree(e,n.parentElement,!0):null)}},deps:[]},{provide:JS,useClass:Bg,deps:[ce,jg,ku]},{provide:Bg,useClass:Bg,deps:[ce,jg,ku]}],_A=[{provide:vp,useValue:"root"},{provide:or,useFactory:function WG(){return new or},deps:[]},{provide:vm,useClass:BG,multi:!0,deps:[Wt,ce,kr]},{provide:vm,useClass:$G,multi:!0,deps:[Wt]},uA,aA,oA,{provide:mI,useExisting:uA},{provide:eA,useClass:RG,deps:[]},[]];let KG=(()=>{var t;class e{constructor(r){}static withServerTransition(r){return{ngModule:e,providers:[{provide:nu,useValue:r.appId}]}}}return(t=e).\u0275fac=function(r){return new(r||t)(O(YG,12))},t.\u0275mod=At({type:t}),t.\u0275inj=ft({providers:[..._A,...mA],imports:[X3,C$]}),e})(),vA=(()=>{var t;class e{constructor(r){this._doc=r}getTitle(){return this._doc.title}setTitle(r){this._doc.title=r||""}}return(t=e).\u0275fac=function(r){return new(r||t)(O(Wt))},t.\u0275prov=x({token:t,factory:function(r){let i=null;return i=r?new r:function ZG(){return new vA(O(Wt))}(),i},providedIn:"root"}),e})();typeof window<"u"&&window;const{isArray:rW}=Array,{getPrototypeOf:iW,prototype:oW,keys:sW}=Object;function wA(t){if(1===t.length){const e=t[0];if(rW(e))return{args:e,keys:null};if(function aW(t){return t&&"object"==typeof t&&iW(t)===oW}(e)){const n=sW(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}const{isArray:lW}=Array;function DA(t){return re(e=>function cW(t,e){return lW(e)?t(...e):t(e)}(t,e))}function IA(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function bm(...t){const e=js(t),n=OE(t),{args:r,keys:i}=wA(t);if(0===r.length)return Ge([],e);const o=new Ae(function uW(t,e,n=br){return r=>{bA(e,()=>{const{length:i}=t,o=new Array(i);let s=i,a=i;for(let l=0;l<i;l++)bA(e,()=>{const c=Ge(t[l],e);let u=!1;c.subscribe(Ue(r,d=>{o[l]=d,u||(u=!0,a--),a||r.next(n(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}(r,e,i?s=>IA(i,s):br));return n?o.pipe(DA(n)):o}function bA(t,e,n){t?Xn(n,t,e):e()}const td=Us(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function Tm(...t){return function dW(){return to(1)}()(Ge(t,js(t)))}function TA(t){return new Ae(e=>{Vt(t()).subscribe(e)})}function $a(t,e){const n=fe(t)?t:()=>t,r=i=>i.error(n());return new Ae(e?i=>e.schedule(r,0,i):r)}function Sm(){return $e((t,e)=>{let n=null;t._refCount++;const r=Ue(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount)return void(n=null);const i=t._connection,o=n;n=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}class SA extends Ae{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,vE(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Tt;const n=this.getSubject();e.add(this.source.subscribe(Ue(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Tt.EMPTY)}return e}refCount(){return Sm()(this)}}function ts(t){return t<=0?()=>Sn:$e((e,n)=>{let r=0;e.subscribe(Ue(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function fr(t,e){return $e((n,r)=>{let i=0;n.subscribe(Ue(r,o=>t.call(e,o,i++)&&r.next(o)))})}function nd(t){return $e((e,n)=>{let r=!1;e.subscribe(Ue(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function AA(t=fW){return $e((e,n)=>{let r=!1;e.subscribe(Ue(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function fW(){return new td}function Ii(t,e){const n=arguments.length>=2;return r=>r.pipe(t?fr((i,o)=>t(i,o,r)):br,ts(1),n?nd(e):AA(()=>new td))}function ns(t,e){return fe(e)?Ze(t,e,1):Ze(t,1)}function it(t,e,n){const r=fe(t)||e||n?{next:t,error:e,complete:n}:t;return r?$e((i,o)=>{var s;null===(s=r.subscribe)||void 0===s||s.call(r);let a=!0;i.subscribe(Ue(o,l=>{var c;null===(c=r.next)||void 0===c||c.call(r,l),o.next(l)},()=>{var l;a=!1,null===(l=r.complete)||void 0===l||l.call(r),o.complete()},l=>{var c;a=!1,null===(c=r.error)||void 0===c||c.call(r,l),o.error(l)},()=>{var l,c;a&&(null===(l=r.unsubscribe)||void 0===l||l.call(r)),null===(c=r.finalize)||void 0===c||c.call(r)}))}):br}function bi(t){return $e((e,n)=>{let o,r=null,i=!1;r=e.subscribe(Ue(n,void 0,void 0,s=>{o=Vt(t(s,bi(t)(e))),r?(r.unsubscribe(),r=null,o.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(n))})}function Am(t){return t<=0?()=>Sn:$e((e,n)=>{let r=[];e.subscribe(Ue(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(const i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function Ga(t){return $e((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}const z="primary",Wa=Symbol("RouteTitle");class yW{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}}function rs(t){return new yW(t)}function CW(t,e,n){const r=n.path.split("/");if(r.length>t.length||"full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let o=0;o<r.length;o++){const s=r[o],a=t[o];if(s.startsWith(":"))i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function Un(t,e){const n=t?Object.keys(t):void 0,r=e?Object.keys(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!MA(t[i],e[i]))return!1;return!0}function MA(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),r=[...e].sort();return n.every((i,o)=>r[o]===i)}return t===e}function NA(t){return t.length>0?t[t.length-1]:null}function jr(t){return function nW(t){return!!t&&(t instanceof Ae||fe(t.lift)&&fe(t.subscribe))}(t)?t:Sa(t)?Ge(Promise.resolve(t)):k(t)}const wW={exact:function OA(t,e,n){if(!Ti(t.segments,e.segments)||!rd(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!t.children[r]||!OA(t.children[r],e.children[r],n))return!1;return!0},subset:xA},RA={exact:function DW(t,e){return Un(t,e)},subset:function IW(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>MA(t[n],e[n]))},ignored:()=>!0};function PA(t,e,n){return wW[n.paths](t.root,e.root,n.matrixParams)&&RA[n.queryParams](t.queryParams,e.queryParams)&&!("exact"===n.fragment&&t.fragment!==e.fragment)}function xA(t,e,n){return kA(t,e,e.segments,n)}function kA(t,e,n,r){if(t.segments.length>n.length){const i=t.segments.slice(0,n.length);return!(!Ti(i,n)||e.hasChildren()||!rd(i,n,r))}if(t.segments.length===n.length){if(!Ti(t.segments,n)||!rd(t.segments,n,r))return!1;for(const i in e.children)if(!t.children[i]||!xA(t.children[i],e.children[i],r))return!1;return!0}{const i=n.slice(0,t.segments.length),o=n.slice(t.segments.length);return!!(Ti(t.segments,i)&&rd(t.segments,i,r)&&t.children[z])&&kA(t.children[z],e,o,r)}}function rd(t,e,n){return e.every((r,i)=>RA[n](t[i].parameters,r.parameters))}class is{constructor(e=new he([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=rs(this.queryParams)),this._queryParamMap}toString(){return SW.serialize(this)}}class he{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return id(this)}}class za{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap||(this._parameterMap=rs(this.parameters)),this._parameterMap}toString(){return VA(this)}}function Ti(t,e){return t.length===e.length&&t.every((n,r)=>n.path===e[r].path)}let qa=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=x({token:t,factory:function(){return new Mm},providedIn:"root"}),e})();class Mm{parse(e){const n=new VW(e);return new is(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){const n=`/${Ya(e.root,!0)}`,r=function NW(t){const e=Object.keys(t).map(n=>{const r=t[n];return Array.isArray(r)?r.map(i=>`${od(n)}=${od(i)}`).join("&"):`${od(n)}=${od(r)}`}).filter(n=>!!n);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${n}${r}${"string"==typeof e.fragment?`#${function AW(t){return encodeURI(t)}(e.fragment)}`:""}`}}const SW=new Mm;function id(t){return t.segments.map(e=>VA(e)).join("/")}function Ya(t,e){if(!t.hasChildren())return id(t);if(e){const n=t.children[z]?Ya(t.children[z],!1):"",r=[];return Object.entries(t.children).forEach(([i,o])=>{i!==z&&r.push(`${i}:${Ya(o,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}{const n=function TW(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===z&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==z&&(n=n.concat(e(i,r)))}),n}(t,(r,i)=>i===z?[Ya(t.children[z],!1)]:[`${i}:${Ya(r,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children[z]?`${id(t)}/${n[0]}`:`${id(t)}/(${n.join("//")})`}}function FA(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function od(t){return FA(t).replace(/%3B/gi,";")}function Nm(t){return FA(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function sd(t){return decodeURIComponent(t)}function LA(t){return sd(t.replace(/\+/g,"%20"))}function VA(t){return`${Nm(t.path)}${function MW(t){return Object.keys(t).map(e=>`;${Nm(e)}=${Nm(t[e])}`).join("")}(t.parameters)}`}const RW=/^[^\/()?;#]+/;function Rm(t){const e=t.match(RW);return e?e[0]:""}const PW=/^[^\/()?;=#]+/,xW=/^[^=?&#]+/,FW=/^[^&#]+/;class VW{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new he([],{}):new he([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[z]=new he(e,n)),r}parseSegment(){const e=Rm(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new D(4009,!1);return this.capture(e),new za(sd(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const n=function OW(t){const e=t.match(PW);return e?e[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const i=Rm(this.remaining);i&&(r=i,this.capture(r))}e[sd(n)]=sd(r)}parseQueryParam(e){const n=function kW(t){const e=t.match(xW);return e?e[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const s=function LW(t){const e=t.match(FW);return e?e[0]:""}(this.remaining);s&&(r=s,this.capture(r))}const i=LA(n),o=LA(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){const n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=Rm(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new D(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=z);const s=this.parseChildren();n[o]=1===Object.keys(s).length?s[z]:new he([],s),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new D(4011,!1)}}function UA(t){return t.segments.length>0?new he([],{[z]:t}):t}function BA(t){const e={};for(const r of Object.keys(t.children)){const o=BA(t.children[r]);if(r===z&&0===o.segments.length&&o.hasChildren())for(const[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}return function UW(t){if(1===t.numberOfChildren&&t.children[z]){const e=t.children[z];return new he(t.segments.concat(e.segments),e.children)}return t}(new he(t.segments,e))}function Si(t){return t instanceof is}function jA(t){let e;const i=UA(function n(o){const s={};for(const l of o.children){const c=n(l);s[l.outlet]=c}const a=new he(o.url,s);return o===t&&(e=a),a}(t.root));return e??i}function HA(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(0===e.length)return Pm(i,i,i,n,r);const o=function jW(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new GA(!0,0,t);let e=0,n=!1;const r=t.reduce((i,o,s)=>{if("object"==typeof o&&null!=o){if(o.outlets){const a={};return Object.entries(o.outlets).forEach(([l,c])=>{a[l]="string"==typeof c?c.split("/"):c}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return"string"!=typeof o?[...i,o]:0===s?(o.split("/").forEach((a,l)=>{0==l&&"."===a||(0==l&&""===a?n=!0:".."===a?e++:""!=a&&i.push(a))}),i):[...i,o]},[]);return new GA(n,e,r)}(e);if(o.toRoot())return Pm(i,i,new he([],{}),n,r);const s=function HW(t,e,n){if(t.isAbsolute)return new ld(e,!0,0);if(!n)return new ld(e,!1,NaN);if(null===n.parent)return new ld(n,!0,0);const r=ad(t.commands[0])?0:1;return function $W(t,e,n){let r=t,i=e,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new D(4005,!1);i=r.segments.length}return new ld(r,!1,i-o)}(n,n.segments.length-1+r,t.numberOfDoubleDots)}(o,i,t),a=s.processChildren?Qa(s.segmentGroup,s.index,o.commands):WA(s.segmentGroup,s.index,o.commands);return Pm(i,s.segmentGroup,a,n,r)}function ad(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function Ka(t){return"object"==typeof t&&null!=t&&t.outlets}function Pm(t,e,n,r,i){let s,o={};r&&Object.entries(r).forEach(([l,c])=>{o[l]=Array.isArray(c)?c.map(u=>`${u}`):`${c}`}),s=t===e?n:$A(t,e,n);const a=UA(BA(s));return new is(a,o,i)}function $A(t,e,n){const r={};return Object.entries(t.children).forEach(([i,o])=>{r[i]=o===e?n:$A(o,e,n)}),new he(t.segments,r)}class GA{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&ad(r[0]))throw new D(4003,!1);const i=r.find(Ka);if(i&&i!==NA(r))throw new D(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class ld{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}}function WA(t,e,n){if(t||(t=new he([],{})),0===t.segments.length&&t.hasChildren())return Qa(t,e,n);const r=function WW(t,e,n){let r=0,i=e;const o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return o;const s=t.segments[i],a=n[r];if(Ka(a))break;const l=`${a}`,c=r<n.length-1?n[r+1]:null;if(i>0&&void 0===l)break;if(l&&c&&"object"==typeof c&&void 0===c.outlets){if(!qA(l,c,s))return o;r+=2}else{if(!qA(l,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const o=new he(t.segments.slice(0,r.pathIndex),{});return o.children[z]=new he(t.segments.slice(r.pathIndex),t.children),Qa(o,0,i)}return r.match&&0===i.length?new he(t.segments,{}):r.match&&!t.hasChildren()?Om(t,e,n):r.match?Qa(t,0,i):Om(t,e,n)}function Qa(t,e,n){if(0===n.length)return new he(t.segments,{});{const r=function GW(t){return Ka(t[0])?t[0].outlets:{[z]:t}}(n),i={};if(Object.keys(r).some(o=>o!==z)&&t.children[z]&&1===t.numberOfChildren&&0===t.children[z].segments.length){const o=Qa(t.children[z],e,n);return new he(t.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{"string"==typeof s&&(s=[s]),null!==s&&(i[o]=WA(t.children[o],e,s))}),Object.entries(t.children).forEach(([o,s])=>{void 0===r[o]&&(i[o]=s)}),new he(t.segments,i)}}function Om(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){const o=n[i];if(Ka(o)){const l=zW(o.outlets);return new he(r,l)}if(0===i&&ad(n[0])){r.push(new za(t.segments[e].path,zA(n[0]))),i++;continue}const s=Ka(o)?o.outlets[z]:`${o}`,a=i<n.length-1?n[i+1]:null;s&&a&&ad(a)?(r.push(new za(s,zA(a))),i+=2):(r.push(new za(s,{})),i++)}return new he(r,{})}function zW(t){const e={};return Object.entries(t).forEach(([n,r])=>{"string"==typeof r&&(r=[r]),null!==r&&(e[n]=Om(new he([],{}),0,r))}),e}function zA(t){const e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function qA(t,e,n){return t==n.path&&Un(e,n.parameters)}const Za="imperative";class Bn{constructor(e,n){this.id=e,this.url=n}}class cd extends Bn{constructor(e,n,r="imperative",i=null){super(e,n),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Hr extends Bn{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Xa extends Bn{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class os extends Bn{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=16}}class ud extends Bn{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class YA extends Bn{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class qW extends Bn{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class YW extends Bn{constructor(e,n,r,i,o){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class KW extends Bn{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class QW extends Bn{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ZW{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class XW{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class JW{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ez{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class tz{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class nz{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class KA{constructor(e,n,r){this.routerEvent=e,this.position=n,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class xm{}class km{constructor(e){this.url=e}}class rz{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Ja,this.attachRef=null}}let Ja=(()=>{var t;class e{constructor(){this.contexts=new Map}onChildOutletCreated(r,i){const o=this.getOrCreateContext(r);o.outlet=i,this.contexts.set(r,o)}onChildOutletDestroyed(r){const i=this.getContext(r);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){const r=this.contexts;return this.contexts=new Map,r}onOutletReAttached(r){this.contexts=r}getOrCreateContext(r){let i=this.getContext(r);return i||(i=new rz,this.contexts.set(r,i)),i}getContext(r){return this.contexts.get(r)||null}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=x({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();class QA{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){const n=Fm(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){const n=Fm(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){const n=Lm(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return Lm(e,this._root).map(n=>n.value)}}function Fm(t,e){if(t===e.value)return e;for(const n of e.children){const r=Fm(t,n);if(r)return r}return null}function Lm(t,e){if(t===e.value)return[e];for(const n of e.children){const r=Lm(t,n);if(r.length)return r.unshift(e),r}return[]}class pr{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}}function ss(t){const e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}class ZA extends QA{constructor(e,n){super(e),this.snapshot=n,Vm(this,e)}toString(){return this.snapshot.toString()}}function XA(t,e){const n=function iz(t,e){const s=new dd([],{},{},"",{},z,e,null,{});return new eM("",new pr(s,[]))}(0,e),r=new Zt([new za("",{})]),i=new Zt({}),o=new Zt({}),s=new Zt({}),a=new Zt(""),l=new Ai(r,i,s,a,o,z,e,n.root);return l.snapshot=n.root,new ZA(new pr(l,[]),n)}class Ai{constructor(e,n,r,i,o,s,a,l){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(re(c=>c[Wa]))??k(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(re(e=>rs(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(re(e=>rs(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function JA(t,e="emptyOnly"){const n=t.pathFromRoot;let r=0;if("always"!==e)for(r=n.length-1;r>=1;){const i=n[r],o=n[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(o.component)break;r--}}return function oz(t){return t.reduce((e,n)=>({params:{...e.params,...n.params},data:{...e.data,...n.data},resolve:{...n.data,...e.resolve,...n.routeConfig?.data,...n._resolvedData}}),{params:{},data:{},resolve:{}})}(n.slice(r))}class dd{get title(){return this.data?.[Wa]}constructor(e,n,r,i,o,s,a,l,c){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=l,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=rs(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=rs(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class eM extends QA{constructor(e,n){super(n),this.url=e,Vm(this,n)}toString(){return tM(this._root)}}function Vm(t,e){e.value._routerState=t,e.children.forEach(n=>Vm(t,n))}function tM(t){const e=t.children.length>0?` { ${t.children.map(tM).join(", ")} } `:"";return`${t.value}${e}`}function Um(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,Un(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),Un(e.params,n.params)||t.paramsSubject.next(n.params),function EW(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!Un(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.urlSubject.next(n.url),Un(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function Bm(t,e){const n=Un(t.params,e.params)&&function bW(t,e){return Ti(t,e)&&t.every((n,r)=>Un(n.parameters,e[r].parameters))}(t.url,e.url);return n&&!(!t.parent!=!e.parent)&&(!t.parent||Bm(t.parent,e.parent))}let jm=(()=>{var t;class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=z,this.activateEvents=new Oe,this.deactivateEvents=new Oe,this.attachEvents=new Oe,this.detachEvents=new Oe,this.parentContexts=M(Ja),this.location=M(Cn),this.changeDetector=M(Lu),this.environmentInjector=M($t),this.inputBinder=M(hd,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(r){if(r.name){const{firstChange:i,previousValue:o}=r.name;if(i)return;this.isTrackedInParentContexts(o)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(o)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(r){return this.parentContexts.getContext(r)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const r=this.parentContexts.getContext(this.name);r?.route&&(r.attachRef?this.attach(r.attachRef,r.route):this.activateWith(r.route,r.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new D(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new D(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new D(4012,!1);this.location.detach();const r=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(r.instance),r}attach(r,i){this.activated=r,this._activatedRoute=i,this.location.insert(r.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(r.instance)}deactivate(){if(this.activated){const r=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(r)}}activateWith(r,i){if(this.isActivated)throw new D(4013,!1);this._activatedRoute=r;const o=this.location,a=r.snapshot.component,l=this.parentContexts.getOrCreateContext(this.name).children,c=new sz(r,l,o.injector);this.activated=o.createComponent(a,{index:o.length,injector:c,environmentInjector:i??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275dir=U({type:t,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[en]}),e})();class sz{constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===Ai?this.route:e===Ja?this.childContexts:this.parent.get(e,n)}}const hd=new N("");let nM=(()=>{var t;class e{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(r){this.unsubscribeFromRouteData(r),this.subscribeToRouteData(r)}unsubscribeFromRouteData(r){this.outletDataSubscriptions.get(r)?.unsubscribe(),this.outletDataSubscriptions.delete(r)}subscribeToRouteData(r){const{activatedRoute:i}=r,o=bm([i.queryParams,i.params,i.data]).pipe(dn(([s,a,l],c)=>(l={...s,...a,...l},0===c?k(l):Promise.resolve(l)))).subscribe(s=>{if(!r.isActivated||!r.activatedComponentRef||r.activatedRoute!==i||null===i.component)return void this.unsubscribeFromRouteData(r);const a=function P$(t){const e=J(t);if(!e)return null;const n=new wa(e);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}(i.component);if(a)for(const{templateName:l}of a.inputs)r.activatedComponentRef.setInput(l,s[l]);else this.unsubscribeFromRouteData(r)});this.outletDataSubscriptions.set(r,o)}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=x({token:t,factory:t.\u0275fac}),e})();function el(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=e.value;const i=function lz(t,e,n){return e.children.map(r=>{for(const i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return el(t,r,i);return el(t,r)})}(t,e,n);return new pr(r,i)}{if(t.shouldAttach(e.value)){const o=t.retrieve(e.value);if(null!==o){const s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>el(t,a)),s}}const r=function cz(t){return new Ai(new Zt(t.url),new Zt(t.params),new Zt(t.queryParams),new Zt(t.fragment),new Zt(t.data),t.outlet,t.component,t)}(e.value),i=e.children.map(o=>el(t,o));return new pr(r,i)}}const Hm="ngNavigationCancelingError";function rM(t,e){const{redirectTo:n,navigationBehaviorOptions:r}=Si(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=iM(!1,0,e);return i.url=n,i.navigationBehaviorOptions=r,i}function iM(t,e,n){const r=new Error("NavigationCancelingError: "+(t||""));return r[Hm]=!0,r.cancellationCode=e,n&&(r.url=n),r}function oM(t){return t&&t[Hm]}let sM=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=pn({type:t,selectors:[["ng-component"]],standalone:!0,features:[rS],decls:1,vars:0,template:function(r,i){1&r&&q(0,"router-outlet")},dependencies:[jm],encapsulation:2}),e})();function $m(t){const e=t.children&&t.children.map($m),n=e?{...t,children:e}:{...t};return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==z&&(n.component=sM),n}function Dn(t){return t.outlet||z}function tl(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){const n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}class _z{constructor(e,n,r,i,o){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){const n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),Um(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){const i=ss(n);e.children.forEach(o=>{const s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,n,r){const i=e.value,o=n?n.value:null;if(i===o)if(i.component){const s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,n,s.children)}else this.deactivateChildRoutes(e,n,r);else o&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){const r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=ss(e);for(const s of Object.keys(o))this.deactivateRouteAndItsChildren(o[s],i);if(r&&r.outlet){const s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){const r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=ss(e);for(const s of Object.keys(o))this.deactivateRouteAndItsChildren(o[s],i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){const i=ss(n);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new nz(o.value.snapshot))}),e.children.length&&this.forwardEvent(new ez(e.value.snapshot))}activateRoutes(e,n,r){const i=e.value,o=n?n.value:null;if(Um(i),i===o)if(i.component){const s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,s.children)}else this.activateChildRoutes(e,n,r);else if(i.component){const s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),Um(a.route.value),this.activateChildRoutes(e,null,s.children)}else{const a=tl(i.snapshot);s.attachRef=null,s.route=i,s.injector=a,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}}else this.activateChildRoutes(e,null,r)}}class aM{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class fd{constructor(e,n){this.component=e,this.route=n}}function vz(t,e,n){const r=t._root;return nl(r,e?e._root:null,n,[r.value])}function as(t,e){const n=Symbol(),r=e.get(t,n);return r===n?"function"!=typeof t||function jk(t){return null!==hc(t)}(t)?e.get(t):t:r}function nl(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=ss(e);return t.children.forEach(s=>{(function Cz(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=t.value,s=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){const l=function Ez(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!Ti(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Ti(t.url,e.url)||!Un(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Bm(t,e)||!Un(t.queryParams,e.queryParams);default:return!Bm(t,e)}}(s,o,o.routeConfig.runGuardsAndResolvers);l?i.canActivateChecks.push(new aM(r)):(o.data=s.data,o._resolvedData=s._resolvedData),nl(t,e,o.component?a?a.children:null:n,r,i),l&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new fd(a.outlet.component,s))}else s&&rl(e,a,i),i.canActivateChecks.push(new aM(r)),nl(t,null,o.component?a?a.children:null:n,r,i)})(s,o[s.value.outlet],n,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>rl(a,n.getContext(s),i)),i}function rl(t,e,n){const r=ss(t),i=t.value;Object.entries(r).forEach(([o,s])=>{rl(s,i.component?e?e.children.getContext(o):null:e,n)}),n.canDeactivateChecks.push(new fd(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function il(t){return"function"==typeof t}function lM(t){return t instanceof td||"EmptyError"===t?.name}const pd=Symbol("INITIAL_VALUE");function ls(){return dn(t=>bm(t.map(e=>e.pipe(ts(1),function hW(...t){const e=js(t);return $e((n,r)=>{(e?Tm(t,n,e):Tm(t,n)).subscribe(r)})}(pd)))).pipe(re(e=>{for(const n of e)if(!0!==n){if(n===pd)return pd;if(!1===n||n instanceof is)return n}return!0}),fr(e=>e!==pd),ts(1)))}function cM(t){return function Gx(...t){return gE(t)}(it(e=>{if(Si(e))throw rM(0,e)}),re(e=>!0===e))}class gd{constructor(e){this.segmentGroup=e||null}}class uM{constructor(e){this.urlTree=e}}function cs(t){return $a(new gd(t))}function dM(t){return $a(new uM(t))}class jz{constructor(e,n){this.urlSerializer=e,this.urlTree=n}noMatchError(e){return new D(4002,!1)}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return k(r);if(i.numberOfChildren>1||!i.children[z])return $a(new D(4e3,!1));i=i.children[z]}}applyRedirectCommands(e,n,r){return this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r)}applyRedirectCreateUrlTree(e,n,r,i){const o=this.createSegmentGroup(e,n.root,r,i);return new is(o,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){const r={};return Object.entries(e).forEach(([i,o])=>{if("string"==typeof o&&o.startsWith(":")){const a=o.substring(1);r[i]=n[a]}else r[i]=o}),r}createSegmentGroup(e,n,r,i){const o=this.createSegments(e,n.segments,r,i);let s={};return Object.entries(n.children).forEach(([a,l])=>{s[a]=this.createSegmentGroup(e,l,r,i)}),new he(o,s)}createSegments(e,n,r,i){return n.map(o=>o.path.startsWith(":")?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,n,r){const i=r[n.path.substring(1)];if(!i)throw new D(4001,!1);return i}findOrReturn(e,n){let r=0;for(const i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}}const Gm={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Hz(t,e,n,r,i){const o=Wm(t,e,n);return o.matched?(r=function dz(t,e){return t.providers&&!t._injector&&(t._injector=wg(t.providers,e,`Route: ${t.path}`)),t._injector??e}(e,r),function Vz(t,e,n,r){const i=e.canMatch;return i&&0!==i.length?k(i.map(s=>{const a=as(s,t);return jr(function Sz(t){return t&&il(t.canMatch)}(a)?a.canMatch(e,n):t.runInContext(()=>a(e,n)))})).pipe(ls(),cM()):k(!0)}(r,e,n).pipe(re(s=>!0===s?o:{...Gm}))):k(o)}function Wm(t,e,n){if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?{...Gm}:{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};const i=(e.matcher||CW)(n,t,e);if(!i)return{...Gm};const o={};Object.entries(i.posParams??{}).forEach(([a,l])=>{o[a]=l.path});const s=i.consumed.length>0?{...o,...i.consumed[i.consumed.length-1].parameters}:o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function hM(t,e,n,r){return n.length>0&&function Wz(t,e,n){return n.some(r=>md(t,e,r)&&Dn(r)!==z)}(t,n,r)?{segmentGroup:new he(e,Gz(r,new he(n,t.children))),slicedSegments:[]}:0===n.length&&function zz(t,e,n){return n.some(r=>md(t,e,r))}(t,n,r)?{segmentGroup:new he(t.segments,$z(t,0,n,r,t.children)),slicedSegments:n}:{segmentGroup:new he(t.segments,t.children),slicedSegments:n}}function $z(t,e,n,r,i){const o={};for(const s of r)if(md(t,n,s)&&!i[Dn(s)]){const a=new he([],{});o[Dn(s)]=a}return{...i,...o}}function Gz(t,e){const n={};n[z]=e;for(const r of t)if(""===r.path&&Dn(r)!==z){const i=new he([],{});n[Dn(r)]=i}return n}function md(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path}class Qz{constructor(e,n,r,i,o,s,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.allowRedirects=!0,this.applyRedirects=new jz(this.urlSerializer,this.urlTree)}noMatchError(e){return new D(4002,!1)}recognize(){const e=hM(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,z).pipe(bi(n=>{if(n instanceof uM)return this.allowRedirects=!1,this.urlTree=n.urlTree,this.match(n.urlTree);throw n instanceof gd?this.noMatchError(n):n}),re(n=>{const r=new dd([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},z,this.rootComponentType,null,{}),i=new pr(r,n),o=new eM("",i),s=function BW(t,e,n=null,r=null){return HA(jA(t),e,n,r)}(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),this.inheritParamsAndData(o._root),{state:o,tree:s}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e.root,z).pipe(bi(r=>{throw r instanceof gd?this.noMatchError(r):r}))}inheritParamsAndData(e){const n=e.value,r=JA(n,this.paramsInheritanceStrategy);n.params=Object.freeze(r.params),n.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,n,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,n,r):this.processSegment(e,n,r,r.segments,i,!0)}processChildren(e,n,r){const i=[];for(const o of Object.keys(r.children))"primary"===o?i.unshift(o):i.push(o);return Ge(i).pipe(ns(o=>{const s=r.children[o],a=function gz(t,e){const n=t.filter(r=>Dn(r)===e);return n.push(...t.filter(r=>Dn(r)!==e)),n}(n,o);return this.processSegmentGroup(e,a,s,o)}),function gW(t,e){return $e(function pW(t,e,n,r,i){return(o,s)=>{let a=n,l=e,c=0;o.subscribe(Ue(s,u=>{const d=c++;l=a?t(l,u,d):(a=!0,u),r&&s.next(l)},i&&(()=>{a&&s.next(l),s.complete()})))}}(t,e,arguments.length>=2,!0))}((o,s)=>(o.push(...s),o)),nd(null),function mW(t,e){const n=arguments.length>=2;return r=>r.pipe(t?fr((i,o)=>t(i,o,r)):br,Am(1),n?nd(e):AA(()=>new td))}(),Ze(o=>{if(null===o)return cs(r);const s=fM(o);return function Zz(t){t.sort((e,n)=>e.value.outlet===z?-1:n.value.outlet===z?1:e.value.outlet.localeCompare(n.value.outlet))}(s),k(s)}))}processSegment(e,n,r,i,o,s){return Ge(n).pipe(ns(a=>this.processSegmentAgainstRoute(a._injector??e,n,a,r,i,o,s).pipe(bi(l=>{if(l instanceof gd)return k(null);throw l}))),Ii(a=>!!a),bi(a=>{if(lM(a))return function Yz(t,e,n){return 0===e.length&&!t.children[n]}(r,i,o)?k([]):cs(r);throw a}))}processSegmentAgainstRoute(e,n,r,i,o,s,a){return function qz(t,e,n,r){return!!(Dn(t)===r||r!==z&&md(e,n,t))&&("**"===t.path||Wm(e,t,n).matched)}(r,i,o,s)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,i,r,o,s,a):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,o,s):cs(i):cs(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,o,s){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,s):this.expandRegularSegmentAgainstRouteUsingRedirect(e,n,r,i,o,s)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,n,r,i){const o=this.applyRedirects.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?dM(o):this.applyRedirects.lineralizeSegments(r,o).pipe(Ze(s=>{const a=new he(s,{});return this.processSegment(e,n,a,s,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,n,r,i,o,s){const{matched:a,consumedSegments:l,remainingSegments:c,positionalParamSegments:u}=Wm(n,i,o);if(!a)return cs(n);const d=this.applyRedirects.applyRedirectCommands(l,i.redirectTo,u);return i.redirectTo.startsWith("/")?dM(d):this.applyRedirects.lineralizeSegments(i,d).pipe(Ze(h=>this.processSegment(e,r,n,h.concat(c),s,!1)))}matchSegmentAgainstRoute(e,n,r,i,o,s){let a;if("**"===r.path){const l=i.length>0?NA(i).parameters:{};a=k({snapshot:new dd(i,l,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,pM(r),Dn(r),r.component??r._loadedComponent??null,r,gM(r)),consumedSegments:[],remainingSegments:[]}),n.children={}}else a=Hz(n,r,i,e).pipe(re(({matched:l,consumedSegments:c,remainingSegments:u,parameters:d})=>l?{snapshot:new dd(c,d,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,pM(r),Dn(r),r.component??r._loadedComponent??null,r,gM(r)),consumedSegments:c,remainingSegments:u}:null));return a.pipe(dn(l=>null===l?cs(n):this.getChildConfig(e=r._injector??e,r,i).pipe(dn(({routes:c})=>{const u=r._loadedInjector??e,{snapshot:d,consumedSegments:h,remainingSegments:f}=l,{segmentGroup:p,slicedSegments:g}=hM(n,h,f,c);if(0===g.length&&p.hasChildren())return this.processChildren(u,c,p).pipe(re(y=>null===y?null:[new pr(d,y)]));if(0===c.length&&0===g.length)return k([new pr(d,[])]);const m=Dn(r)===o;return this.processSegment(u,c,p,g,m?z:o,!0).pipe(re(y=>[new pr(d,y)]))}))))}getChildConfig(e,n,r){return n.children?k({routes:n.children,injector:e}):n.loadChildren?void 0!==n._loadedRoutes?k({routes:n._loadedRoutes,injector:n._loadedInjector}):function Lz(t,e,n,r){const i=e.canLoad;return void 0===i||0===i.length?k(!0):k(i.map(s=>{const a=as(s,t);return jr(function Dz(t){return t&&il(t.canLoad)}(a)?a.canLoad(e,n):t.runInContext(()=>a(e,n)))})).pipe(ls(),cM())}(e,n,r).pipe(Ze(i=>i?this.configLoader.loadChildren(e,n).pipe(it(o=>{n._loadedRoutes=o.routes,n._loadedInjector=o.injector})):function Bz(t){return $a(iM(!1,3))}())):k({routes:[],injector:e})}}function Xz(t){const e=t.value.routeConfig;return e&&""===e.path}function fM(t){const e=[],n=new Set;for(const r of t){if(!Xz(r)){e.push(r);continue}const i=e.find(o=>r.value.routeConfig===o.value.routeConfig);void 0!==i?(i.children.push(...r.children),n.add(i)):e.push(r)}for(const r of n){const i=fM(r.children);e.push(new pr(r.value,i))}return e.filter(r=>!n.has(r))}function pM(t){return t.data||{}}function gM(t){return t.resolve||{}}function mM(t){return"string"==typeof t.title||null===t.title}function zm(t){return dn(e=>{const n=t(e);return n?Ge(n).pipe(re(()=>e)):k(e)})}const us=new N("ROUTES");let qm=(()=>{var t;class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=M(KS)}loadComponent(r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return k(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);const i=jr(r.loadComponent()).pipe(re(_M),it(s=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=s}),Ga(()=>{this.componentLoaders.delete(r)})),o=new SA(i,()=>new Qt).pipe(Sm());return this.componentLoaders.set(r,o),o}loadChildren(r,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return k({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);const s=function o4(t,e,n,r){return jr(t.loadChildren()).pipe(re(_M),Ze(i=>i instanceof tS||Array.isArray(i)?k(i):Ge(e.compileModuleAsync(i))),re(i=>{r&&r(t);let o,s,a=!1;return Array.isArray(i)?(s=i,!0):(o=i.create(n).injector,s=o.get(us,[],{optional:!0,self:!0}).flat()),{routes:s.map($m),injector:o}}))}(i,this.compiler,r,this.onLoadEndListener).pipe(Ga(()=>{this.childrenLoaders.delete(i)})),a=new SA(s,()=>new Qt).pipe(Sm());return this.childrenLoaders.set(i,a),a}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=x({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function _M(t){return function s4(t){return t&&"object"==typeof t&&"default"in t}(t)?t.default:t}let _d=(()=>{var t;class e{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Qt,this.transitionAbortSubject=new Qt,this.configLoader=M(qm),this.environmentInjector=M($t),this.urlSerializer=M(qa),this.rootContexts=M(Ja),this.inputBindingEnabled=null!==M(hd,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>k(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=o=>this.events.next(new XW(o)),this.configLoader.onLoadStartListener=o=>this.events.next(new ZW(o))}complete(){this.transitions?.complete()}handleNavigationRequest(r){const i=++this.navigationId;this.transitions?.next({...this.transitions.value,...r,id:i})}setupNavigations(r,i,o){return this.transitions=new Zt({id:0,currentUrlTree:i,currentRawUrl:i,currentBrowserUrl:i,extractedUrl:r.urlHandlingStrategy.extract(i),urlAfterRedirects:r.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Za,restoredState:null,currentSnapshot:o.snapshot,targetSnapshot:null,currentRouterState:o,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(fr(s=>0!==s.id),re(s=>({...s,extractedUrl:r.urlHandlingStrategy.extract(s.rawUrl)})),dn(s=>{this.currentTransition=s;let a=!1,l=!1;return k(s).pipe(it(c=>{this.currentNavigation={id:c.id,initialUrl:c.rawUrl,extractedUrl:c.extractedUrl,trigger:c.source,extras:c.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),dn(c=>{const u=c.currentBrowserUrl.toString(),d=!r.navigated||c.extractedUrl.toString()!==u||u!==c.currentUrlTree.toString();if(!d&&"reload"!==(c.extras.onSameUrlNavigation??r.onSameUrlNavigation)){const f="";return this.events.next(new os(c.id,this.urlSerializer.serialize(c.rawUrl),f,0)),c.resolve(null),Sn}if(r.urlHandlingStrategy.shouldProcessUrl(c.rawUrl))return k(c).pipe(dn(f=>{const p=this.transitions?.getValue();return this.events.next(new cd(f.id,this.urlSerializer.serialize(f.extractedUrl),f.source,f.restoredState)),p!==this.transitions?.getValue()?Sn:Promise.resolve(f)}),function Jz(t,e,n,r,i,o){return Ze(s=>function Kz(t,e,n,r,i,o,s="emptyOnly"){return new Qz(t,e,n,r,i,s,o).recognize()}(t,e,n,r,s.extractedUrl,i,o).pipe(re(({state:a,tree:l})=>({...s,targetSnapshot:a,urlAfterRedirects:l}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,r.config,this.urlSerializer,r.paramsInheritanceStrategy),it(f=>{s.targetSnapshot=f.targetSnapshot,s.urlAfterRedirects=f.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:f.urlAfterRedirects};const p=new YA(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot);this.events.next(p)}));if(d&&r.urlHandlingStrategy.shouldProcessUrl(c.currentRawUrl)){const{id:f,extractedUrl:p,source:g,restoredState:m,extras:y}=c,_=new cd(f,this.urlSerializer.serialize(p),g,m);this.events.next(_);const R=XA(0,this.rootComponentType).snapshot;return this.currentTransition=s={...c,targetSnapshot:R,urlAfterRedirects:p,extras:{...y,skipLocationChange:!1,replaceUrl:!1}},k(s)}{const f="";return this.events.next(new os(c.id,this.urlSerializer.serialize(c.extractedUrl),f,1)),c.resolve(null),Sn}}),it(c=>{const u=new qW(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(u)}),re(c=>(this.currentTransition=s={...c,guards:vz(c.targetSnapshot,c.currentSnapshot,this.rootContexts)},s)),function Mz(t,e){return Ze(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return 0===s.length&&0===o.length?k({...n,guardsResult:!0}):function Nz(t,e,n,r){return Ge(t).pipe(Ze(i=>function Fz(t,e,n,r,i){const o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return o&&0!==o.length?k(o.map(a=>{const l=tl(e)??i,c=as(a,l);return jr(function Tz(t){return t&&il(t.canDeactivate)}(c)?c.canDeactivate(t,e,n,r):l.runInContext(()=>c(t,e,n,r))).pipe(Ii())})).pipe(ls()):k(!0)}(i.component,i.route,n,e,r)),Ii(i=>!0!==i,!0))}(s,r,i,t).pipe(Ze(a=>a&&function wz(t){return"boolean"==typeof t}(a)?function Rz(t,e,n,r){return Ge(e).pipe(ns(i=>Tm(function Oz(t,e){return null!==t&&e&&e(new JW(t)),k(!0)}(i.route.parent,r),function Pz(t,e){return null!==t&&e&&e(new tz(t)),k(!0)}(i.route,r),function kz(t,e,n){const r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>function yz(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(s)).filter(s=>null!==s).map(s=>TA(()=>k(s.guards.map(l=>{const c=tl(s.node)??n,u=as(l,c);return jr(function bz(t){return t&&il(t.canActivateChild)}(u)?u.canActivateChild(r,t):c.runInContext(()=>u(r,t))).pipe(Ii())})).pipe(ls())));return k(o).pipe(ls())}(t,i.path,n),function xz(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return k(!0);const i=r.map(o=>TA(()=>{const s=tl(e)??n,a=as(o,s);return jr(function Iz(t){return t&&il(t.canActivate)}(a)?a.canActivate(e,t):s.runInContext(()=>a(e,t))).pipe(Ii())}));return k(i).pipe(ls())}(t,i.route,n))),Ii(i=>!0!==i,!0))}(r,o,t,e):k(a)),re(a=>({...n,guardsResult:a})))})}(this.environmentInjector,c=>this.events.next(c)),it(c=>{if(s.guardsResult=c.guardsResult,Si(c.guardsResult))throw rM(0,c.guardsResult);const u=new YW(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot,!!c.guardsResult);this.events.next(u)}),fr(c=>!!c.guardsResult||(this.cancelNavigationTransition(c,"",3),!1)),zm(c=>{if(c.guards.canActivateChecks.length)return k(c).pipe(it(u=>{const d=new KW(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(d)}),dn(u=>{let d=!1;return k(u).pipe(function e4(t,e){return Ze(n=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return k(n);let o=0;return Ge(i).pipe(ns(s=>function t4(t,e,n,r){const i=t.routeConfig,o=t._resolve;return void 0!==i?.title&&!mM(i)&&(o[Wa]=i.title),function n4(t,e,n,r){const i=function r4(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}(t);if(0===i.length)return k({});const o={};return Ge(i).pipe(Ze(s=>function i4(t,e,n,r){const i=tl(e)??r,o=as(t,i);return jr(o.resolve?o.resolve(e,n):i.runInContext(()=>o(e,n)))}(t[s],e,n,r).pipe(Ii(),it(a=>{o[s]=a}))),Am(1),function _W(t){return re(()=>t)}(o),bi(s=>lM(s)?Sn:$a(s)))}(o,t,e,r).pipe(re(s=>(t._resolvedData=s,t.data=JA(t,n).resolve,i&&mM(i)&&(t.data[Wa]=i.title),null)))}(s.route,r,t,e)),it(()=>o++),Am(1),Ze(s=>o===i.length?k(n):Sn))})}(r.paramsInheritanceStrategy,this.environmentInjector),it({next:()=>d=!0,complete:()=>{d||this.cancelNavigationTransition(u,"",2)}}))}),it(u=>{const d=new QW(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(d)}))}),zm(c=>{const u=d=>{const h=[];d.routeConfig?.loadComponent&&!d.routeConfig._loadedComponent&&h.push(this.configLoader.loadComponent(d.routeConfig).pipe(it(f=>{d.component=f}),re(()=>{})));for(const f of d.children)h.push(...u(f));return h};return bm(u(c.targetSnapshot.root)).pipe(nd(),ts(1))}),zm(()=>this.afterPreactivation()),re(c=>{const u=function az(t,e,n){const r=el(t,e._root,n?n._root:void 0);return new ZA(r,e)}(r.routeReuseStrategy,c.targetSnapshot,c.currentRouterState);return this.currentTransition=s={...c,targetRouterState:u},s}),it(()=>{this.events.next(new xm)}),((t,e,n,r)=>re(i=>(new _z(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)))(this.rootContexts,r.routeReuseStrategy,c=>this.events.next(c),this.inputBindingEnabled),ts(1),it({next:c=>{a=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Hr(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects))),r.titleStrategy?.updateTitle(c.targetRouterState.snapshot),c.resolve(!0)},complete:()=>{a=!0}}),function vW(t){return $e((e,n)=>{Vt(t).subscribe(Ue(n,()=>n.complete(),$h)),!n.closed&&e.subscribe(n)})}(this.transitionAbortSubject.pipe(it(c=>{throw c}))),Ga(()=>{a||l||this.cancelNavigationTransition(s,"",1),this.currentNavigation?.id===s.id&&(this.currentNavigation=null)}),bi(c=>{if(l=!0,oM(c))this.events.next(new Xa(s.id,this.urlSerializer.serialize(s.extractedUrl),c.message,c.cancellationCode)),function uz(t){return oM(t)&&Si(t.url)}(c)?this.events.next(new km(c.url)):s.resolve(!1);else{this.events.next(new ud(s.id,this.urlSerializer.serialize(s.extractedUrl),c,s.targetSnapshot??void 0));try{s.resolve(r.errorHandler(c))}catch(u){s.reject(u)}}return Sn}))}))}cancelNavigationTransition(r,i,o){const s=new Xa(r.id,this.urlSerializer.serialize(r.extractedUrl),i,o);this.events.next(s),r.resolve(!1)}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=x({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function vM(t){return t!==Za}let yM=(()=>{var t;class e{buildTitle(r){let i,o=r.root;for(;void 0!==o;)i=this.getResolvedTitleForRoute(o)??i,o=o.children.find(s=>s.outlet===z);return i}getResolvedTitleForRoute(r){return r.data[Wa]}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=x({token:t,factory:function(){return M(a4)},providedIn:"root"}),e})(),a4=(()=>{var t;class e extends yM{constructor(r){super(),this.title=r}updateTitle(r){const i=this.buildTitle(r);void 0!==i&&this.title.setTitle(i)}}return(t=e).\u0275fac=function(r){return new(r||t)(O(vA))},t.\u0275prov=x({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),l4=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=x({token:t,factory:function(){return M(u4)},providedIn:"root"}),e})();class c4{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}}let u4=(()=>{var t;class e extends c4{}return(t=e).\u0275fac=function(){let n;return function(i){return(n||(n=nt(t)))(i||t)}}(),t.\u0275prov=x({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();const vd=new N("",{providedIn:"root",factory:()=>({})});let d4=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=x({token:t,factory:function(){return M(h4)},providedIn:"root"}),e})(),h4=(()=>{var t;class e{shouldProcessUrl(r){return!0}extract(r){return r}merge(r,i){return r}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=x({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();var ol=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(ol||{});function CM(t,e){t.events.pipe(fr(n=>n instanceof Hr||n instanceof Xa||n instanceof ud||n instanceof os),re(n=>n instanceof Hr||n instanceof os?ol.COMPLETE:n instanceof Xa&&(0===n.code||1===n.code)?ol.REDIRECTING:ol.FAILED),fr(n=>n!==ol.REDIRECTING),ts(1)).subscribe(()=>{e()})}function f4(t){throw t}function p4(t,e,n){return e.parse("/")}const g4={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},m4={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let lt=(()=>{var t;class e{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=M(YS),this.isNgZoneEnabled=!1,this._events=new Qt,this.options=M(vd,{optional:!0})||{},this.pendingTasks=M(Ou),this.errorHandler=this.options.errorHandler||f4,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||p4,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=M(d4),this.routeReuseStrategy=M(l4),this.titleStrategy=M(yM),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=M(us,{optional:!0})?.flat()??[],this.navigationTransitions=M(_d),this.urlSerializer=M(qa),this.location=M(em),this.componentInputBindingEnabled=!!M(hd,{optional:!0}),this.eventsSubscription=new Tt,this.isNgZoneEnabled=M(ce)instanceof ce&&ce.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new is,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=XA(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(r=>{this.lastSuccessfulId=r.id,this.currentPageId=this.browserPageId},r=>{this.console.warn(`Unhandled Navigation Error: ${r}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const r=this.navigationTransitions.events.subscribe(i=>{try{const{currentTransition:o}=this.navigationTransitions;if(null===o)return void(EM(i)&&this._events.next(i));if(i instanceof cd)vM(o.source)&&(this.browserUrlTree=o.extractedUrl);else if(i instanceof os)this.rawUrlTree=o.rawUrl;else if(i instanceof YA){if("eager"===this.urlUpdateStrategy){if(!o.extras.skipLocationChange){const s=this.urlHandlingStrategy.merge(o.urlAfterRedirects,o.rawUrl);this.setBrowserUrl(s,o)}this.browserUrlTree=o.urlAfterRedirects}}else if(i instanceof xm)this.currentUrlTree=o.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(o.urlAfterRedirects,o.rawUrl),this.routerState=o.targetRouterState,"deferred"===this.urlUpdateStrategy&&(o.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,o),this.browserUrlTree=o.urlAfterRedirects);else if(i instanceof Xa)0!==i.code&&1!==i.code&&(this.navigated=!0),(3===i.code||2===i.code)&&this.restoreHistory(o);else if(i instanceof km){const s=this.urlHandlingStrategy.merge(i.url,o.currentRawUrl),a={skipLocationChange:o.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||vM(o.source)};this.scheduleNavigation(s,Za,null,a,{resolve:o.resolve,reject:o.reject,promise:o.promise})}i instanceof ud&&this.restoreHistory(o,!0),i instanceof Hr&&(this.navigated=!0),EM(i)&&this._events.next(i)}catch(o){this.navigationTransitions.transitionAbortSubject.next(o)}});this.eventsSubscription.add(r)}resetRootComponentType(r){this.routerState.root.component=r,this.navigationTransitions.rootComponentType=r}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const r=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Za,r)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(r=>{const i="popstate"===r.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{this.navigateToSyncWithBrowser(r.url,i,r.state)},0)}))}navigateToSyncWithBrowser(r,i,o){const s={replaceUrl:!0},a=o?.navigationId?o:null;if(o){const c={...o};delete c.navigationId,delete c.\u0275routerPageId,0!==Object.keys(c).length&&(s.state=c)}const l=this.parseUrl(r);this.scheduleNavigation(l,i,a,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(r){this.config=r.map($m),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(r,i={}){const{relativeTo:o,queryParams:s,fragment:a,queryParamsHandling:l,preserveFragment:c}=i,u=c?this.currentUrlTree.fragment:a;let h,d=null;switch(l){case"merge":d={...this.currentUrlTree.queryParams,...s};break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=s||null}null!==d&&(d=this.removeEmptyProps(d));try{h=jA(o?o.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof r[0]||!r[0].startsWith("/"))&&(r=[]),h=this.currentUrlTree.root}return HA(h,r,d,u??null)}navigateByUrl(r,i={skipLocationChange:!1}){const o=Si(r)?r:this.parseUrl(r),s=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(s,Za,null,i)}navigate(r,i={skipLocationChange:!1}){return function _4(t){for(let e=0;e<t.length;e++)if(null==t[e])throw new D(4008,!1)}(r),this.navigateByUrl(this.createUrlTree(r,i),i)}serializeUrl(r){return this.urlSerializer.serialize(r)}parseUrl(r){let i;try{i=this.urlSerializer.parse(r)}catch(o){i=this.malformedUriErrorHandler(o,this.urlSerializer,r)}return i}isActive(r,i){let o;if(o=!0===i?{...g4}:!1===i?{...m4}:i,Si(r))return PA(this.currentUrlTree,r,o);const s=this.parseUrl(r);return PA(this.currentUrlTree,s,o)}removeEmptyProps(r){return Object.keys(r).reduce((i,o)=>{const s=r[o];return null!=s&&(i[o]=s),i},{})}scheduleNavigation(r,i,o,s,a){if(this.disposed)return Promise.resolve(!1);let l,c,u;a?(l=a.resolve,c=a.reject,u=a.promise):u=new Promise((h,f)=>{l=h,c=f});const d=this.pendingTasks.add();return CM(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(d))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:r,extras:s,resolve:l,reject:c,promise:u,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),u.catch(h=>Promise.reject(h))}setBrowserUrl(r,i){const o=this.urlSerializer.serialize(r);if(this.location.isCurrentPathEqualTo(o)||i.extras.replaceUrl){const a={...i.extras.state,...this.generateNgRouterState(i.id,this.browserPageId)};this.location.replaceState(o,"",a)}else{const s={...i.extras.state,...this.generateNgRouterState(i.id,this.browserPageId+1)};this.location.go(o,"",s)}}restoreHistory(r,i=!1){if("computed"===this.canceledNavigationResolution){const s=this.currentPageId-this.browserPageId;0!==s?this.location.historyGo(s):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===s&&(this.resetState(r),this.browserUrlTree=r.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(r),this.resetUrlToCurrentUrlTree())}resetState(r){this.routerState=r.currentRouterState,this.currentUrlTree=r.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,r.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(r,i){return"computed"===this.canceledNavigationResolution?{navigationId:r,\u0275routerPageId:i}:{navigationId:r}}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=x({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function EM(t){return!(t instanceof xm||t instanceof km)}let ds=(()=>{var t;class e{constructor(r,i,o,s,a,l){this.router=r,this.route=i,this.tabIndexAttribute=o,this.renderer=s,this.el=a,this.locationStrategy=l,this.href=null,this.commands=null,this.onChanges=new Qt,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const c=a.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===c||"area"===c,this.isAnchorElement?this.subscription=r.events.subscribe(u=>{u instanceof Hr&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(r){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",r)}ngOnChanges(r){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(r){null!=r?(this.commands=Array.isArray(r)?r:[r],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(r,i,o,s,a){return!!(null===this.urlTree||this.isAnchorElement&&(0!==r||i||o||s||a||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const r=null===this.href?null:function tI(t,e,n){return function qL(t,e){return"src"===e&&("embed"===t||"frame"===t||"iframe"===t||"media"===t||"script"===t)||"href"===e&&("base"===t||"link"===t)?eI:JD}(e,n)(t)}(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",r)}applyAttributeValue(r,i){const o=this.renderer,s=this.el.nativeElement;null!==i?o.setAttribute(s,r,i):o.removeAttribute(s,r)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return(t=e).\u0275fac=function(r){return new(r||t)(E(lt),E(Ai),function Oc(t){return function fF(t,e){if("class"===e)return t.classes;if("style"===e)return t.styles;const n=t.attrs;if(n){const r=n.length;let i=0;for(;i<r;){const o=n[i];if(qE(o))break;if(0===o)i+=2;else if("number"==typeof o)for(i++;i<r&&"string"==typeof n[i];)i++;else{if(o===e)return n[i+1];i+=2}}}return null}(tt(),t)}("tabindex"),E(_n),E(Ot),E(Di))},t.\u0275dir=U({type:t,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,i){1&r&&de("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),2&r&&Fn("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",Jo],skipLocationChange:["skipLocationChange","skipLocationChange",Jo],replaceUrl:["replaceUrl","replaceUrl",Jo],routerLink:"routerLink"},standalone:!0,features:[gb,en]}),e})();class wM{}let C4=(()=>{var t;class e{constructor(r,i,o,s,a){this.router=r,this.injector=o,this.preloadingStrategy=s,this.loader=a}setUpPreloading(){this.subscription=this.router.events.pipe(fr(r=>r instanceof Hr),ns(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(r,i){const o=[];for(const s of i){s.providers&&!s._injector&&(s._injector=wg(s.providers,r,`Route: ${s.path}`));const a=s._injector??r,l=s._loadedInjector??a;(s.loadChildren&&!s._loadedRoutes&&void 0===s.canLoad||s.loadComponent&&!s._loadedComponent)&&o.push(this.preloadConfig(a,s)),(s.children||s._loadedRoutes)&&o.push(this.processRoutes(l,s.children??s._loadedRoutes))}return Ge(o).pipe(to())}preloadConfig(r,i){return this.preloadingStrategy.preload(i,()=>{let o;o=i.loadChildren&&void 0===i.canLoad?this.loader.loadChildren(r,i):k(null);const s=o.pipe(Ze(a=>null===a?k(void 0):(i._loadedRoutes=a.routes,i._loadedInjector=a.injector,this.processRoutes(a.injector??r,a.routes))));return i.loadComponent&&!i._loadedComponent?Ge([s,this.loader.loadComponent(i)]).pipe(to()):s})}}return(t=e).\u0275fac=function(r){return new(r||t)(O(lt),O(KS),O($t),O(wM),O(qm))},t.\u0275prov=x({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();const Ym=new N("");let DM=(()=>{var t;class e{constructor(r,i,o,s,a={}){this.urlSerializer=r,this.transitions=i,this.viewportScroller=o,this.zone=s,this.options=a,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},a.scrollPositionRestoration=a.scrollPositionRestoration||"disabled",a.anchorScrolling=a.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(r=>{r instanceof cd?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=r.navigationTrigger,this.restoredId=r.restoredState?r.restoredState.navigationId:0):r instanceof Hr?(this.lastId=r.id,this.scheduleScrollEvent(r,this.urlSerializer.parse(r.urlAfterRedirects).fragment)):r instanceof os&&0===r.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(r,this.urlSerializer.parse(r.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(r=>{r instanceof KA&&(r.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(r.position):r.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(r.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(r,i){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new KA(r,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return(t=e).\u0275fac=function(r){!function HI(){throw new Error("invalid")}()},t.\u0275prov=x({token:t,factory:t.\u0275fac}),e})();function gr(t,e){return{\u0275kind:t,\u0275providers:e}}function bM(){const t=M(yt);return e=>{const n=t.get(Xo);if(e!==n.components[0])return;const r=t.get(lt),i=t.get(TM);1===t.get(Km)&&r.initialNavigation(),t.get(SM,null,Z.Optional)?.setUpPreloading(),t.get(Ym,null,Z.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}const TM=new N("",{factory:()=>new Qt}),Km=new N("",{providedIn:"root",factory:()=>1}),SM=new N("");function I4(t){return gr(0,[{provide:SM,useExisting:C4},{provide:wM,useExisting:t}])}const AM=new N("ROUTER_FORROOT_GUARD"),T4=[em,{provide:qa,useClass:Mm},lt,Ja,{provide:Ai,useFactory:function IM(t){return t.routerState.root},deps:[lt]},qm,[]];function S4(){return new n0("Router",lt)}let MM=(()=>{var t;class e{constructor(r){}static forRoot(r,i){return{ngModule:e,providers:[T4,[],{provide:us,multi:!0,useValue:r},{provide:AM,useFactory:R4,deps:[[lt,new nn,new Fc]]},{provide:vd,useValue:i||{}},i?.useHash?{provide:Di,useClass:L$}:{provide:Di,useClass:O0},{provide:Ym,useFactory:()=>{const t=M(nG),e=M(ce),n=M(vd),r=M(_d),i=M(qa);return n.scrollOffset&&t.setOffset(n.scrollOffset),new DM(i,r,t,e,n)}},i?.preloadingStrategy?I4(i.preloadingStrategy).\u0275providers:[],{provide:n0,multi:!0,useFactory:S4},i?.initialNavigation?P4(i):[],i?.bindToComponentInputs?gr(8,[nM,{provide:hd,useExisting:nM}]).\u0275providers:[],[{provide:NM,useFactory:bM},{provide:Gg,multi:!0,useExisting:NM}]]}}static forChild(r){return{ngModule:e,providers:[{provide:us,multi:!0,useValue:r}]}}}return(t=e).\u0275fac=function(r){return new(r||t)(O(AM,8))},t.\u0275mod=At({type:t}),t.\u0275inj=ft({}),e})();function R4(t){return"guarded"}function P4(t){return["disabled"===t.initialNavigation?gr(3,[{provide:Fg,multi:!0,useFactory:()=>{const e=M(lt);return()=>{e.setUpLocationChangeListener()}}},{provide:Km,useValue:2}]).\u0275providers:[],"enabledBlocking"===t.initialNavigation?gr(2,[{provide:Km,useValue:0},{provide:Fg,multi:!0,deps:[yt],useFactory:e=>{const n=e.get(k$,Promise.resolve());return()=>n.then(()=>new Promise(r=>{const i=e.get(lt),o=e.get(TM);CM(i,()=>{r(!0)}),e.get(_d).afterPreactivation=()=>(r(!0),o.closed?k(void 0):o),i.initialNavigation()}))}}]).\u0275providers:[]]}const NM=new N("");let x4=(()=>{var t;class e{constructor(){this.counter=0}ngOnInit(){this.SlideImage=document.querySelectorAll(".SlideImage"),this.InformationContainer=document.querySelectorAll(".InformationContainer"),window.addEventListener("scroll",()=>{this.InformationContainer.forEach(r=>{let i=r.getBoundingClientRect(),o=window.innerHeight;i.top<.85*o&&(r.style.opacity="1",r.style.transform="TranslateY(0)")})})}Translatex(){this.SlideImage.forEach(r=>{r.style.transform=`translateX(-${100*this.counter}%)`})}SlideImageFunction(r){"Left"==r&&this.counter>0?this.counter--:"Right"==r&&this.counter<3&&this.counter++,this.Translatex()}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=pn({type:t,selectors:[["app-slider"]],decls:51,vars:0,consts:[[1,"ImageContainer"],[1,"Left-Arrow",3,"click"],["src","/assets/images/get 1.jpg",1,"SlideImage"],["src","/assets/images/get 2.jpg",1,"SlideImage"],["src","/assets/images/get 3.jpg",1,"SlideImage"],["src","/assets/images/get 4.jpg",1,"SlideImage"],[1,"Right-Arrow",3,"click"],[1,"ScheduleContainer"],[1,"BlueStrap"],["routerLink","/Booking"],[1,"InformationMainContainer"],[1,"InformationContainer"],[1,"ImageDetailsContainer"],["src","/assets/images/Certificate.jpg"],[1,"InformationTextContainer"],["src","/assets/images/Award.jpg"],["src","/assets/images/satvik saini.jpg"],["src","/assets/images/Siblings.png"]],template:function(r,i){1&r&&(C(0,"div")(1,"div",0)(2,"div",1),de("click",function(){return i.SlideImageFunction("Left")}),I(3,"\u21a4"),v(),q(4,"img",2)(5,"img",3)(6,"img",4)(7,"img",5),C(8,"div",6),de("click",function(){return i.SlideImageFunction("Right")}),I(9,"\u21a6"),v()(),C(10,"div",7)(11,"div",8)(12,"button",9),I(13,"Schedule Here"),v()()(),C(14,"div",10)(15,"div",11)(16,"div",12),q(17,"img",13),v(),C(18,"div",14)(19,"p"),I(20,"A huge thanks to the IHW council for honouring us with this award! \u{1f33b}."),C(21,"strong"),I(22,"Get Me Therapy"),v(),I(23," is honored with the prestigious Bronze Award under COVID-19 Solution For Mental Health Category at IHW "),v()()(),C(24,"div",11)(25,"div",12),q(26,"img",15),v(),C(27,"div",14)(28,"p"),I(29,"We are proud to annouce that Get Me Therapy has been "),C(30,"strong"),I(31,"Awarded"),v(),I(32," the Bronze award under COVID-19 Solutions for Mental Health category by the prestigious IHW Council! "),C(33,"strong"),I(34,"Get Me Therapy"),v(),I(35," is honored with the prestigious Bronze Award under COVID-19 Solution For Mental Health Category at IHW."),v()()(),C(36,"div",11)(37,"div",12),q(38,"img",16),v(),C(39,"div",14)(40,"p"),I(41,"Hey there! I'm "),C(42,"Strong"),I(43,"Satvik Saini"),v(),I(44,", a theater-loving co-founder of a mental health company who's passionate about creating a world where mental health is a top priority. In addition to my work in the mental health industry, I've also dabbled in edtech,"),v()()(),C(45,"div",11)(46,"div",12),q(47,"img",17),v(),C(48,"div",14)(49,"p"),I(50,"We have been working very hard with mental health professionals to provide therapy and curate programs for you so that you get help and support when you need it. Our community consists of over 20,000 people and we would love for you to be a part of it."),v()()()()())},dependencies:[ds],styles:[".ImageContainer[_ngcontent-%COMP%]{display:flex;width:100%;height:90vh;position:relative;align-items:center;overflow:hidden;justify-content:space-between}.ImageContainer[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;flex-shrink:0;transition:transform .5s ease}.Left-Arrow[_ngcontent-%COMP%], .Right-Arrow[_ngcontent-%COMP%]{width:10vh;height:10%;font-weight:700;display:flex;align-items:center;justify-content:center;position:absolute;top:50%;transform:translateY(-50%);background-color:#006bff;opacity:.9;z-index:1;cursor:pointer}.Right-Arrow[_ngcontent-%COMP%]{right:0%}@media only screen and (max-width:380px){.ImageContainer[_ngcontent-%COMP%]{height:60vh}}.ScheduleContainer[_ngcontent-%COMP%]{margin:6vh 0}.BlueStrap[_ngcontent-%COMP%]{text-align:center;background-color:#006bff;position:relative;height:3vh}.BlueStrap[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);font-weight:700;border-radius:5px;background-color:#ff9;color:#0b3558;cursor:pointer;border:7px solid rgb(0,77,204)}.InformationMainContainer[_ngcontent-%COMP%]{padding:0 6% 4%}.InformationContainer[_ngcontent-%COMP%]{width:50%;margin:0 auto;text-align:center;border-radius:12px;box-shadow:0 4px 8px #00000030,0 6px 20px #00000052;opacity:0;transform:translateY(50px);transition:opacity .3s,transform .3s}.InformationContainer[_ngcontent-%COMP%]:not(:last-child){margin-bottom:4vh}.ImageDetailsContainer[_ngcontent-%COMP%]{width:100%;height:70vh}.ImageDetailsContainer[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;border-bottom:2px solid}.InformationTextContainer[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{text-align:center;font-weight:500}@media only screen and (max-width:550px){.InformationContainer[_ngcontent-%COMP%]{width:100%}}"]}),e})();function RM(t,e,n,r,i,o,s){try{var a=t[o](s),l=a.value}catch(c){return void n(c)}a.done?e(l):Promise.resolve(l).then(r,i)}function A(t){return function(){var e=this,n=arguments;return new Promise(function(r,i){var o=t.apply(e,n);function s(l){RM(o,r,i,s,a,"next",l)}function a(l){RM(o,r,i,s,a,"throw",l)}s(void 0)})}}let PM=(()=>{var t;class e{constructor(r,i){this._renderer=r,this._elementRef=i,this.onChange=o=>{},this.onTouched=()=>{}}setProperty(r,i){this._renderer.setProperty(this._elementRef.nativeElement,r,i)}registerOnTouched(r){this.onTouched=r}registerOnChange(r){this.onChange=r}setDisabledState(r){this.setProperty("disabled",r)}}return(t=e).\u0275fac=function(r){return new(r||t)(E(_n),E(Ot))},t.\u0275dir=U({type:t}),e})(),Mi=(()=>{var t;class e extends PM{}return(t=e).\u0275fac=function(){let n;return function(i){return(n||(n=nt(t)))(i||t)}}(),t.\u0275dir=U({type:t,features:[ue]}),e})();const jn=new N("NgValueAccessor"),L4={provide:jn,useExisting:_e(()=>hs),multi:!0},U4=new N("CompositionEventMode");let hs=(()=>{var t;class e extends PM{constructor(r,i,o){super(r,i),this._compositionMode=o,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function V4(){const t=Ur()?Ur().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(r){this.setProperty("value",r??"")}_handleInput(r){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(r)}_compositionStart(){this._composing=!0}_compositionEnd(r){this._composing=!1,this._compositionMode&&this.onChange(r)}}return(t=e).\u0275fac=function(r){return new(r||t)(E(_n),E(Ot),E(U4,8))},t.\u0275dir=U({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){1&r&&de("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},features:[be([L4]),ue]}),e})();function $r(t){return null==t||("string"==typeof t||Array.isArray(t))&&0===t.length}function xM(t){return null!=t&&"number"==typeof t.length}const ct=new N("NgValidators"),Gr=new N("NgAsyncValidators"),B4=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class ut{static min(e){return function kM(t){return e=>{if($r(e.value)||$r(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}(e)}static max(e){return function FM(t){return e=>{if($r(e.value)||$r(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}(e)}static required(e){return function LM(t){return $r(t.value)?{required:!0}:null}(e)}static requiredTrue(e){return function VM(t){return!0===t.value?null:{required:!0}}(e)}static email(e){return function UM(t){return $r(t.value)||B4.test(t.value)?null:{email:!0}}(e)}static minLength(e){return function BM(t){return e=>$r(e.value)||!xM(e.value)?null:e.value.length<t?{minlength:{requiredLength:t,actualLength:e.value.length}}:null}(e)}static maxLength(e){return function jM(t){return e=>xM(e.value)&&e.value.length>t?{maxlength:{requiredLength:t,actualLength:e.value.length}}:null}(e)}static pattern(e){return function HM(t){if(!t)return yd;let e,n;return"string"==typeof t?(n="","^"!==t.charAt(0)&&(n+="^"),n+=t,"$"!==t.charAt(t.length-1)&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),r=>{if($r(r.value))return null;const i=r.value;return e.test(i)?null:{pattern:{requiredPattern:n,actualValue:i}}}}(e)}static nullValidator(e){return null}static compose(e){return YM(e)}static composeAsync(e){return KM(e)}}function yd(t){return null}function $M(t){return null!=t}function GM(t){return Sa(t)?Ge(t):t}function WM(t){let e={};return t.forEach(n=>{e=null!=n?{...e,...n}:e}),0===Object.keys(e).length?null:e}function zM(t,e){return e.map(n=>n(t))}function qM(t){return t.map(e=>function j4(t){return!t.validate}(e)?e:n=>e.validate(n))}function YM(t){if(!t)return null;const e=t.filter($M);return 0==e.length?null:function(n){return WM(zM(n,e))}}function Qm(t){return null!=t?YM(qM(t)):null}function KM(t){if(!t)return null;const e=t.filter($M);return 0==e.length?null:function(n){return function k4(...t){const e=OE(t),{args:n,keys:r}=wA(t),i=new Ae(o=>{const{length:s}=n;if(!s)return void o.complete();const a=new Array(s);let l=s,c=s;for(let u=0;u<s;u++){let d=!1;Vt(n[u]).subscribe(Ue(o,h=>{d||(d=!0,c--),a[u]=h},()=>l--,void 0,()=>{(!l||!d)&&(c||o.next(r?IA(r,a):a),o.complete())}))}});return e?i.pipe(DA(e)):i}(zM(n,e).map(GM)).pipe(re(WM))}}function Zm(t){return null!=t?KM(qM(t)):null}function QM(t,e){return null===t?[e]:Array.isArray(t)?[...t,e]:[t,e]}function ZM(t){return t._rawValidators}function XM(t){return t._rawAsyncValidators}function Xm(t){return t?Array.isArray(t)?t:[t]:[]}function Cd(t,e){return Array.isArray(t)?t.includes(e):t===e}function JM(t,e){const n=Xm(e);return Xm(t).forEach(i=>{Cd(n,i)||n.push(i)}),n}function eN(t,e){return Xm(e).filter(n=>!Cd(t,n))}class tN{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=Qm(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=Zm(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return!!this.control&&this.control.hasError(e,n)}getError(e,n){return this.control?this.control.getError(e,n):null}}class Dt extends tN{get formDirective(){return null}get path(){return null}}class Wr extends tN{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class nN{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Ed=(()=>{var t;class e extends nN{constructor(r){super(r)}}return(t=e).\u0275fac=function(r){return new(r||t)(E(Wr,2))},t.\u0275dir=U({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){2&r&&Iu("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[ue]}),e})(),wd=(()=>{var t;class e extends nN{constructor(r){super(r)}}return(t=e).\u0275fac=function(r){return new(r||t)(E(Dt,10))},t.\u0275dir=U({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){2&r&&Iu("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[ue]}),e})();const sl="VALID",Id="INVALID",fs="PENDING",al="DISABLED";function t_(t){return(bd(t)?t.validators:t)||null}function n_(t,e){return(bd(e)?e.asyncValidators:t)||null}function bd(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}function iN(t,e,n){const r=t.controls;if(!(e?Object.keys(r):r).length)throw new D(1e3,"");if(!r[n])throw new D(1001,"")}function oN(t,e,n){t._forEachChild((r,i)=>{if(void 0===n[i])throw new D(1002,"")})}class Td{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===sl}get invalid(){return this.status===Id}get pending(){return this.status==fs}get disabled(){return this.status===al}get enabled(){return this.status!==al}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(JM(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(JM(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(eN(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(eN(e,this._rawAsyncValidators))}hasValidator(e){return Cd(this._rawValidators,e)}hasAsyncValidator(e){return Cd(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(n=>{n.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=fs,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const n=this._parentMarkedDirty(e.onlySelf);this.status=al,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:n}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const n=this._parentMarkedDirty(e.onlySelf);this.status=sl,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:n}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===sl||this.status===fs)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?al:sl}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=fs,this._hasOwnPendingAsyncValidator=!0;const n=GM(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(!1!==n.emitEvent)}get(e){let n=e;return null==n||(Array.isArray(n)||(n=n.split(".")),0===n.length)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){const r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new Oe,this.statusChanges=new Oe}_calculateStatus(){return this._allControlsDisabled()?al:this.errors?Id:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(fs)?fs:this._anyControlsHaveStatus(Id)?Id:sl}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){bd(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function W4(t){return Array.isArray(t)?Qm(t):t||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function z4(t){return Array.isArray(t)?Zm(t):t||null}(this._rawAsyncValidators)}}class zr extends Td{constructor(e,n,r){super(t_(n),n_(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,r={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){oN(this,0,e),Object.keys(e).forEach(r=>{iN(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){null!=e&&(Object.keys(e).forEach(r=>{const i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,r)=>(e[r]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,r)=>!!r._syncPendingControls()||n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{const r=this.controls[n];r&&e(r,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[n,r]of Object.entries(this.controls))if(this.contains(n)&&e(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(e,n){let r=e;return this._forEachChild((i,o)=>{r=n(r,i,o)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}class sN extends zr{}const Ni=new N("CallSetDisabledState",{providedIn:"root",factory:()=>ll}),ll="always";function cl(t,e,n=ll){r_(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||"always"===n)&&e.valueAccessor.setDisabledState?.(t.disabled),function Y4(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&aN(t,e)})}(t,e),function Q4(t,e){const n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}(t,e),function K4(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&aN(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),function q4(t,e){if(e.valueAccessor.setDisabledState){const n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}(t,e)}function Ad(t,e,n=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),Nd(t,e),t&&(e._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function Md(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function r_(t,e){const n=ZM(t);null!==e.validator?t.setValidators(QM(n,e.validator)):"function"==typeof n&&t.setValidators([n]);const r=XM(t);null!==e.asyncValidator?t.setAsyncValidators(QM(r,e.asyncValidator)):"function"==typeof r&&t.setAsyncValidators([r]);const i=()=>t.updateValueAndValidity();Md(e._rawValidators,i),Md(e._rawAsyncValidators,i)}function Nd(t,e){let n=!1;if(null!==t){if(null!==e.validator){const i=ZM(t);if(Array.isArray(i)&&i.length>0){const o=i.filter(s=>s!==e.validator);o.length!==i.length&&(n=!0,t.setValidators(o))}}if(null!==e.asyncValidator){const i=XM(t);if(Array.isArray(i)&&i.length>0){const o=i.filter(s=>s!==e.asyncValidator);o.length!==i.length&&(n=!0,t.setAsyncValidators(o))}}}const r=()=>{};return Md(e._rawValidators,r),Md(e._rawAsyncValidators,r),n}function aN(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function uN(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}function dN(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}const dl=class extends Td{constructor(e=null,n,r){super(t_(n),n_(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),bd(n)&&(n.nonNullable||n.initialValueIsDefault)&&(this.defaultValue=dN(e)?e.value:e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==n.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==n.emitViewToModelChange)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){uN(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){uN(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){dN(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};let Rd=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275dir=U({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),e})(),_N=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=At({type:t}),t.\u0275inj=ft({}),e})();const l_=new N("NgModelWithFormControlWarning"),u5={provide:Dt,useExisting:_e(()=>ps)};let ps=(()=>{var t;class e extends Dt{constructor(r,i,o){super(),this.callSetDisabledState=o,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new Oe,this._setValidators(r),this._setAsyncValidators(i)}ngOnChanges(r){this._checkFormPresent(),r.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Nd(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(r){const i=this.form.get(r.path);return cl(i,r,this.callSetDisabledState),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(r),i}getControl(r){return this.form.get(r.path)}removeControl(r){Ad(r.control||null,r,!1),function e5(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}(this.directives,r)}addFormGroup(r){this._setUpFormContainer(r)}removeFormGroup(r){this._cleanUpFormContainer(r)}getFormGroup(r){return this.form.get(r.path)}addFormArray(r){this._setUpFormContainer(r)}removeFormArray(r){this._cleanUpFormContainer(r)}getFormArray(r){return this.form.get(r.path)}updateModel(r,i){this.form.get(r.path).setValue(i)}onSubmit(r){return this.submitted=!0,function cN(t,e){t._syncPendingControls(),e.forEach(n=>{const r=n.control;"submit"===r.updateOn&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(r),"dialog"===r?.target?.method}onReset(){this.resetForm()}resetForm(r=void 0){this.form.reset(r),this.submitted=!1}_updateDomValue(){this.directives.forEach(r=>{const i=r.control,o=this.form.get(r.path);i!==o&&(Ad(i||null,r),(t=>t instanceof dl)(o)&&(cl(o,r,this.callSetDisabledState),r.control=o))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(r){const i=this.form.get(r.path);(function lN(t,e){r_(t,e)})(i,r),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(r){if(this.form){const i=this.form.get(r.path);i&&function Z4(t,e){return Nd(t,e)}(i,r)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){r_(this.form,this),this._oldForm&&Nd(this._oldForm,this)}_checkFormPresent(){}}return(t=e).\u0275fac=function(r){return new(r||t)(E(ct,10),E(Gr,10),E(Ni,8))},t.\u0275dir=U({type:t,selectors:[["","formGroup",""]],hostBindings:function(r,i){1&r&&de("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[be([u5]),ue,en]}),e})();const f5={provide:Wr,useExisting:_e(()=>hl)};let hl=(()=>{var t;class e extends Wr{set isDisabled(r){}constructor(r,i,o,s,a){super(),this._ngModelWarningConfig=a,this._added=!1,this.name=null,this.update=new Oe,this._ngModelWarningSent=!1,this._parent=r,this._setValidators(i),this._setAsyncValidators(o),this.valueAccessor=function s_(t,e){if(!e)return null;let n,r,i;return Array.isArray(e),e.forEach(o=>{o.constructor===hs?n=o:function J4(t){return Object.getPrototypeOf(t.constructor)===Mi}(o)?r=o:i=o}),i||r||n||null}(0,s)}ngOnChanges(r){this._added||this._setUpControl(),function o_(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!Object.is(e,n.currentValue)}(r,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(r){this.viewModel=r,this.update.emit(r)}get path(){return function Sd(t,e){return[...e.path,t]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return(t=e)._ngModelWarningSentOnce=!1,t.\u0275fac=function(r){return new(r||t)(E(Dt,13),E(ct,10),E(Gr,10),E(jn,10),E(l_,8))},t.\u0275dir=U({type:t,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[be([f5]),ue,en]}),e})(),ON=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=At({type:t}),t.\u0275inj=ft({imports:[_N]}),e})();class xN extends Td{constructor(e,n,r){super(t_(n),n_(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,n={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}insert(e,n,r={}){this.controls.splice(e,0,n),this._registerControl(n),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,n={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:n.emitEvent})}setControl(e,n,r={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),n&&(this.controls.splice(i,0,n),this._registerControl(n)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,n={}){oN(this,0,e),e.forEach((r,i)=>{iN(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){null!=e&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e=[],n={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(n=>n._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((n,r)=>!!r._syncPendingControls()||n,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((n,r)=>{e(n,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(n=>n.enabled&&e(n))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}}function kN(t){return!!t&&(void 0!==t.asyncValidators||void 0!==t.validators||void 0!==t.updateOn)}let p_=(()=>{var t;class e{constructor(){this.useNonNullable=!1}get nonNullable(){const r=new e;return r.useNonNullable=!0,r}group(r,i=null){const o=this._reduceControls(r);let s={};return kN(i)?s=i:null!==i&&(s.validators=i.validator,s.asyncValidators=i.asyncValidator),new zr(o,s)}record(r,i=null){const o=this._reduceControls(r);return new sN(o,i)}control(r,i,o){let s={};return this.useNonNullable?(kN(i)?s=i:(s.validators=i,s.asyncValidators=o),new dl(r,{...s,nonNullable:!0})):new dl(r,i,o)}array(r,i,o){const s=r.map(a=>this._createControl(a));return new xN(s,i,o)}_reduceControls(r){const i={};return Object.keys(r).forEach(o=>{i[o]=this._createControl(r[o])}),i}_createControl(r){return r instanceof dl||r instanceof Td?r:Array.isArray(r)?this.control(r[0],r.length>1?r[1]:null,r.length>2?r[2]:null):this.control(r)}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=x({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),A5=(()=>{var t;class e{static withConfig(r){return{ngModule:e,providers:[{provide:Ni,useValue:r.callSetDisabledState??ll}]}}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=At({type:t}),t.\u0275inj=ft({imports:[ON]}),e})(),M5=(()=>{var t;class e{static withConfig(r){return{ngModule:e,providers:[{provide:l_,useValue:r.warnOnNgModelWithFormControl??"always"},{provide:Ni,useValue:r.callSetDisabledState??ll}]}}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=At({type:t}),t.\u0275inj=ft({imports:[ON]}),e})();const b=function(t,e){if(!t)throw gs(e)},gs=function(t){return new Error("Firebase Database (${JSCORE_VERSION}) INTERNAL ASSERT FAILED: "+t)},FN=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},m_={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const o=t[i],s=i+1<t.length,a=s?t[i+1]:0,l=i+2<t.length,c=l?t[i+2]:0;let h=(15&a)<<2|c>>6,f=63&c;l||(f=64,s||(h=64)),r.push(n[o>>2],n[(3&o)<<4|a>>4],n[h],n[f])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(FN(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){const l=((7&i)<<18|(63&t[n++])<<12|(63&t[n++])<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(1023&l))}else{const o=t[n++],s=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&s)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,null==o||null==a||null==c||null==d)throw new R5;r.push(o<<2|a>>4),64!==c&&(r.push(a<<4&240|c>>2),64!==d&&r.push(c<<6&192|d))}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class R5 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const LN=function(t){const e=FN(t);return m_.encodeByteArray(e,!0)},Pd=function(t){return LN(t).replace(/\./g,"")},Od=function(t){try{return m_.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function P5(t){return VN(void 0,t)}function VN(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!O5(n)||(t[n]=VN(t[n],e[n]));return t}function O5(t){return"__proto__"!==t}const xd=()=>{try{return function x5(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const t=process.env.__FIREBASE_DEFAULTS__;return t?JSON.parse(t):void 0})()||(()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Od(t[1]);return e&&JSON.parse(e)})()}catch(t){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`)}},UN=()=>{var t;return null===(t=xd())||void 0===t?void 0:t.config};class ms{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(n):e(n,r))}}}function qt(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function __(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(qt())}function BN(){return"object"==typeof navigator&&"ReactNative"===navigator.product}class Pi extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name="FirebaseError",Object.setPrototypeOf(this,Pi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,fl.prototype.create)}}class fl{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?function q5(t,e){return t.replace(Y5,(n,r)=>{const i=e[r];return null!=i?String(i):`<${r}?>`})}(o,r):"Error";return new Pi(i,`${this.serviceName}: ${s} (${i}).`,r)}}const Y5=/\{\$([^}]+)}/g;function pl(t){return JSON.parse(t)}function Ye(t){return JSON.stringify(t)}const kd=function(t){let e={},n={},r={},i="";try{const o=t.split(".");e=pl(Od(o[0])||""),n=pl(Od(o[1])||""),i=o[2],r=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:r,signature:i}};function Hn(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function _s(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function jN(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Fd(t,e,n){const r={};for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r}function v_(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const o=t[i],s=e[i];if(HN(o)&&HN(s)){if(!v_(o,s))return!1}else if(o!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function HN(t){return null!==t&&"object"==typeof t}function y_(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}class Z5{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const r=this.W_;if("string"==typeof e)for(let d=0;d<16;d++)r[d]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let d=0;d<16;d++)r[d]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let d=16;d<80;d++){const h=r[d-3]^r[d-8]^r[d-14]^r[d-16];r[d]=4294967295&(h<<1|h>>>31)}let c,u,i=this.chain_[0],o=this.chain_[1],s=this.chain_[2],a=this.chain_[3],l=this.chain_[4];for(let d=0;d<80;d++){d<40?d<20?(c=a^o&(s^a),u=1518500249):(c=o^s^a,u=1859775393):d<60?(c=o&s|a&(o|s),u=2400959708):(c=o^s^a,u=3395469782);const h=(i<<5|i>>>27)+c+l+u+r[d]&4294967295;l=a,a=s,s=4294967295&(o<<30|o>>>2),o=i,i=h}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+o&4294967295,this.chain_[2]=this.chain_[2]+s&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295}update(e,n){if(null==e)return;void 0===n&&(n=e.length);const r=n-this.blockSize;let i=0;const o=this.buf_;let s=this.inbuf_;for(;i<n;){if(0===s)for(;i<=r;)this.compress_(e,i),i+=this.blockSize;if("string"==typeof e){for(;i<n;)if(o[s]=e.charCodeAt(i),++s,++i,s===this.blockSize){this.compress_(o),s=0;break}}else for(;i<n;)if(o[s]=e[i],++s,++i,s===this.blockSize){this.compress_(o),s=0;break}}this.inbuf_=s,this.total_+=n}digest(){const e=[];let n=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=255&n,n/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let o=24;o>=0;o-=8)e[r]=this.chain_[i]>>o&255,++r;return e}}class J5{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(void 0===e&&void 0===n&&void 0===r)throw new Error("Missing Observer.");i=function e8(t,e){if("object"!=typeof t||null===t)return!1;for(const n of e)if(n in t&&"function"==typeof t[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:n,complete:r},void 0===i.next&&(i.next=C_),void 0===i.error&&(i.error=C_),void 0===i.complete&&(i.complete=C_);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){void 0===this.observers||void 0===this.observers[e]||(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function C_(){}function Oi(t,e){return`${t} failed: ${e} argument `}const Ld=function(t){let e=0;for(let n=0;n<t.length;n++){const r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};function $n(t){return t&&t._delegate?t._delegate:t}class xi{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const ki="[DEFAULT]";class a8{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new ms;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e?.identifier),i=null!==(n=e?.optional)&&void 0!==n&&n;if(!this.isInitialized(r)&&!this.shouldAutoInitialize()){if(i)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function c8(t){return"EAGER"===t.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:ki})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=ki){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){var e=this;return A(function*(){const n=Array.from(e.instances.values());yield Promise.all([...n.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...n.filter(r=>"_delete"in r).map(r=>r._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(e=ki){return this.instances.has(e)}getOptions(e=ki){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,s]of this.instancesDeferred.entries())r===this.normalizeInstanceIdentifier(o)&&s.resolve(i);return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),o=null!==(r=this.onInitCallbacks.get(i))&&void 0!==r?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);const s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(t=e,t===ki?void 0:t),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}var t;return r||null}normalizeInstanceIdentifier(e=ki){return this.component?this.component.multipleInstances?e:ki:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class u8{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new a8(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}const E_=[];var pe=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(pe||{});const $N={debug:pe.DEBUG,verbose:pe.VERBOSE,info:pe.INFO,warn:pe.WARN,error:pe.ERROR,silent:pe.SILENT},d8=pe.INFO,h8={[pe.DEBUG]:"log",[pe.VERBOSE]:"log",[pe.INFO]:"info",[pe.WARN]:"warn",[pe.ERROR]:"error"},f8=(t,e,...n)=>{if(e<t.logLevel)return;const r=(new Date).toISOString(),i=h8[e];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`);console[i](`[${r}]  ${t.name}:`,...n)};class w_{constructor(e){this.name=e,this._logLevel=d8,this._logHandler=f8,this._userLogHandler=null,E_.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in pe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?$N[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,pe.DEBUG,...e),this._logHandler(this,pe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,pe.VERBOSE,...e),this._logHandler(this,pe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,pe.INFO,...e),this._logHandler(this,pe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,pe.WARN,...e),this._logHandler(this,pe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,pe.ERROR,...e),this._logHandler(this,pe.ERROR,...e)}}const p8=(t,e)=>e.some(n=>t instanceof n);let GN,WN;const zN=new WeakMap,D_=new WeakMap,qN=new WeakMap,I_=new WeakMap,b_=new WeakMap;let T_={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return D_.get(t);if("objectStoreNames"===e)return t.objectStoreNames||qN.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return qr(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function E8(t){return"function"==typeof t?function C8(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function m8(){return WN||(WN=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(t)?function(...e){return t.apply(S_(this),e),qr(zN.get(this))}:function(...e){return qr(t.apply(S_(this),e))}:function(e,...n){const r=t.call(S_(this),e,...n);return qN.set(r,e.sort?e.sort():[e]),qr(r)}}(t):(t instanceof IDBTransaction&&function v8(t){if(D_.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});D_.set(t,e)}(t),p8(t,function g8(){return GN||(GN=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(t,T_):t)}function qr(t){if(t instanceof IDBRequest)return function _8(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(qr(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&zN.set(n,t)}).catch(()=>{}),b_.set(e,t),e}(t);if(I_.has(t))return I_.get(t);const e=E8(t);return e!==t&&(I_.set(t,e),b_.set(e,t)),e}const S_=t=>b_.get(t),D8=["get","getKey","getAll","getAllKeys","count"],I8=["put","add","delete","clear"],A_=new Map;function YN(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(A_.get(e))return A_.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=I8.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!D8.includes(n))return;const o=function(){var s=A(function*(a,...l){const c=this.transaction(a,i?"readwrite":"readonly");let u=c.store;return r&&(u=u.index(l.shift())),(yield Promise.all([u[n](...l),i&&c.done]))[0]});return function(l){return s.apply(this,arguments)}}();return A_.set(e,o),o}!function y8(t){T_=t(T_)}(t=>({...t,get:(e,n,r)=>YN(e,n)||t.get(e,n,r),has:(e,n)=>!!YN(e,n)||t.has(e,n)}));class b8{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(function T8(t){const e=t.getComponent();return"VERSION"===e?.type}(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}return null}).filter(n=>n).join(" ")}}const M_="@firebase/app",Fi=new w_("@firebase/app"),Vd="[DEFAULT]",X8={[M_]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Li=new Map,Ud=new Map;function J8(t,e){try{t.container.addComponent(e)}catch(n){Fi.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function vs(t){const e=t.name;if(Ud.has(e))return Fi.debug(`There were multiple attempts to register component ${e}.`),!1;Ud.set(e,t);for(const n of Li.values())J8(n,t);return!0}const _r=new fl("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class t6{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new xi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw _r.create("app-deleted",{appName:this._name})}}const Bd="10.5.2";function N_(t,e={}){let n=t;"object"!=typeof e&&(e={name:e});const r=Object.assign({name:Vd,automaticDataCollectionEnabled:!1},e),i=r.name;if("string"!=typeof i||!i)throw _r.create("bad-app-name",{appName:String(i)});if(n||(n=UN()),!n)throw _r.create("no-options");const o=Li.get(i);if(o){if(v_(n,o.options)&&v_(r,o.config))return o;throw _r.create("duplicate-app",{appName:i})}const s=new u8(i);for(const l of Ud.values())s.addComponent(l);const a=new t6(n,r,s);return Li.set(i,a),a}function ZN(t=Vd){const e=Li.get(t);if(!e&&t===Vd&&UN())return N_();if(!e)throw _r.create("no-app",{appName:t});return e}function XN(){return Array.from(Li.values())}function ln(t,e,n){var r;let i=null!==(r=X8[t])&&void 0!==r?r:t;n&&(i+=`-${n}`);const o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){const a=[`Unable to register library "${i}" with version "${e}":`];return o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void Fi.warn(a.join(" "))}vs(new xi(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}const n6="firebase-heartbeat-database",r6=1,gl="firebase-heartbeat-store";let P_=null;function JN(){return P_||(P_=function w8(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(t,e),a=qr(s);return r&&s.addEventListener("upgradeneeded",l=>{r(qr(s.result),l.oldVersion,l.newVersion,qr(s.transaction),l)}),n&&s.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{o&&l.addEventListener("close",()=>o()),i&&l.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}(n6,r6,{upgrade:(t,e)=>{0===e&&t.createObjectStore(gl)}}).catch(t=>{throw _r.create("idb-open",{originalErrorMessage:t.message})})),P_}function O_(){return(O_=A(function*(t){try{return yield(yield JN()).transaction(gl).objectStore(gl).get(tR(t))}catch(e){if(e instanceof Pi)Fi.warn(e.message);else{const n=_r.create("idb-get",{originalErrorMessage:e?.message});Fi.warn(n.message)}}})).apply(this,arguments)}function eR(t,e){return x_.apply(this,arguments)}function x_(){return(x_=A(function*(t,e){try{const r=(yield JN()).transaction(gl,"readwrite");yield r.objectStore(gl).put(e,tR(t)),yield r.done}catch(n){if(n instanceof Pi)Fi.warn(n.message);else{const r=_r.create("idb-set",{originalErrorMessage:n?.message});Fi.warn(r.message)}}})).apply(this,arguments)}function tR(t){return`${t.name}!${t.options.appId}`}class a6{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new c6(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){var e=this;return A(function*(){const r=e.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=nR();if(null===e._heartbeatsCache&&(e._heartbeatsCache=yield e._heartbeatsCachePromise),e._heartbeatsCache.lastSentHeartbeatDate!==i&&!e._heartbeatsCache.heartbeats.some(o=>o.date===i))return e._heartbeatsCache.heartbeats.push({date:i,agent:r}),e._heartbeatsCache.heartbeats=e._heartbeatsCache.heartbeats.filter(o=>{const s=new Date(o.date).valueOf();return Date.now()-s<=2592e6}),e._storage.overwrite(e._heartbeatsCache)})()}getHeartbeatsHeader(){var e=this;return A(function*(){if(null===e._heartbeatsCache&&(yield e._heartbeatsCachePromise),null===e._heartbeatsCache||0===e._heartbeatsCache.heartbeats.length)return"";const n=nR(),{heartbeatsToSend:r,unsentEntries:i}=function l6(t,e=1024){const n=[];let r=t.slice();for(const i of t){const o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),rR(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),rR(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(e._heartbeatsCache.heartbeats),o=Pd(JSON.stringify({version:2,heartbeats:r}));return e._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(e._heartbeatsCache.heartbeats=i,yield e._storage.overwrite(e._heartbeatsCache)):(e._heartbeatsCache.heartbeats=[],e._storage.overwrite(e._heartbeatsCache)),o})()}}function nR(){return(new Date).toISOString().substring(0,10)}class c6{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return A(function*(){return!!function G5(){try{return"object"==typeof indexedDB}catch{return!1}}()&&function W5(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e((null===(o=i.error)||void 0===o?void 0:o.message)||"")}}catch(n){e(n)}})}().then(()=>!0).catch(()=>!1)})()}read(){var e=this;return A(function*(){return(yield e._canUseIndexedDBPromise)&&(yield function i6(t){return O_.apply(this,arguments)}(e.app))||{heartbeats:[]}})()}overwrite(e){var n=this;return A(function*(){var r;if(yield n._canUseIndexedDBPromise){const o=yield n.read();return eR(n.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}})()}add(e){var n=this;return A(function*(){var r;if(yield n._canUseIndexedDBPromise){const o=yield n.read();return eR(n.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}})()}}function rR(t){return Pd(JSON.stringify({version:2,heartbeats:t})).length}!function u6(t){vs(new xi("platform-logger",e=>new b8(e),"PRIVATE")),vs(new xi("heartbeat",e=>new a6(e),"PRIVATE")),ln(M_,"0.9.22",t),ln(M_,"0.9.22","esm2017"),ln("fire-js","")}("");const iR="@firebase/database";let k_="";class d6{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){null==n?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Ye(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return null==n?null:pl(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}class h6{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){null==n?delete this.cache_[e]:this.cache_[e]=n}get(e){return Hn(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}const aR=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new d6(e)}}catch{}return new h6},Vi=aR("localStorage"),F_=aR("sessionStorage"),ys=new w_("@firebase/database"),lR=function(){let t=1;return function(){return t++}}(),cR=function(t){const e=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);if(i>=55296&&i<=56319){const o=i-55296;r++,b(r<t.length,"Surrogate pair missing trail surrogate."),i=65536+(o<<10)+(t.charCodeAt(r)-56320)}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e}(t),n=new Z5;n.update(e);const r=n.digest();return m_.encodeByteArray(r)},ml=function(...t){let e="";for(let n=0;n<t.length;n++){const r=t[n];Array.isArray(r)||r&&"object"==typeof r&&"number"==typeof r.length?e+=ml.apply(null,r):e+="object"==typeof r?Ye(r):r,e+=" "}return e};let Ui=null,uR=!0;const Ke=function(...t){if(!0===uR&&(uR=!1,null===Ui&&!0===F_.get("logging_enabled")&&function(t,e){b(!e||!0===t||!1===t,"Can't turn on custom loggers persistently."),!0===t?(ys.logLevel=pe.VERBOSE,Ui=ys.log.bind(ys),e&&F_.set("logging_enabled",!0)):"function"==typeof t?Ui=t:(Ui=null,F_.remove("logging_enabled"))}(!0)),Ui){const e=ml.apply(null,t);Ui(e)}},_l=function(t){return function(...e){Ke(t,...e)}},L_=function(...t){const e="FIREBASE INTERNAL ERROR: "+ml(...t);ys.error(e)},Gn=function(...t){const e=`FIREBASE FATAL ERROR: ${ml(...t)}`;throw ys.error(e),new Error(e)},dt=function(...t){const e="FIREBASE WARNING: "+ml(...t);ys.warn(e)},jd=function(t){return"number"==typeof t&&(t!=t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},Yr="[MIN_NAME]",vr="[MAX_NAME]",Bi=function(t,e){if(t===e)return 0;if(t===Yr||e===vr)return-1;if(e===Yr||t===vr)return 1;{const n=pR(t),r=pR(e);return null!==n?null!==r?n-r==0?t.length-e.length:n-r:-1:null!==r?1:t<e?-1:1}},g6=function(t,e){return t===e?0:t<e?-1:1},vl=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+Ye(e))},V_=function(t){if("object"!=typeof t||null===t)return Ye(t);const e=[];for(const r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)0!==r&&(n+=","),n+=Ye(e[r]),n+=":",n+=V_(t[e[r]]);return n+="}",n},hR=function(t,e){const n=t.length;if(n<=e)return[t];const r=[];for(let i=0;i<n;i+=e)r.push(t.substring(i,i+e>n?n:i+e));return r};function Qe(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const fR=function(t){b(!jd(t),"Invalid JSON number");const r=1023;let i,o,s,a,l;0===t?(o=0,s=0,i=1/t==-1/0?1:0):(i=t<0,(t=Math.abs(t))>=Math.pow(2,1-r)?(a=Math.min(Math.floor(Math.log(t)/Math.LN2),r),o=a+r,s=Math.round(t*Math.pow(2,52-a)-Math.pow(2,52))):(o=0,s=Math.round(t/Math.pow(2,-1074))));const c=[];for(l=52;l;l-=1)c.push(s%2?1:0),s=Math.floor(s/2);for(l=11;l;l-=1)c.push(o%2?1:0),o=Math.floor(o/2);c.push(i?1:0),c.reverse();const u=c.join("");let d="";for(l=0;l<64;l+=8){let h=parseInt(u.substr(l,8),2).toString(16);1===h.length&&(h="0"+h),d+=h}return d.toLowerCase()},y6=new RegExp("^-?(0*)\\d{1,10}$"),pR=function(t){if(y6.test(t)){const e=Number(t);if(e>=-2147483648&&e<=2147483647)return e}return null},Cs=function(t){try{t()}catch(e){setTimeout(()=>{throw dt("Exception was thrown by user callback.",e.stack||""),e},Math.floor(0))}},yl=function(t,e){const n=setTimeout(t,e);return"number"==typeof n&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):"object"==typeof n&&n.unref&&n.unref(),n};class D6{constructor(e,n){this.appName_=e,this.appCheckProvider=n,this.appCheck=n?.getImmediate({optional:!0}),this.appCheck||n?.get().then(r=>this.appCheck=r)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){var n;null===(n=this.appCheckProvider)||void 0===n||n.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){dt(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class I6{constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&"auth/token-not-initialized"===n.code?(Ke("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';e+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',dt(e)}}let Cl=(()=>{class t{constructor(n){this.accessToken=n}getToken(n){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(n){n(this.accessToken)}removeTokenChangeListener(n){}notifyForInvalidToken(){}}return t.OWNER="owner",t})();const yR=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,wR="websocket",DR="long_polling";class B_{constructor(e,n,r,i,o=!1,s="",a=!1,l=!1){this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=o,this.persistenceKey=s,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=l,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Vi.get("host:"+e)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Vi.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function IR(t,e,n){let r;if(b("string"==typeof e,"typeof type must == string"),b("object"==typeof n,"typeof params must == object"),e===wR)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else{if(e!==DR)throw new Error("Unknown connection type: "+e);r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?"}(function b6(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams})(t)&&(n.ns=t.namespace);const i=[];return Qe(n,(o,s)=>{i.push(o+"="+s)}),r+i.join("&")}class T6{constructor(){this.counters_={}}incrementCounter(e,n=1){Hn(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return P5(this.counters_)}}const j_={},H_={};function $_(t){const e=t.toString();return j_[e]||(j_[e]=new T6),j_[e]}class A6{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&Cs(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class Kr{constructor(e,n,r,i,o,s,a){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=o,this.transportSessionId=s,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=_l(e),this.stats_=$_(n),this.urlFn=l=>(this.appCheckToken&&(l.ac=this.appCheckToken),IR(n,DR,l))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new A6(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(t){if("complete"===document.readyState)t();else{let e=!1;const n=function(){document.body?e||(e=!0,t()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&n()}),window.attachEvent("onload",n))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new G_((...o)=>{const[s,a,l,c,u]=o;if(this.incrementIncomingBytes_(o),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===s)this.id=a,this.password=l;else{if("close"!==s)throw new Error("Unrecognized command received: "+s);a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_()}},(...o)=>{const[s,a]=o;this.incrementIncomingBytes_(o),this.myPacketOrderer.handleResponse(s,a)},()=>{this.onClosed_()},this.urlFn);const r={start:"t"};r.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(r.cb=this.scriptTagHolder.uniqueCallbackIdentifier),r.v="5",this.transportSessionId&&(r.s=this.transportSessionId),this.lastSessionId&&(r.ls=this.lastSessionId),this.applicationId&&(r.p=this.applicationId),this.appCheckToken&&(r.ac=this.appCheckToken),typeof location<"u"&&location.hostname&&yR.test(location.hostname)&&(r.r="f");const i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Kr.forceAllow_=!0}static forceDisallow(){Kr.forceDisallow_=!0}static isAvailable(){return!(!Kr.forceAllow_&&(Kr.forceDisallow_||!(typeof document<"u")||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=Ye(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=LN(n),i=hR(r,1840);for(let o=0;o<i.length;o++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[o]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const r={dframe:"t"};r.id=e,r.pw=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=Ye(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class G_{constructor(e,n,r,i){this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=lR(),window["pLPCommand"+this.uniqueCallbackIdentifier]=e,window["pRTLPCB"+this.uniqueCallbackIdentifier]=n,this.myIFrame=G_.createIFrame_();let o="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(o='<script>document.domain="'+document.domain+'";<\/script>');const s="<html><body>"+o+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(s),this.myIFrame.doc.close()}catch(a){Ke("frame writing exception"),a.stack&&Ke(a.stack),Ke(a)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||Ke("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;let n=this.urlFn(e),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+r.length<=1870;){const s=this.pendingSegs.shift();r=r+"&seg"+i+"="+s.seg+"&ts"+i+"="+s.ts+"&d"+i+"="+s.d,i++}return n+=r,this.addLongPollTag_(n,this.currentSerial),!0}return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(r,Math.floor(25e3));this.addTag(e,()=>{clearTimeout(i),r()})}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const i=r.readyState;(!i||"loaded"===i||"complete"===i)&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{Ke("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}let $d=null;typeof MozWebSocket<"u"?$d=MozWebSocket:typeof WebSocket<"u"&&($d=WebSocket);let Es=(()=>{class t{constructor(n,r,i,o,s,a,l){this.connId=n,this.applicationId=i,this.appCheckToken=o,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=_l(this.connId),this.stats_=$_(r),this.connURL=t.connectionURL_(r,a,l,o,i),this.nodeAdmin=r.nodeAdmin}static connectionURL_(n,r,i,o,s){const a={v:"5"};return typeof location<"u"&&location.hostname&&yR.test(location.hostname)&&(a.r="f"),r&&(a.s=r),i&&(a.ls=i),o&&(a.ac=o),s&&(a.p=s),IR(n,wR,a)}open(n,r){this.onDisconnect=r,this.onMessage=n,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Vi.set("previous_websocket_failure",!0);try{let i;0,this.mySock=new $d(this.connURL,[],i)}catch(i){this.log_("Error instantiating WebSocket.");const o=i.message||i.data;return o&&this.log_(o),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=i=>{this.handleIncomingFrame(i)},this.mySock.onerror=i=>{this.log_("WebSocket error.  Closing connection.");const o=i.message||i.data;o&&this.log_(o),this.onClosed_()}}start(){}static forceDisallow(){t.forceDisallow_=!0}static isAvailable(){let n=!1;if(typeof navigator<"u"&&navigator.userAgent){const i=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);i&&i.length>1&&parseFloat(i[1])<4.4&&(n=!0)}return!n&&null!==$d&&!t.forceDisallow_}static previouslyFailed(){return Vi.isInMemoryStorage||!0===Vi.get("previous_websocket_failure")}markConnectionHealthy(){Vi.remove("previous_websocket_failure")}appendFrame_(n){if(this.frames.push(n),this.frames.length===this.totalFrames){const r=this.frames.join("");this.frames=null;const i=pl(r);this.onMessage(i)}}handleNewFrameCount_(n){this.totalFrames=n,this.frames=[]}extractFrameCount_(n){if(b(null===this.frames,"We already have a frame buffer"),n.length<=6){const r=Number(n);if(!isNaN(r))return this.handleNewFrameCount_(r),null}return this.handleNewFrameCount_(1),n}handleIncomingFrame(n){if(null===this.mySock)return;const r=n.data;if(this.bytesReceived+=r.length,this.stats_.incrementCounter("bytes_received",r.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(r);else{const i=this.extractFrameCount_(r);null!==i&&this.appendFrame_(i)}}send(n){this.resetKeepAlive();const r=Ye(n);this.bytesSent+=r.length,this.stats_.incrementCounter("bytes_sent",r.length);const i=hR(r,16384);i.length>1&&this.sendString_(String(i.length));for(let o=0;o<i.length;o++)this.sendString_(i[o])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(n){try{this.mySock.send(n)}catch(r){this.log_("Exception thrown from WebSocket.send():",r.message||r.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return t.responsesRequiredToBeHealthy=2,t.healthyTimeout=3e4,t})(),RR=(()=>{class t{constructor(n){this.initTransports_(n)}static get ALL_TRANSPORTS(){return[Kr,Es]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(n){const r=Es&&Es.isAvailable();let i=r&&!Es.previouslyFailed();if(n.webSocketOnly&&(r||dt("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[Es];else{const o=this.transports_=[];for(const s of t.ALL_TRANSPORTS)s&&s.isAvailable()&&o.push(s);t.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return t.globalTransportInitialized_=!1,t})();class VR{constructor(e,n,r,i,o,s,a,l,c,u){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=o,this.onMessage_=s,this.onReady_=a,this.onDisconnect_=l,this.onKill_=c,this.lastSessionId=u,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=_l("c:"+this.id+":"),this.transportManager_=new RR(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=yl(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{2!==this.state_&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){this.sendData_({t:"d",d:e})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if("t"in e){const n=e.t;"a"===n?this.upgradeIfSecondaryHealthy_():"r"===n?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===n&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=vl("t",e),r=vl("d",e);if("c"===n)this.onSecondaryControl_(r);else{if("d"!==n)throw new Error("Unknown protocol layer: "+n);this.pendingDataMessages.push(r)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=vl("t",e),r=vl("d",e);"c"===n?this.onControl_(r):"d"===n&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=vl("t",e);if("d"in e){const r=e.d;if("h"===n){const i=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if("n"===n){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===n?this.onConnectionShutdown_(r):"r"===n?this.onReset_(r):"e"===n?L_("Server Error: "+r):"o"===n?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):L_("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),"5"!==r&&dt("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),yl(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):yl(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Vi.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class UR{put(e,n,r,i){}merge(e,n,r,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}}class BR{constructor(e){this.allowedEvents_=e,this.listeners_={},b(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});const i=this.getInitialEvent(e);i&&n.apply(r,i)}off(e,n,r){this.validateEventType_(e);const i=this.listeners_[e]||[];for(let o=0;o<i.length;o++)if(i[o].callback===n&&(!r||r===i[o].context))return void i.splice(o,1)}validateEventType_(e){b(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}class Gd extends BR{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!__()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new Gd}getInitialEvent(e){return b("online"===e,"Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}class ae{constructor(e,n){if(void 0===n){this.pieces_=e.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)""!==this.pieces_[n]&&(e+="/"+this.pieces_[n]);return e||"/"}}function ne(){return new ae("")}function Y(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function Qr(t){return t.pieces_.length-t.pieceNum_}function me(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new ae(t.pieces_,e)}function z_(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function El(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function $R(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new ae(e,0)}function Te(t,e){const n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof ae)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{const r=e.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new ae(n,0)}function K(t){return t.pieceNum_>=t.pieces_.length}function It(t,e){const n=Y(t),r=Y(e);if(null===n)return e;if(n===r)return It(me(t),me(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function Q6(t,e){const n=El(t,0),r=El(e,0);for(let i=0;i<n.length&&i<r.length;i++){const o=Bi(n[i],r[i]);if(0!==o)return o}return n.length===r.length?0:n.length<r.length?-1:1}function q_(t,e){if(Qr(t)!==Qr(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function cn(t,e){let n=t.pieceNum_,r=e.pieceNum_;if(Qr(t)>Qr(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}class Z6{constructor(e,n){this.errorPrefix_=n,this.parts_=El(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=Ld(this.parts_[r]);GR(this)}}function GR(t){if(t.byteLength_>768)throw new Error(t.errorPrefix_+"has a key path longer than 768 bytes ("+t.byteLength_+").");if(t.parts_.length>32)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+ji(t))}function ji(t){return 0===t.parts_.length?"":"in property '"+t.parts_.join(".")+"'"}class Y_ extends BR{constructor(){let e,n;super(["visible"]),typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new Y_}getInitialEvent(e){return b("visible"===e,"Unknown event type: "+e),[this.visible_]}}const wl=1e3;let zd,Hi=(()=>{class t extends UR{constructor(n,r,i,o,s,a,l,c){if(super(),this.repoInfo_=n,this.applicationId_=r,this.onDataUpdate_=i,this.onConnectStatus_=o,this.onServerInfoUpdate_=s,this.authTokenProvider_=a,this.appCheckTokenProvider_=l,this.authOverride_=c,this.id=t.nextPersistentConnectionId_++,this.log_=_l("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=wl,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,c)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Y_.getInstance().on("visible",this.onVisible_,this),-1===n.host.indexOf("fblocal")&&Gd.getInstance().on("online",this.onOnline_,this)}sendRequest(n,r,i){const o=++this.requestNumber_,s={r:o,a:n,b:r};this.log_(Ye(s)),b(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),i&&(this.requestCBHash_[o]=i)}get(n){this.initConnection_();const r=new ms,o={action:"g",request:{p:n._path.toString(),q:n._queryObject},onComplete:a=>{const l=a.d;"ok"===a.s?r.resolve(l):r.reject(l)}};return this.outstandingGets_.push(o),this.outstandingGetCount_++,this.connected_&&this.sendGet_(this.outstandingGets_.length-1),r.promise}listen(n,r,i,o){this.initConnection_();const s=n._queryIdentifier,a=n._path.toString();this.log_("Listen called for "+a+" "+s),this.listens.has(a)||this.listens.set(a,new Map),b(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"listen() called for non-default but complete query"),b(!this.listens.get(a).has(s),"listen() called twice for same path/queryId.");const l={onComplete:o,hashFn:r,query:n,tag:i};this.listens.get(a).set(s,l),this.connected_&&this.sendListen_(l)}sendGet_(n){const r=this.outstandingGets_[n];this.sendRequest("g",r.request,i=>{delete this.outstandingGets_[n],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),r.onComplete&&r.onComplete(i)})}sendListen_(n){const r=n.query,i=r._path.toString(),o=r._queryIdentifier;this.log_("Listen on "+i+" for "+o);const s={p:i};n.tag&&(s.q=r._queryObject,s.t=n.tag),s.h=n.hashFn(),this.sendRequest("q",s,l=>{const c=l.d,u=l.s;t.warnOnListenWarnings_(c,r),(this.listens.get(i)&&this.listens.get(i).get(o))===n&&(this.log_("listen response",l),"ok"!==u&&this.removeListen_(i,o),n.onComplete&&n.onComplete(u,c))})}static warnOnListenWarnings_(n,r){if(n&&"object"==typeof n&&Hn(n,"w")){const i=_s(n,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){const o='".indexOn": "'+r._queryParams.getIndex().toString()+'"',s=r._path.toString();dt(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${o} at ${s} to your security rules for better performance.`)}}}refreshAuthToken(n){this.authToken_=n,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(n)}reduceReconnectDelayIfAdminCredential_(n){(n&&40===n.length||function(t){const e=kd(t).claims;return"object"==typeof e&&!0===e.admin}(n))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(n){this.appCheckToken_=n,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const n=this.authToken_,r=function(t){const n=kd(t).claims;return!!n&&"object"==typeof n&&n.hasOwnProperty("iat")}(n)?"auth":"gauth",i={cred:n};null===this.authOverride_?i.noauth=!0:"object"==typeof this.authOverride_&&(i.authvar=this.authOverride_),this.sendRequest(r,i,o=>{const s=o.s,a=o.d||"error";this.authToken_===n&&("ok"===s?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(s,a))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},n=>{const r=n.s,i=n.d||"error";"ok"===r?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(r,i)})}unlisten(n,r){const i=n._path.toString(),o=n._queryIdentifier;this.log_("Unlisten called for "+i+" "+o),b(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(i,o)&&this.connected_&&this.sendUnlisten_(i,o,n._queryObject,r)}sendUnlisten_(n,r,i,o){this.log_("Unlisten on "+n+" for "+r);const s={p:n};o&&(s.q=i,s.t=o),this.sendRequest("n",s)}onDisconnectPut(n,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",n,r,i):this.onDisconnectRequestQueue_.push({pathString:n,action:"o",data:r,onComplete:i})}onDisconnectMerge(n,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",n,r,i):this.onDisconnectRequestQueue_.push({pathString:n,action:"om",data:r,onComplete:i})}onDisconnectCancel(n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",n,null,r):this.onDisconnectRequestQueue_.push({pathString:n,action:"oc",data:null,onComplete:r})}sendOnDisconnect_(n,r,i,o){const s={p:r,d:i};this.log_("onDisconnect "+n,s),this.sendRequest(n,s,a=>{o&&setTimeout(()=>{o(a.s,a.d)},Math.floor(0))})}put(n,r,i,o){this.putInternal("p",n,r,i,o)}merge(n,r,i,o){this.putInternal("m",n,r,i,o)}putInternal(n,r,i,o,s){this.initConnection_();const a={p:r,d:i};void 0!==s&&(a.h=s),this.outstandingPuts_.push({action:n,request:a,onComplete:o}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+r)}sendPut_(n){const r=this.outstandingPuts_[n].action,i=this.outstandingPuts_[n].request,o=this.outstandingPuts_[n].onComplete;this.outstandingPuts_[n].queued=this.connected_,this.sendRequest(r,i,s=>{this.log_(r+" response",s),delete this.outstandingPuts_[n],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),o&&o(s.s,s.d)})}reportStats(n){if(this.connected_){const r={c:n};this.log_("reportStats",r),this.sendRequest("s",r,i=>{"ok"!==i.s&&this.log_("reportStats","Error sending stats: "+i.d)})}}onDataMessage_(n){if("r"in n){this.log_("from server: "+Ye(n));const r=n.r,i=this.requestCBHash_[r];i&&(delete this.requestCBHash_[r],i(n.b))}else{if("error"in n)throw"A server-side error has occurred: "+n.error;"a"in n&&this.onDataPush_(n.a,n.b)}}onDataPush_(n,r){this.log_("handleServerMessage",n,r),"d"===n?this.onDataUpdate_(r.p,r.d,!1,r.t):"m"===n?this.onDataUpdate_(r.p,r.d,!0,r.t):"c"===n?this.onListenRevoked_(r.p,r.q):"ac"===n?this.onAuthRevoked_(r.s,r.d):"apc"===n?this.onAppCheckRevoked_(r.s,r.d):"sd"===n?this.onSecurityDebugPacket_(r):L_("Unrecognized action received from server: "+Ye(n)+"\nAre you using the latest client?")}onReady_(n,r){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(n),this.lastSessionId=r,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(n){b(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(n))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(n){n&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=wl,this.realtime_||this.scheduleConnect_(0)),this.visible_=n}onOnline_(n){n?(this.log_("Browser went online."),this.reconnectDelay_=wl,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=wl),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const n=(new Date).getTime()-this.lastConnectionAttemptTime_;let r=Math.max(0,this.reconnectDelay_-n);r=Math.random()*r,this.log_("Trying to reconnect in "+r+"ms"),this.scheduleConnect_(r),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var n=this;return A(function*(){if(n.shouldReconnect_()){n.log_("Making a connection attempt"),n.lastConnectionAttemptTime_=(new Date).getTime(),n.lastConnectionEstablishedTime_=null;const r=n.onDataMessage_.bind(n),i=n.onReady_.bind(n),o=n.onRealtimeDisconnect_.bind(n),s=n.id+":"+t.nextConnectionId_++,a=n.lastSessionId;let l=!1,c=null;const u=function(){c?c.close():(l=!0,o())};n.realtime_={close:u,sendRequest:function(f){b(c,"sendRequest call when we're not connected not allowed."),c.sendRequest(f)}};const h=n.forceTokenRefresh_;n.forceTokenRefresh_=!1;try{const[f,p]=yield Promise.all([n.authTokenProvider_.getToken(h),n.appCheckTokenProvider_.getToken(h)]);l?Ke("getToken() completed but was canceled"):(Ke("getToken() completed. Creating connection."),n.authToken_=f&&f.accessToken,n.appCheckToken_=p&&p.token,c=new VR(s,n.repoInfo_,n.applicationId_,n.appCheckToken_,n.authToken_,r,i,o,g=>{dt(g+" ("+n.repoInfo_.toString()+")"),n.interrupt("server_kill")},a))}catch(f){n.log_("Failed to get token: "+f),l||(n.repoInfo_.nodeAdmin&&dt(f),u())}}})()}interrupt(n){Ke("Interrupting connection for reason: "+n),this.interruptReasons_[n]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(n){Ke("Resuming connection for reason: "+n),delete this.interruptReasons_[n],jN(this.interruptReasons_)&&(this.reconnectDelay_=wl,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(n){const r=n-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:r})}cancelSentTransactions_(){for(let n=0;n<this.outstandingPuts_.length;n++){const r=this.outstandingPuts_[n];r&&"h"in r.request&&r.queued&&(r.onComplete&&r.onComplete("disconnect"),delete this.outstandingPuts_[n],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(n,r){let i;i=r?r.map(s=>V_(s)).join("$"):"default";const o=this.removeListen_(n,i);o&&o.onComplete&&o.onComplete("permission_denied")}removeListen_(n,r){const i=new ae(n).toString();let o;if(this.listens.has(i)){const s=this.listens.get(i);o=s.get(r),s.delete(r),0===s.size&&this.listens.delete(i)}else o=void 0;return o}onAuthRevoked_(n,r){Ke("Auth token revoked: "+n+"/"+r),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===n||"permission_denied"===n)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(n,r){Ke("App check token revoked: "+n+"/"+r),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===n||"permission_denied"===n)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(n){this.securityDebugCallback_?this.securityDebugCallback_(n):"msg"in n&&console.log("FIREBASE: "+n.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const n of this.listens.values())for(const r of n.values())this.sendListen_(r);for(let n=0;n<this.outstandingPuts_.length;n++)this.outstandingPuts_[n]&&this.sendPut_(n);for(;this.onDisconnectRequestQueue_.length;){const n=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(n.action,n.pathString,n.data,n.onComplete)}for(let n=0;n<this.outstandingGets_.length;n++)this.outstandingGets_[n]&&this.sendGet_(n)}sendConnectStats_(){const n={};let r="js";n["sdk."+r+"."+k_.replace(/\./g,"-")]=1,__()?n["framework.cordova"]=1:BN()&&(n["framework.reactnative"]=1),this.reportStats(n)}shouldReconnect_(){const n=Gd.getInstance().currentlyOnline();return jN(this.interruptReasons_)&&n}}return t.nextPersistentConnectionId_=0,t.nextConnectionId_=0,t})();class Q{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new Q(e,n)}}class Wd{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const r=new Q(Yr,e),i=new Q(Yr,n);return 0!==this.compare(r,i)}minPost(){return Q.MIN}}class qR extends Wd{static get __EMPTY_NODE(){return zd}static set __EMPTY_NODE(e){zd=e}compare(e,n){return Bi(e.name,n.name)}isDefinedOn(e){throw gs("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return Q.MIN}maxPost(){return new Q(vr,zd)}makePost(e,n){return b("string"==typeof e,"KeyIndex indexValue must always be a string."),new Q(e,zd)}toString(){return".key"}}const Wn=new qR;class qd{constructor(e,n,r,i,o=null){this.isReverse_=i,this.resultGenerator_=o,this.nodeStack_=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,i&&(s*=-1),s<0)e=this.isReverse_?e.left:e.right;else{if(0===s){this.nodeStack_.push(e);break}this.nodeStack_.push(e),e=this.isReverse_?e.right:e.left}}getNext(){if(0===this.nodeStack_.length)return null;let n,e=this.nodeStack_.pop();if(n=this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}let Q_,In=(()=>{class t{constructor(n,r,i,o,s){this.key=n,this.value=r,this.color=i??t.RED,this.left=o??Ft.EMPTY_NODE,this.right=s??Ft.EMPTY_NODE}copy(n,r,i,o,s){return new t(n??this.key,r??this.value,i??this.color,o??this.left,s??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(n){return this.left.inorderTraversal(n)||!!n(this.key,this.value)||this.right.inorderTraversal(n)}reverseTraversal(n){return this.right.reverseTraversal(n)||n(this.key,this.value)||this.left.reverseTraversal(n)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(n,r,i){let o=this;const s=i(n,o.key);return o=s<0?o.copy(null,null,null,o.left.insert(n,r,i),null):0===s?o.copy(null,r,null,null,null):o.copy(null,null,null,null,o.right.insert(n,r,i)),o.fixUp_()}removeMin_(){if(this.left.isEmpty())return Ft.EMPTY_NODE;let n=this;return!n.left.isRed_()&&!n.left.left.isRed_()&&(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.removeMin_(),null),n.fixUp_()}remove(n,r){let i,o;if(i=this,r(n,i.key)<0)!i.left.isEmpty()&&!i.left.isRed_()&&!i.left.left.isRed_()&&(i=i.moveRedLeft_()),i=i.copy(null,null,null,i.left.remove(n,r),null);else{if(i.left.isRed_()&&(i=i.rotateRight_()),!i.right.isEmpty()&&!i.right.isRed_()&&!i.right.left.isRed_()&&(i=i.moveRedRight_()),0===r(n,i.key)){if(i.right.isEmpty())return Ft.EMPTY_NODE;o=i.right.min_(),i=i.copy(o.key,o.value,null,null,i.right.removeMin_())}i=i.copy(null,null,null,null,i.right.remove(n,r))}return i.fixUp_()}isRed_(){return this.color}fixUp_(){let n=this;return n.right.isRed_()&&!n.left.isRed_()&&(n=n.rotateLeft_()),n.left.isRed_()&&n.left.left.isRed_()&&(n=n.rotateRight_()),n.left.isRed_()&&n.right.isRed_()&&(n=n.colorFlip_()),n}moveRedLeft_(){let n=this.colorFlip_();return n.right.left.isRed_()&&(n=n.copy(null,null,null,null,n.right.rotateRight_()),n=n.rotateLeft_(),n=n.colorFlip_()),n}moveRedRight_(){let n=this.colorFlip_();return n.left.left.isRed_()&&(n=n.rotateRight_(),n=n.colorFlip_()),n}rotateLeft_(){const n=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,n,null)}rotateRight_(){const n=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,n)}colorFlip_(){const n=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,n,r)}checkMaxDepth_(){const n=this.check_();return Math.pow(2,n)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const n=this.left.check_();if(n!==this.right.check_())throw new Error("Black depths differ");return n+(this.isRed_()?0:1)}}return t.RED=!0,t.BLACK=!1,t})();class Ft{constructor(e,n=Ft.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new Ft(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,In.BLACK,null,null))}remove(e){return new Ft(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,In.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),0===n)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,i=null;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),0===n){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}n<0?r=r.left:n>0&&(i=r,r=r.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new qd(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new qd(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new qd(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new qd(this.root_,null,this.comparator_,!0,e)}}function oq(t,e){return Bi(t.name,e.name)}function K_(t,e){return Bi(t,e)}Ft.EMPTY_NODE=new class iq{copy(e,n,r,i,o){return this}insert(e,n,r){return new In(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const YR=function(t){return"number"==typeof t?"number:"+fR(t):"string:"+t},KR=function(t){if(t.isLeafNode()){const e=t.val();b("string"==typeof e||"number"==typeof e||"object"==typeof e&&Hn(e,".sv"),"Priority must be a string or number.")}else b(t===Q_||t.isEmpty(),"priority of unexpected type.");b(t===Q_||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let QR,ZR,XR,ws=(()=>{class t{constructor(n,r=t.__childrenNodeConstructor.EMPTY_NODE){this.value_=n,this.priorityNode_=r,this.lazyHash_=null,b(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),KR(this.priorityNode_)}static set __childrenNodeConstructor(n){QR=n}static get __childrenNodeConstructor(){return QR}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(n){return new t(this.value_,n)}getImmediateChild(n){return".priority"===n?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE}getChild(n){return K(n)?this:".priority"===Y(n)?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(n,r){return null}updateImmediateChild(n,r){return".priority"===n?this.updatePriority(r):r.isEmpty()&&".priority"!==n?this:t.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(n,r).updatePriority(this.priorityNode_)}updateChild(n,r){const i=Y(n);return null===i?r:r.isEmpty()&&".priority"!==i?this:(b(".priority"!==i||1===Qr(n),".priority must be the last token in a path"),this.updateImmediateChild(i,t.__childrenNodeConstructor.EMPTY_NODE.updateChild(me(n),r)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(n,r){return!1}val(n){return n&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let n="";this.priorityNode_.isEmpty()||(n+="priority:"+YR(this.priorityNode_.val())+":");const r=typeof this.value_;n+=r+":",n+="number"===r?fR(this.value_):this.value_,this.lazyHash_=cR(n)}return this.lazyHash_}getValue(){return this.value_}compareTo(n){return n===t.__childrenNodeConstructor.EMPTY_NODE?1:n instanceof t.__childrenNodeConstructor?-1:(b(n.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(n))}compareToLeafNode_(n){const r=typeof n.value_,i=typeof this.value_,o=t.VALUE_TYPE_ORDER.indexOf(r),s=t.VALUE_TYPE_ORDER.indexOf(i);return b(o>=0,"Unknown leaf type: "+r),b(s>=0,"Unknown leaf type: "+i),o===s?"object"===i?0:this.value_<n.value_?-1:this.value_===n.value_?0:1:s-o}withIndex(){return this}isIndexed(){return!0}equals(n){return n===this||!!n.isLeafNode()&&(this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_))}}return t.VALUE_TYPE_ORDER=["object","boolean","number","string"],t})();const we=new class cq extends Wd{compare(e,n){const r=e.node.getPriority(),i=n.node.getPriority(),o=r.compareTo(i);return 0===o?Bi(e.name,n.name):o}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return Q.MIN}maxPost(){return new Q(vr,new ws("[PRIORITY-POST]",XR))}makePost(e,n){const r=ZR(e);return new Q(n,new ws("[PRIORITY-POST]",r))}toString(){return".priority"}},uq=Math.log(2);class dq{constructor(e){this.count=parseInt(Math.log(e+1)/uq,10),this.current_=this.count-1;const i=(o=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=e+1&i}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const Yd=function(t,e,n,r){t.sort(e);const i=function(l,c){const u=c-l;let d,h;if(0===u)return null;if(1===u)return d=t[l],h=n?n(d):d,new In(h,d.node,In.BLACK,null,null);{const f=parseInt(u/2,10)+l,p=i(l,f),g=i(f+1,c);return d=t[f],h=n?n(d):d,new In(h,d.node,In.BLACK,p,g)}},a=function(l){let c=null,u=null,d=t.length;const h=function(p,g){const m=d-p,y=d;d-=p;const _=i(m+1,y),R=t[m],P=n?n(R):R;f(new In(P,R.node,g,null,_))},f=function(p){c?(c.left=p,c=p):(u=p,c=p)};for(let p=0;p<l.count;++p){const g=l.nextBitIsOne(),m=Math.pow(2,l.count-(p+1));g?h(m,In.BLACK):(h(m,In.BLACK),h(m,In.RED))}return u}(new dq(t.length));return new Ft(r||e,a)};let Z_;const Ds={};class yr{constructor(e,n){this.indexes_=e,this.indexSet_=n}static get Default(){return b(Ds&&we,"ChildrenNode.ts has not been loaded"),Z_=Z_||new yr({".priority":Ds},{".priority":we}),Z_}get(e){const n=_s(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof Ft?n:null}hasIndex(e){return Hn(this.indexSet_,e.toString())}addIndex(e,n){b(e!==Wn,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let i=!1;const o=n.getIterator(Q.Wrap);let a,s=o.getNext();for(;s;)i=i||e.isDefinedOn(s.node),r.push(s),s=o.getNext();a=i?Yd(r,e.getCompare()):Ds;const l=e.toString(),c=Object.assign({},this.indexSet_);c[l]=e;const u=Object.assign({},this.indexes_);return u[l]=a,new yr(u,c)}addToIndexes(e,n){const r=Fd(this.indexes_,(i,o)=>{const s=_s(this.indexSet_,o);if(b(s,"Missing index implementation for "+o),i===Ds){if(s.isDefinedOn(e.node)){const a=[],l=n.getIterator(Q.Wrap);let c=l.getNext();for(;c;)c.name!==e.name&&a.push(c),c=l.getNext();return a.push(e),Yd(a,s.getCompare())}return Ds}{const a=n.get(e.name);let l=i;return a&&(l=l.remove(new Q(e.name,a))),l.insert(e,e.node)}});return new yr(r,this.indexSet_)}removeFromIndexes(e,n){const r=Fd(this.indexes_,i=>{if(i===Ds)return i;{const o=n.get(e.name);return o?i.remove(new Q(e.name,o)):i}});return new yr(r,this.indexSet_)}}let Dl,W=(()=>{class t{constructor(n,r,i){this.children_=n,this.priorityNode_=r,this.indexMap_=i,this.lazyHash_=null,this.priorityNode_&&KR(this.priorityNode_),this.children_.isEmpty()&&b(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return Dl||(Dl=new t(new Ft(K_),null,yr.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Dl}updatePriority(n){return this.children_.isEmpty()?this:new t(this.children_,n,this.indexMap_)}getImmediateChild(n){if(".priority"===n)return this.getPriority();{const r=this.children_.get(n);return null===r?Dl:r}}getChild(n){const r=Y(n);return null===r?this:this.getImmediateChild(r).getChild(me(n))}hasChild(n){return null!==this.children_.get(n)}updateImmediateChild(n,r){if(b(r,"We should always be passing snapshot nodes"),".priority"===n)return this.updatePriority(r);{const i=new Q(n,r);let o,s;r.isEmpty()?(o=this.children_.remove(n),s=this.indexMap_.removeFromIndexes(i,this.children_)):(o=this.children_.insert(n,r),s=this.indexMap_.addToIndexes(i,this.children_));const a=o.isEmpty()?Dl:this.priorityNode_;return new t(o,a,s)}}updateChild(n,r){const i=Y(n);if(null===i)return r;{b(".priority"!==Y(n)||1===Qr(n),".priority must be the last token in a path");const o=this.getImmediateChild(i).updateChild(me(n),r);return this.updateImmediateChild(i,o)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(n){if(this.isEmpty())return null;const r={};let i=0,o=0,s=!0;if(this.forEachChild(we,(a,l)=>{r[a]=l.val(n),i++,s&&t.INTEGER_REGEXP_.test(a)?o=Math.max(o,Number(a)):s=!1}),!n&&s&&o<2*i){const a=[];for(const l in r)a[l]=r[l];return a}return n&&!this.getPriority().isEmpty()&&(r[".priority"]=this.getPriority().val()),r}hash(){if(null===this.lazyHash_){let n="";this.getPriority().isEmpty()||(n+="priority:"+YR(this.getPriority().val())+":"),this.forEachChild(we,(r,i)=>{const o=i.hash();""!==o&&(n+=":"+r+":"+o)}),this.lazyHash_=""===n?"":cR(n)}return this.lazyHash_}getPredecessorChildName(n,r,i){const o=this.resolveIndex_(i);if(o){const s=o.getPredecessorKey(new Q(n,r));return s?s.name:null}return this.children_.getPredecessorKey(n)}getFirstChildName(n){const r=this.resolveIndex_(n);if(r){const i=r.minKey();return i&&i.name}return this.children_.minKey()}getFirstChild(n){const r=this.getFirstChildName(n);return r?new Q(r,this.children_.get(r)):null}getLastChildName(n){const r=this.resolveIndex_(n);if(r){const i=r.maxKey();return i&&i.name}return this.children_.maxKey()}getLastChild(n){const r=this.getLastChildName(n);return r?new Q(r,this.children_.get(r)):null}forEachChild(n,r){const i=this.resolveIndex_(n);return i?i.inorderTraversal(o=>r(o.name,o.node)):this.children_.inorderTraversal(r)}getIterator(n){return this.getIteratorFrom(n.minPost(),n)}getIteratorFrom(n,r){const i=this.resolveIndex_(r);if(i)return i.getIteratorFrom(n,o=>o);{const o=this.children_.getIteratorFrom(n.name,Q.Wrap);let s=o.peek();for(;null!=s&&r.compare(s,n)<0;)o.getNext(),s=o.peek();return o}}getReverseIterator(n){return this.getReverseIteratorFrom(n.maxPost(),n)}getReverseIteratorFrom(n,r){const i=this.resolveIndex_(r);if(i)return i.getReverseIteratorFrom(n,o=>o);{const o=this.children_.getReverseIteratorFrom(n.name,Q.Wrap);let s=o.peek();for(;null!=s&&r.compare(s,n)>0;)o.getNext(),s=o.peek();return o}}compareTo(n){return this.isEmpty()?n.isEmpty()?0:-1:n.isLeafNode()||n.isEmpty()?1:n===Il?-1:0}withIndex(n){if(n===Wn||this.indexMap_.hasIndex(n))return this;{const r=this.indexMap_.addIndex(n,this.children_);return new t(this.children_,this.priorityNode_,r)}}isIndexed(n){return n===Wn||this.indexMap_.hasIndex(n)}equals(n){if(n===this)return!0;if(n.isLeafNode())return!1;{const r=n;if(this.getPriority().equals(r.getPriority())){if(this.children_.count()===r.children_.count()){const i=this.getIterator(we),o=r.getIterator(we);let s=i.getNext(),a=o.getNext();for(;s&&a;){if(s.name!==a.name||!s.node.equals(a.node))return!1;s=i.getNext(),a=o.getNext()}return null===s&&null===a}return!1}return!1}}resolveIndex_(n){return n===Wn?null:this.indexMap_.get(n.toString())}}return t.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,t})();const Il=new class hq extends W{constructor(){super(new Ft(K_),W.EMPTY_NODE,yr.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return W.EMPTY_NODE}isEmpty(){return!1}};Object.defineProperties(Q,{MIN:{value:new Q(Yr,W.EMPTY_NODE)},MAX:{value:new Q(vr,Il)}}),qR.__EMPTY_NODE=W.EMPTY_NODE,ws.__childrenNodeConstructor=W,function sq(t){Q_=t}(Il),function lq(t){XR=t}(Il);const fq=!0;function Ne(t,e=null){if(null===t)return W.EMPTY_NODE;if("object"==typeof t&&".priority"in t&&(e=t[".priority"]),b(null===e||"string"==typeof e||"number"==typeof e||"object"==typeof e&&".sv"in e,"Invalid priority type found: "+typeof e),"object"==typeof t&&".value"in t&&null!==t[".value"]&&(t=t[".value"]),"object"!=typeof t||".sv"in t)return new ws(t,Ne(e));if(t instanceof Array||!fq){let n=W.EMPTY_NODE;return Qe(t,(r,i)=>{if(Hn(t,r)&&"."!==r.substring(0,1)){const o=Ne(i);(o.isLeafNode()||!o.isEmpty())&&(n=n.updateImmediateChild(r,o))}}),n.updatePriority(Ne(e))}{const n=[];let r=!1;if(Qe(t,(s,a)=>{if("."!==s.substring(0,1)){const l=Ne(a);l.isEmpty()||(r=r||!l.getPriority().isEmpty(),n.push(new Q(s,l)))}}),0===n.length)return W.EMPTY_NODE;const o=Yd(n,oq,s=>s.name,K_);if(r){const s=Yd(n,we.getCompare());return new W(o,Ne(e),new yr({".priority":s},{".priority":we}))}return new W(o,Ne(e),yr.Default)}}!function aq(t){ZR=t}(Ne);class X_ extends Wd{constructor(e){super(),this.indexPath_=e,b(!K(e)&&".priority"!==Y(e),"Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const r=this.extractChild(e.node),i=this.extractChild(n.node),o=r.compareTo(i);return 0===o?Bi(e.name,n.name):o}makePost(e,n){const r=Ne(e),i=W.EMPTY_NODE.updateChild(this.indexPath_,r);return new Q(n,i)}maxPost(){const e=W.EMPTY_NODE.updateChild(this.indexPath_,Il);return new Q(vr,e)}toString(){return El(this.indexPath_,0).join("/")}}const J_=new class pq extends Wd{compare(e,n){const r=e.node.compareTo(n.node);return 0===r?Bi(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return Q.MIN}maxPost(){return Q.MAX}makePost(e,n){const r=Ne(e);return new Q(n,r)}toString(){return".value"}};function JR(t){return{type:"value",snapshotNode:t}}function Is(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function bl(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function Tl(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}class ev{constructor(e){this.index_=e}updateChild(e,n,r,i,o,s){b(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const a=e.getImmediateChild(n);return a.getChild(i).equals(r.getChild(i))&&a.isEmpty()===r.isEmpty()||(null!=s&&(r.isEmpty()?e.hasChild(n)?s.trackChildChange(bl(n,a)):b(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?s.trackChildChange(Is(n,r)):s.trackChildChange(Tl(n,r,a))),e.isLeafNode()&&r.isEmpty())?e:e.updateImmediateChild(n,r).withIndex(this.index_)}updateFullNode(e,n,r){return null!=r&&(e.isLeafNode()||e.forEachChild(we,(i,o)=>{n.hasChild(i)||r.trackChildChange(bl(i,o))}),n.isLeafNode()||n.forEachChild(we,(i,o)=>{if(e.hasChild(i)){const s=e.getImmediateChild(i);s.equals(o)||r.trackChildChange(Tl(i,o,s))}else r.trackChildChange(Is(i,o))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?W.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class Sl{constructor(e){this.indexedFilter_=new ev(e.getIndex()),this.index_=e.getIndex(),this.startPost_=Sl.getStartPost_(e),this.endPost_=Sl.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,r=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&r}updateChild(e,n,r,i,o,s){return this.matches(new Q(n,r))||(r=W.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,r,i,o,s)}updateFullNode(e,n,r){n.isLeafNode()&&(n=W.EMPTY_NODE);let i=n.withIndex(this.index_);i=i.updatePriority(W.EMPTY_NODE);const o=this;return n.forEachChild(we,(s,a)=>{o.matches(new Q(s,a))||(i=i.updateImmediateChild(s,W.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}return e.getIndex().maxPost()}}class mq{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const r=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=n=>{const r=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new Sl(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,r,i,o,s){return this.rangedFilter_.matches(new Q(n,r))||(r=W.EMPTY_NODE),e.getImmediateChild(n).equals(r)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,r,i,o,s):this.fullLimitUpdateChild_(e,n,r,o,s)}updateFullNode(e,n,r){let i;if(n.isLeafNode()||n.isEmpty())i=W.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<n.numChildren()&&n.isIndexed(this.index_)){let o;i=W.EMPTY_NODE.withIndex(this.index_),o=this.reverse_?n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let s=0;for(;o.hasNext()&&s<this.limit_;){const a=o.getNext();if(this.withinDirectionalStart(a)){if(!this.withinDirectionalEnd(a))break;i=i.updateImmediateChild(a.name,a.node),s++}}}else{let o;i=n.withIndex(this.index_),i=i.updatePriority(W.EMPTY_NODE),o=this.reverse_?i.getReverseIterator(this.index_):i.getIterator(this.index_);let s=0;for(;o.hasNext();){const a=o.getNext();s<this.limit_&&this.withinDirectionalStart(a)&&this.withinDirectionalEnd(a)?s++:i=i.updateImmediateChild(a.name,W.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,r,i,o){let s;if(this.reverse_){const d=this.index_.getCompare();s=(h,f)=>d(f,h)}else s=this.index_.getCompare();const a=e;b(a.numChildren()===this.limit_,"");const l=new Q(n,r),c=this.reverse_?a.getFirstChild(this.index_):a.getLastChild(this.index_),u=this.rangedFilter_.matches(l);if(a.hasChild(n)){const d=a.getImmediateChild(n);let h=i.getChildAfterChild(this.index_,c,this.reverse_);for(;null!=h&&(h.name===n||a.hasChild(h.name));)h=i.getChildAfterChild(this.index_,h,this.reverse_);const f=null==h?1:s(h,l);if(u&&!r.isEmpty()&&f>=0)return o?.trackChildChange(Tl(n,r,d)),a.updateImmediateChild(n,r);{o?.trackChildChange(bl(n,d));const g=a.updateImmediateChild(n,W.EMPTY_NODE);return null!=h&&this.rangedFilter_.matches(h)?(o?.trackChildChange(Is(h.name,h.node)),g.updateImmediateChild(h.name,h.node)):g}}return r.isEmpty()?e:u&&s(c,l)>=0?(null!=o&&(o.trackChildChange(bl(c.name,c.node)),o.trackChildChange(Is(n,r))),a.updateImmediateChild(n,r).updateImmediateChild(c.name,W.EMPTY_NODE)):e}}class tv{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=we}hasStart(){return this.startSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return b(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return b(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Yr}hasEnd(){return this.endSet_}getIndexEndValue(){return b(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return b(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:vr}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return b(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===we}copy(){const e=new tv;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function eP(t){const e={};if(t.isDefault())return e;let n;if(t.index_===we?n="$priority":t.index_===J_?n="$value":t.index_===Wn?n="$key":(b(t.index_ instanceof X_,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=Ye(n),t.startSet_){const r=t.startAfterSet_?"startAfter":"startAt";e[r]=Ye(t.indexStartValue_),t.startNameSet_&&(e[r]+=","+Ye(t.indexStartName_))}if(t.endSet_){const r=t.endBeforeSet_?"endBefore":"endAt";e[r]=Ye(t.indexEndValue_),t.endNameSet_&&(e[r]+=","+Ye(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function tP(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;""===n&&(n=t.isViewFromLeft()?"l":"r"),e.vf=n}return t.index_!==we&&(e.i=t.index_.toString()),e}class Qd extends UR{constructor(e,n,r,i){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=_l("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return void 0!==n?"tag$"+n:(b(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,n,r,i){const o=e._path.toString();this.log_("Listen called for "+o+" "+e._queryIdentifier);const s=Qd.getListenId_(e,r),a={};this.listens_[s]=a;const l=eP(e._queryParams);this.restRequest_(o+".json",l,(c,u)=>{let d=u;if(404===c&&(d=null,c=null),null===c&&this.onDataUpdate_(o,d,!1,r),_s(this.listens_,s)===a){let h;h=c?401===c?"permission_denied":"rest_error:"+c:"ok",i(h,null)}})}unlisten(e,n){const r=Qd.getListenId_(e,n);delete this.listens_[r]}get(e){const n=eP(e._queryParams),r=e._path.toString(),i=new ms;return this.restRequest_(r+".json",n,(o,s)=>{let a=s;404===o&&(a=null,o=null),null===o?(this.onDataUpdate_(r,a,!1,null),i.resolve(a)):i.reject(new Error(a))}),i.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,o])=>{i&&i.accessToken&&(n.auth=i.accessToken),o&&o.token&&(n.ac=o.token);const s=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+y_(n);this.log_("Sending REST request for "+s);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(r&&4===a.readyState){this.log_("REST Response for "+s+" received. status:",a.status,"response:",a.responseText);let l=null;if(a.status>=200&&a.status<300){try{l=pl(a.responseText)}catch{dt("Failed to parse JSON response for "+s+": "+a.responseText)}r(null,l)}else 401!==a.status&&404!==a.status&&dt("Got unsuccessful REST response for "+s+" Status: "+a.status),r(a.status);r=null}},a.open("GET",s,!0),a.send()})}}class wq{constructor(){this.rootNode_=W.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}function Zd(){return{value:null,children:new Map}}function bs(t,e,n){if(K(e))t.value=n,t.children.clear();else if(null!==t.value)t.value=t.value.updateChild(e,n);else{const r=Y(e);t.children.has(r)||t.children.set(r,Zd()),bs(t.children.get(r),e=me(e),n)}}function ov(t,e,n){null!==t.value?n(e,t.value):function Dq(t,e){t.children.forEach((n,r)=>{e(r,n)})}(t,(r,i)=>{ov(i,new ae(e.toString()+"/"+r),n)})}class Iq{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&Qe(this.last_,(r,i)=>{n[r]=n[r]-i}),this.last_=e,n}}class Sq{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new Iq(e);const r=1e4+2e4*Math.random();yl(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),n={};let r=!1;Qe(e,(i,o)=>{o>0&&Hn(this.statsToReport_,i)&&(n[i]=o,r=!0)}),r&&this.server_.reportStats(n),yl(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var zn=function(t){return t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",t}(zn||{});function lv(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}class Xd{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=zn.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(e){if(K(this.path)){if(null!=this.affectedTree.value)return b(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new ae(e));return new Xd(ne(),n,this.revert)}}return b(Y(this.path)===e,"operationForChild called for unrelated child."),new Xd(me(this.path),this.affectedTree,this.revert)}}class Al{constructor(e,n){this.source=e,this.path=n,this.type=zn.LISTEN_COMPLETE}operationForChild(e){return K(this.path)?new Al(this.source,ne()):new Al(this.source,me(this.path))}}class $i{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=zn.OVERWRITE}operationForChild(e){return K(this.path)?new $i(this.source,ne(),this.snap.getImmediateChild(e)):new $i(this.source,me(this.path),this.snap)}}class Ts{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=zn.MERGE}operationForChild(e){if(K(this.path)){const n=this.children.subtree(new ae(e));return n.isEmpty()?null:n.value?new $i(this.source,ne(),n.value):new Ts(this.source,ne(),n)}return b(Y(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new Ts(this.source,me(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class Zr{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(K(e))return this.isFullyInitialized()&&!this.filtered_;const n=Y(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}class Aq{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function Ml(t,e,n,r,i,o){const s=r.filter(a=>a.type===n);s.sort((a,l)=>function Rq(t,e,n){if(null==e.childName||null==n.childName)throw gs("Should only compare child_ events.");const r=new Q(e.childName,e.snapshotNode),i=new Q(n.childName,n.snapshotNode);return t.index_.compare(r,i)}(t,a,l)),s.forEach(a=>{const l=function Nq(t,e,n){return"value"===e.type||"child_removed"===e.type||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}(t,a,o);i.forEach(c=>{c.respondsTo(a.type)&&e.push(c.createEvent(l,t.query_))})})}function Jd(t,e){return{eventCache:t,serverCache:e}}function Nl(t,e,n,r){return Jd(new Zr(e,n,r),t.serverCache)}function rP(t,e,n,r){return Jd(t.eventCache,new Zr(e,n,r))}function eh(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function Gi(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}let cv;class De{constructor(e,n=(()=>(cv||(cv=new Ft(g6)),cv))()){this.value=e,this.children=n}static fromObject(e){let n=new De(null);return Qe(e,(r,i)=>{n=n.set(new ae(r),i)}),n}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(null!=this.value&&n(this.value))return{path:ne(),value:this.value};if(K(e))return null;{const r=Y(e),i=this.children.get(r);if(null!==i){const o=i.findRootMostMatchingPathAndValue(me(e),n);return null!=o?{path:Te(new ae(r),o.path),value:o.value}:null}return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(K(e))return this;{const n=Y(e),r=this.children.get(n);return null!==r?r.subtree(me(e)):new De(null)}}set(e,n){if(K(e))return new De(n,this.children);{const r=Y(e),o=(this.children.get(r)||new De(null)).set(me(e),n),s=this.children.insert(r,o);return new De(this.value,s)}}remove(e){if(K(e))return this.children.isEmpty()?new De(null):new De(null,this.children);{const n=Y(e),r=this.children.get(n);if(r){const i=r.remove(me(e));let o;return o=i.isEmpty()?this.children.remove(n):this.children.insert(n,i),null===this.value&&o.isEmpty()?new De(null):new De(this.value,o)}return this}}get(e){if(K(e))return this.value;{const n=Y(e),r=this.children.get(n);return r?r.get(me(e)):null}}setTree(e,n){if(K(e))return n;{const r=Y(e),o=(this.children.get(r)||new De(null)).setTree(me(e),n);let s;return s=o.isEmpty()?this.children.remove(r):this.children.insert(r,o),new De(this.value,s)}}fold(e){return this.fold_(ne(),e)}fold_(e,n){const r={};return this.children.inorderTraversal((i,o)=>{r[i]=o.fold_(Te(e,i),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,ne(),n)}findOnPath_(e,n,r){const i=!!this.value&&r(n,this.value);if(i)return i;if(K(e))return null;{const o=Y(e),s=this.children.get(o);return s?s.findOnPath_(me(e),Te(n,o),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,ne(),n)}foreachOnPath_(e,n,r){if(K(e))return this;{this.value&&r(n,this.value);const i=Y(e),o=this.children.get(i);return o?o.foreachOnPath_(me(e),Te(n,i),r):new De(null)}}foreach(e){this.foreach_(ne(),e)}foreach_(e,n){this.children.inorderTraversal((r,i)=>{i.foreach_(Te(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}}class bn{constructor(e){this.writeTree_=e}static empty(){return new bn(new De(null))}}function Rl(t,e,n){if(K(e))return new bn(new De(n));{const r=t.writeTree_.findRootMostValueAndPath(e);if(null!=r){const i=r.path;let o=r.value;const s=It(i,e);return o=o.updateChild(s,n),new bn(t.writeTree_.set(i,o))}{const i=new De(n),o=t.writeTree_.setTree(e,i);return new bn(o)}}}function uv(t,e,n){let r=t;return Qe(n,(i,o)=>{r=Rl(r,Te(e,i),o)}),r}function iP(t,e){if(K(e))return bn.empty();{const n=t.writeTree_.setTree(e,new De(null));return new bn(n)}}function dv(t,e){return null!=Wi(t,e)}function Wi(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return null!=n?t.writeTree_.get(n.path).getChild(It(n.path,e)):null}function oP(t){const e=[],n=t.writeTree_.value;return null!=n?n.isLeafNode()||n.forEachChild(we,(r,i)=>{e.push(new Q(r,i))}):t.writeTree_.children.inorderTraversal((r,i)=>{null!=i.value&&e.push(new Q(r,i.value))}),e}function Xr(t,e){if(K(e))return t;{const n=Wi(t,e);return new bn(null!=n?new De(n):t.writeTree_.subtree(e))}}function hv(t){return t.writeTree_.isEmpty()}function Ss(t,e){return sP(ne(),t.writeTree_,e)}function sP(t,e,n){if(null!=e.value)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((i,o)=>{".priority"===i?(b(null!==o.value,"Priority writes must always be leaf nodes"),r=o.value):n=sP(Te(t,i),o,n)}),!n.getChild(t).isEmpty()&&null!==r&&(n=n.updateChild(Te(t,".priority"),r)),n}}function th(t,e){return dP(e,t)}function Lq(t,e){if(t.snap)return cn(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&cn(Te(t.path,n),e))return!0;return!1}function Uq(t){return t.visible}function aP(t,e,n){let r=bn.empty();for(let i=0;i<t.length;++i){const o=t[i];if(e(o)){const s=o.path;let a;if(o.snap)cn(n,s)?(a=It(n,s),r=Rl(r,a,o.snap)):cn(s,n)&&(a=It(s,n),r=Rl(r,ne(),o.snap.getChild(a)));else{if(!o.children)throw gs("WriteRecord should have .snap or .children");if(cn(n,s))a=It(n,s),r=uv(r,a,o.children);else if(cn(s,n))if(a=It(s,n),K(a))r=uv(r,ne(),o.children);else{const l=_s(o.children,Y(a));if(l){const c=l.getChild(me(a));r=Rl(r,ne(),c)}}}}}return r}function lP(t,e,n,r,i){if(r||i){const o=Xr(t.visibleWrites,e);return!i&&hv(o)?n:i||null!=n||dv(o,ne())?Ss(aP(t.allWrites,function(c){return(c.visible||i)&&(!r||!~r.indexOf(c.writeId))&&(cn(c.path,e)||cn(e,c.path))},e),n||W.EMPTY_NODE):null}{const o=Wi(t.visibleWrites,e);if(null!=o)return o;{const s=Xr(t.visibleWrites,e);return hv(s)?n:null!=n||dv(s,ne())?Ss(s,n||W.EMPTY_NODE):null}}}function nh(t,e,n,r){return lP(t.writeTree,t.treePath,e,n,r)}function fv(t,e){return function Bq(t,e,n){let r=W.EMPTY_NODE;const i=Wi(t.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(we,(o,s)=>{r=r.updateImmediateChild(o,s)}),r;if(n){const o=Xr(t.visibleWrites,e);return n.forEachChild(we,(s,a)=>{const l=Ss(Xr(o,new ae(s)),a);r=r.updateImmediateChild(s,l)}),oP(o).forEach(s=>{r=r.updateImmediateChild(s.name,s.node)}),r}return oP(Xr(t.visibleWrites,e)).forEach(s=>{r=r.updateImmediateChild(s.name,s.node)}),r}(t.writeTree,t.treePath,e)}function cP(t,e,n,r){return function jq(t,e,n,r,i){b(r||i,"Either existingEventSnap or existingServerSnap must exist");const o=Te(e,n);if(dv(t.visibleWrites,o))return null;{const s=Xr(t.visibleWrites,o);return hv(s)?i.getChild(n):Ss(s,i.getChild(n))}}(t.writeTree,t.treePath,e,n,r)}function rh(t,e){return function $q(t,e){return Wi(t.visibleWrites,e)}(t.writeTree,Te(t.treePath,e))}function pv(t,e,n){return function Hq(t,e,n,r){const i=Te(e,n),o=Wi(t.visibleWrites,i);return null!=o?o:r.isCompleteForChild(n)?Ss(Xr(t.visibleWrites,i),r.getNode().getImmediateChild(n)):null}(t.writeTree,t.treePath,e,n)}function uP(t,e){return dP(Te(t.treePath,e),t.writeTree)}function dP(t,e){return{treePath:t,writeTree:e}}class qq{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,r=e.childName;b("child_added"===n||"child_changed"===n||"child_removed"===n,"Only child changes supported for tracking"),b(".priority"!==r,"Only non-priority child changes can be tracked.");const i=this.changeMap.get(r);if(i){const o=i.type;if("child_added"===n&&"child_removed"===o)this.changeMap.set(r,Tl(r,e.snapshotNode,i.snapshotNode));else if("child_removed"===n&&"child_added"===o)this.changeMap.delete(r);else if("child_removed"===n&&"child_changed"===o)this.changeMap.set(r,bl(r,i.oldSnap));else if("child_changed"===n&&"child_added"===o)this.changeMap.set(r,Is(r,e.snapshotNode));else{if("child_changed"!==n||"child_changed"!==o)throw gs("Illegal combination of changes: "+e+" occurred after "+i);this.changeMap.set(r,Tl(r,e.snapshotNode,i.oldSnap))}}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}const hP=new class Yq{getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}};class gv{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const r=null!=this.optCompleteServerCache_?new Zr(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return pv(this.writes_,e,r)}}getChildAfterChild(e,n,r){const i=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:Gi(this.viewCache_),o=function zq(t,e,n,r,i,o){return function Gq(t,e,n,r,i,o,s){let a;const l=Xr(t.visibleWrites,e),c=Wi(l,ne());if(null!=c)a=c;else{if(null==n)return[];a=Ss(l,n)}if(a=a.withIndex(s),a.isEmpty()||a.isLeafNode())return[];{const u=[],d=s.getCompare(),h=o?a.getReverseIteratorFrom(r,s):a.getIteratorFrom(r,s);let f=h.getNext();for(;f&&u.length<i;)0!==d(f,r)&&u.push(f),f=h.getNext();return u}}(t.writeTree,t.treePath,e,n,r,i,o)}(this.writes_,i,n,1,r,e);return 0===o.length?null:o[0]}}function fP(t,e,n,r,i,o){const s=e.eventCache;if(null!=rh(r,n))return e;{let a,l;if(K(n))if(b(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const c=Gi(e),d=fv(r,c instanceof W?c:W.EMPTY_NODE);a=t.filter.updateFullNode(e.eventCache.getNode(),d,o)}else{const c=nh(r,Gi(e));a=t.filter.updateFullNode(e.eventCache.getNode(),c,o)}else{const c=Y(n);if(".priority"===c){b(1===Qr(n),"Can't have a priority with additional path components");const u=s.getNode();l=e.serverCache.getNode();const d=cP(r,n,u,l);a=null!=d?t.filter.updatePriority(u,d):s.getNode()}else{const u=me(n);let d;if(s.isCompleteForChild(c)){l=e.serverCache.getNode();const h=cP(r,n,s.getNode(),l);d=null!=h?s.getNode().getImmediateChild(c).updateChild(u,h):s.getNode().getImmediateChild(c)}else d=pv(r,c,e.serverCache);a=null!=d?t.filter.updateChild(s.getNode(),c,d,u,i,o):s.getNode()}}return Nl(e,a,s.isFullyInitialized()||K(n),t.filter.filtersNodes())}}function ih(t,e,n,r,i,o,s,a){const l=e.serverCache;let c;const u=s?t.filter:t.filter.getIndexedFilter();if(K(n))c=u.updateFullNode(l.getNode(),r,null);else if(u.filtersNodes()&&!l.isFiltered()){const f=l.getNode().updateChild(n,r);c=u.updateFullNode(l.getNode(),f,null)}else{const f=Y(n);if(!l.isCompleteForPath(n)&&Qr(n)>1)return e;const p=me(n),m=l.getNode().getImmediateChild(f).updateChild(p,r);c=".priority"===f?u.updatePriority(l.getNode(),m):u.updateChild(l.getNode(),f,m,p,hP,null)}const d=rP(e,c,l.isFullyInitialized()||K(n),u.filtersNodes());return fP(t,d,n,i,new gv(i,d,o),a)}function mv(t,e,n,r,i,o,s){const a=e.eventCache;let l,c;const u=new gv(i,e,o);if(K(n))c=t.filter.updateFullNode(e.eventCache.getNode(),r,s),l=Nl(e,c,!0,t.filter.filtersNodes());else{const d=Y(n);if(".priority"===d)c=t.filter.updatePriority(e.eventCache.getNode(),r),l=Nl(e,c,a.isFullyInitialized(),a.isFiltered());else{const h=me(n),f=a.getNode().getImmediateChild(d);let p;if(K(h))p=r;else{const g=u.getCompleteChild(d);p=null!=g?".priority"===z_(h)&&g.getChild($R(h)).isEmpty()?g:g.updateChild(h,r):W.EMPTY_NODE}l=f.equals(p)?e:Nl(e,t.filter.updateChild(a.getNode(),d,p,h,u,s),a.isFullyInitialized(),t.filter.filtersNodes())}}return l}function pP(t,e){return t.eventCache.isCompleteForChild(e)}function gP(t,e,n){return n.foreach((r,i)=>{e=e.updateChild(r,i)}),e}function _v(t,e,n,r,i,o,s,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let c,l=e;c=K(n)?r:new De(null).setTree(n,r);const u=e.serverCache.getNode();return c.children.inorderTraversal((d,h)=>{if(u.hasChild(d)){const p=gP(0,e.serverCache.getNode().getImmediateChild(d),h);l=ih(t,l,new ae(d),p,i,o,s,a)}}),c.children.inorderTraversal((d,h)=>{const f=!e.serverCache.isCompleteForChild(d)&&null===h.value;if(!u.hasChild(d)&&!f){const g=gP(0,e.serverCache.getNode().getImmediateChild(d),h);l=ih(t,l,new ae(d),g,i,o,s,a)}}),l}class r7{constructor(e,n){this.query_=e,this.eventRegistrations_=[];const r=this.query_._queryParams,i=new ev(r.getIndex()),o=function _q(t){return t.loadsAllData()?new ev(t.getIndex()):t.hasLimit()?new mq(t):new Sl(t)}(r);this.processor_=function Kq(t){return{filter:t}}(o);const s=n.serverCache,a=n.eventCache,l=i.updateFullNode(W.EMPTY_NODE,s.getNode(),null),c=o.updateFullNode(W.EMPTY_NODE,a.getNode(),null),u=new Zr(l,s.isFullyInitialized(),i.filtersNodes()),d=new Zr(c,a.isFullyInitialized(),o.filtersNodes());this.viewCache_=Jd(d,u),this.eventGenerator_=new Aq(this.query_)}get query(){return this.query_}}function s7(t,e){const n=Gi(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!K(e)&&!n.getImmediateChild(Y(e)).isEmpty())?n.getChild(e):null}function mP(t){return 0===t.eventRegistrations_.length}function _P(t,e,n){const r=[];if(n){b(null==e,"A cancel should cancel all event registrations.");const i=t.query._path;t.eventRegistrations_.forEach(o=>{const s=o.createCancelEvent(n,i);s&&r.push(s)})}if(e){let i=[];for(let o=0;o<t.eventRegistrations_.length;++o){const s=t.eventRegistrations_[o];if(s.matches(e)){if(e.hasAnyCallback()){i=i.concat(t.eventRegistrations_.slice(o+1));break}}else i.push(s)}t.eventRegistrations_=i}else t.eventRegistrations_=[];return r}function vP(t,e,n,r){e.type===zn.MERGE&&null!==e.source.queryId&&(b(Gi(t.viewCache_),"We should always have a full cache before handling merges"),b(eh(t.viewCache_),"Missing event cache, even though we have a server cache"));const i=t.viewCache_,o=function Zq(t,e,n,r,i){const o=new qq;let s,a;if(n.type===zn.OVERWRITE){const c=n;c.source.fromUser?s=mv(t,e,c.path,c.snap,r,i,o):(b(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered()&&!K(c.path),s=ih(t,e,c.path,c.snap,r,i,a,o))}else if(n.type===zn.MERGE){const c=n;c.source.fromUser?s=function Jq(t,e,n,r,i,o,s){let a=e;return r.foreach((l,c)=>{const u=Te(n,l);pP(e,Y(u))&&(a=mv(t,a,u,c,i,o,s))}),r.foreach((l,c)=>{const u=Te(n,l);pP(e,Y(u))||(a=mv(t,a,u,c,i,o,s))}),a}(t,e,c.path,c.children,r,i,o):(b(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered(),s=_v(t,e,c.path,c.children,r,i,a,o))}else if(n.type===zn.ACK_USER_WRITE){const c=n;s=c.revert?function n7(t,e,n,r,i,o){let s;if(null!=rh(r,n))return e;{const a=new gv(r,e,i),l=e.eventCache.getNode();let c;if(K(n)||".priority"===Y(n)){let u;if(e.serverCache.isFullyInitialized())u=nh(r,Gi(e));else{const d=e.serverCache.getNode();b(d instanceof W,"serverChildren would be complete if leaf node"),u=fv(r,d)}c=t.filter.updateFullNode(l,u,o)}else{const u=Y(n);let d=pv(r,u,e.serverCache);null==d&&e.serverCache.isCompleteForChild(u)&&(d=l.getImmediateChild(u)),c=null!=d?t.filter.updateChild(l,u,d,me(n),a,o):e.eventCache.getNode().hasChild(u)?t.filter.updateChild(l,u,W.EMPTY_NODE,me(n),a,o):l,c.isEmpty()&&e.serverCache.isFullyInitialized()&&(s=nh(r,Gi(e)),s.isLeafNode()&&(c=t.filter.updateFullNode(c,s,o)))}return s=e.serverCache.isFullyInitialized()||null!=rh(r,ne()),Nl(e,c,s,t.filter.filtersNodes())}}(t,e,c.path,r,i,o):function e7(t,e,n,r,i,o,s){if(null!=rh(i,n))return e;const a=e.serverCache.isFiltered(),l=e.serverCache;if(null!=r.value){if(K(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return ih(t,e,n,l.getNode().getChild(n),i,o,a,s);if(K(n)){let c=new De(null);return l.getNode().forEachChild(Wn,(u,d)=>{c=c.set(new ae(u),d)}),_v(t,e,n,c,i,o,a,s)}return e}{let c=new De(null);return r.foreach((u,d)=>{const h=Te(n,u);l.isCompleteForPath(h)&&(c=c.set(u,l.getNode().getChild(h)))}),_v(t,e,n,c,i,o,a,s)}}(t,e,c.path,c.affectedTree,r,i,o)}else{if(n.type!==zn.LISTEN_COMPLETE)throw gs("Unknown operation type: "+n.type);s=function t7(t,e,n,r,i){const o=e.serverCache;return fP(t,rP(e,o.getNode(),o.isFullyInitialized()||K(n),o.isFiltered()),n,r,hP,i)}(t,e,n.path,r,o)}const l=o.getChanges();return function Xq(t,e,n){const r=e.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),o=eh(t);(n.length>0||!t.eventCache.isFullyInitialized()||i&&!r.getNode().equals(o)||!r.getNode().getPriority().equals(o.getPriority()))&&n.push(JR(eh(e)))}}(e,s,l),{viewCache:s,changes:l}}(t.processor_,i,e,n,r);return function Qq(t,e){b(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),b(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}(t.processor_,o.viewCache),b(o.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=o.viewCache,yP(t,o.changes,o.viewCache.eventCache.getNode(),null)}function yP(t,e,n,r){return function Mq(t,e,n,r){const i=[],o=[];return e.forEach(s=>{"child_changed"===s.type&&t.index_.indexedValueChanged(s.oldSnap,s.snapshotNode)&&o.push(function gq(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}(s.childName,s.snapshotNode))}),Ml(t,i,"child_removed",e,r,n),Ml(t,i,"child_added",e,r,n),Ml(t,i,"child_moved",o,r,n),Ml(t,i,"child_changed",e,r,n),Ml(t,i,"value",e,r,n),i}(t.eventGenerator_,e,n,r?[r]:t.eventRegistrations_)}let oh,ah;class CP{constructor(){this.views=new Map}}function vv(t,e,n,r){const i=e.source.queryId;if(null!==i){const o=t.views.get(i);return b(null!=o,"SyncTree gave us an op for an invalid query."),vP(o,e,n,r)}{let o=[];for(const s of t.views.values())o=o.concat(vP(s,e,n,r));return o}}function h7(t,e,n,r,i,o){const s=function EP(t,e,n,r,i){const s=t.views.get(e._queryIdentifier);if(!s){let a=nh(n,i?r:null),l=!1;a?l=!0:r instanceof W?(a=fv(n,r),l=!1):(a=W.EMPTY_NODE,l=!1);const c=Jd(new Zr(a,l,!1),new Zr(r,i,!1));return new r7(e,c)}return s}(t,e,r,i,o);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,s),function a7(t,e){t.eventRegistrations_.push(e)}(s,n),function l7(t,e){const n=t.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(we,(o,s)=>{r.push(Is(o,s))}),n.isFullyInitialized()&&r.push(JR(n.getNode())),yP(t,r,n.getNode(),e)}(s,n)}function wP(t){const e=[];for(const n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function Jr(t,e){let n=null;for(const r of t.views.values())n=n||s7(r,e);return n}function DP(t,e){return e._queryParams.loadsAllData()?sh(t):t.views.get(e._queryIdentifier)}function IP(t,e){return null!=DP(t,e)}function ei(t){return null!=sh(t)}function sh(t){for(const e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}let m7=1;class bP{constructor(e){this.listenProvider_=e,this.syncPointTree_=new De(null),this.pendingWriteTree_=function Wq(){return{visibleWrites:bn.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function yv(t,e,n,r,i){return function Oq(t,e,n,r,i){b(r>t.lastWriteId,"Stacking an older write on top of newer ones"),void 0===i&&(i=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:i}),i&&(t.visibleWrites=Rl(t.visibleWrites,e,n)),t.lastWriteId=r}(t.pendingWriteTree_,e,n,r,i),i?As(t,new $i({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},e,n)):[]}function ti(t,e,n=!1){const r=function kq(t,e){for(let n=0;n<t.allWrites.length;n++){const r=t.allWrites[n];if(r.writeId===e)return r}return null}(t.pendingWriteTree_,e);if(function Fq(t,e){const n=t.allWrites.findIndex(a=>a.writeId===e);b(n>=0,"removeWrite called with nonexistent writeId.");const r=t.allWrites[n];t.allWrites.splice(n,1);let i=r.visible,o=!1,s=t.allWrites.length-1;for(;i&&s>=0;){const a=t.allWrites[s];a.visible&&(s>=n&&Lq(a,r.path)?i=!1:cn(r.path,a.path)&&(o=!0)),s--}return!!i&&(o?(function Vq(t){t.visibleWrites=aP(t.allWrites,Uq,ne()),t.lastWriteId=t.allWrites.length>0?t.allWrites[t.allWrites.length-1].writeId:-1}(t),!0):(r.snap?t.visibleWrites=iP(t.visibleWrites,r.path):Qe(r.children,l=>{t.visibleWrites=iP(t.visibleWrites,Te(r.path,l))}),!0))}(t.pendingWriteTree_,e)){let o=new De(null);return null!=r.snap?o=o.set(ne(),!0):Qe(r.children,s=>{o=o.set(new ae(s),!0)}),As(t,new Xd(r.path,o,n))}return[]}function Pl(t,e,n){return As(t,new $i({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,n))}function lh(t,e,n,r,i=!1){const o=e._path,s=t.syncPointTree_.get(o);let a=[];if(s&&("default"===e._queryIdentifier||IP(s,e))){const l=function f7(t,e,n,r){const i=e._queryIdentifier,o=[];let s=[];const a=ei(t);if("default"===i)for(const[l,c]of t.views.entries())s=s.concat(_P(c,n,r)),mP(c)&&(t.views.delete(l),c.query._queryParams.loadsAllData()||o.push(c.query));else{const l=t.views.get(i);l&&(s=s.concat(_P(l,n,r)),mP(l)&&(t.views.delete(i),l.query._queryParams.loadsAllData()||o.push(l.query)))}return a&&!ei(t)&&o.push(new(function u7(){return b(oh,"Reference.ts has not been loaded"),oh}())(e._repo,e._path)),{removed:o,events:s}}(s,e,n,r);(function d7(t){return 0===t.views.size})(s)&&(t.syncPointTree_=t.syncPointTree_.remove(o));const c=l.removed;if(a=l.events,!i){const u=-1!==c.findIndex(h=>h._queryParams.loadsAllData()),d=t.syncPointTree_.findOnPath(o,(h,f)=>ei(f));if(u&&!d){const h=t.syncPointTree_.subtree(o);if(!h.isEmpty()){const f=function D7(t){return t.fold((e,n,r)=>{if(n&&ei(n))return[sh(n)];{let i=[];return n&&(i=wP(n)),Qe(r,(o,s)=>{i=i.concat(s)}),i}})}(h);for(let p=0;p<f.length;++p){const g=f[p],m=g.query,y=MP(t,g);t.listenProvider_.startListening(xl(m),Ol(t,m),y.hashFn,y.onComplete)}}}!d&&c.length>0&&!r&&(u?t.listenProvider_.stopListening(xl(e),null):c.forEach(h=>{const f=t.queryToTagMap.get(uh(h));t.listenProvider_.stopListening(xl(h),f)}))}!function I7(t,e){for(let n=0;n<e.length;++n){const r=e[n];if(!r._queryParams.loadsAllData()){const i=uh(r),o=t.queryToTagMap.get(i);t.queryToTagMap.delete(i),t.tagToQueryMap.delete(o)}}}(t,c)}return a}function Cv(t,e,n,r=!1){const i=e._path;let o=null,s=!1;t.syncPointTree_.foreachOnPath(i,(h,f)=>{const p=It(h,i);o=o||Jr(f,p),s=s||ei(f)});let l,a=t.syncPointTree_.get(i);a?(s=s||ei(a),o=o||Jr(a,ne())):(a=new CP,t.syncPointTree_=t.syncPointTree_.set(i,a)),null!=o?l=!0:(l=!1,o=W.EMPTY_NODE,t.syncPointTree_.subtree(i).foreachChild((f,p)=>{const g=Jr(p,ne());g&&(o=o.updateImmediateChild(f,g))}));const c=IP(a,e);if(!c&&!e._queryParams.loadsAllData()){const h=uh(e);b(!t.queryToTagMap.has(h),"View does not exist, but we have a tag");const f=function b7(){return m7++}();t.queryToTagMap.set(h,f),t.tagToQueryMap.set(f,h)}let d=h7(a,e,n,th(t.pendingWriteTree_,i),o,l);if(!c&&!s&&!r){const h=DP(a,e);d=d.concat(function T7(t,e,n){const r=e._path,i=Ol(t,e),o=MP(t,n),s=t.listenProvider_.startListening(xl(e),i,o.hashFn,o.onComplete),a=t.syncPointTree_.subtree(r);if(i)b(!ei(a.value),"If we're adding a query, it shouldn't be shadowed");else{const l=a.fold((c,u,d)=>{if(!K(c)&&u&&ei(u))return[sh(u).query];{let h=[];return u&&(h=h.concat(wP(u).map(f=>f.query))),Qe(d,(f,p)=>{h=h.concat(p)}),h}});for(let c=0;c<l.length;++c){const u=l[c];t.listenProvider_.stopListening(xl(u),Ol(t,u))}}return s}(t,e,h))}return d}function ch(t,e,n){const i=t.pendingWriteTree_,o=t.syncPointTree_.findOnPath(e,(s,a)=>{const c=Jr(a,It(s,e));if(c)return c});return lP(i,e,o,n,!0)}function As(t,e){return SP(e,t.syncPointTree_,null,th(t.pendingWriteTree_,ne()))}function SP(t,e,n,r){if(K(t.path))return AP(t,e,n,r);{const i=e.get(ne());null==n&&null!=i&&(n=Jr(i,ne()));let o=[];const s=Y(t.path),a=t.operationForChild(s),l=e.children.get(s);if(l&&a){const c=n?n.getImmediateChild(s):null,u=uP(r,s);o=o.concat(SP(a,l,c,u))}return i&&(o=o.concat(vv(i,t,r,n))),o}}function AP(t,e,n,r){const i=e.get(ne());null==n&&null!=i&&(n=Jr(i,ne()));let o=[];return e.children.inorderTraversal((s,a)=>{const l=n?n.getImmediateChild(s):null,c=uP(r,s),u=t.operationForChild(s);u&&(o=o.concat(AP(u,a,l,c)))}),i&&(o=o.concat(vv(i,t,r,n))),o}function MP(t,e){const n=e.query,r=Ol(t,n);return{hashFn:()=>(function i7(t){return t.viewCache_.serverCache.getNode()}(e)||W.EMPTY_NODE).hash(),onComplete:i=>{if("ok"===i)return r?function C7(t,e,n){const r=Ev(t,n);if(r){const i=wv(r),o=i.path,s=i.queryId,a=It(o,e);return Dv(t,o,new Al(lv(s),a))}return[]}(t,n._path,r):function y7(t,e){return As(t,new Al({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e))}(t,n._path);{const o=function v6(t,e){let n="Unknown Error";"too_big"===t?n="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===t?n="Client doesn't have permission to access the desired data.":"unavailable"===t&&(n="The service is unavailable");const r=new Error(t+" at "+e._path.toString()+": "+n);return r.code=t.toUpperCase(),r}(i,n);return lh(t,n,null,o)}}}}function Ol(t,e){const n=uh(e);return t.queryToTagMap.get(n)}function uh(t){return t._path.toString()+"$"+t._queryIdentifier}function Ev(t,e){return t.tagToQueryMap.get(e)}function wv(t){const e=t.indexOf("$");return b(-1!==e&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new ae(t.substr(0,e))}}function Dv(t,e,n){const r=t.syncPointTree_.get(e);return b(r,"Missing sync point for query tag that we're tracking"),vv(r,n,th(t.pendingWriteTree_,e),null)}function xl(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(function g7(){return b(ah,"Reference.ts has not been loaded"),ah}())(t._repo,t._path):t}class Iv{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new Iv(n)}node(){return this.node_}}class bv{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=Te(this.path_,e);return new bv(this.syncTree_,n)}node(){return ch(this.syncTree_,this.path_)}}const S7=function(t){return(t=t||{}).timestamp=t.timestamp||(new Date).getTime(),t},NP=function(t,e,n){return t&&"object"==typeof t?(b(".sv"in t,"Unexpected leaf node or priority contents"),"string"==typeof t[".sv"]?A7(t[".sv"],e,n):"object"==typeof t[".sv"]?M7(t[".sv"],e):void b(!1,"Unexpected server value: "+JSON.stringify(t,null,2))):t},A7=function(t,e,n){if("timestamp"===t)return n.timestamp;b(!1,"Unexpected server value: "+t)},M7=function(t,e,n){t.hasOwnProperty("increment")||b(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const r=t.increment;"number"!=typeof r&&b(!1,"Unexpected increment value: "+r);const i=e.node();if(b(null!==i&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const s=i.getValue();return"number"!=typeof s?r:s+r},RP=function(t,e,n,r){return Sv(e,new bv(n,t),r)},Tv=function(t,e,n){return Sv(t,new Iv(e),n)};function Sv(t,e,n){const r=t.getPriority().val(),i=NP(r,e.getImmediateChild(".priority"),n);let o;if(t.isLeafNode()){const s=t,a=NP(s.getValue(),e,n);return a!==s.getValue()||i!==s.getPriority().val()?new ws(a,Ne(i)):t}{const s=t;return o=s,i!==s.getPriority().val()&&(o=o.updatePriority(new ws(i))),s.forEachChild(we,(a,l)=>{const c=Sv(l,e.getImmediateChild(a),n);c!==l&&(o=o.updateImmediateChild(a,c))}),o}}class Av{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}}function dh(t,e){let n=e instanceof ae?e:new ae(e),r=t,i=Y(n);for(;null!==i;){const o=_s(r.node.children,i)||{children:{},childCount:0};r=new Av(i,r,o),n=me(n),i=Y(n)}return r}function zi(t){return t.node.value}function Mv(t,e){t.node.value=e,Nv(t)}function PP(t){return t.node.childCount>0}function hh(t,e){Qe(t.node.children,(n,r)=>{e(new Av(n,t,r))})}function OP(t,e,n,r){n&&!r&&e(t),hh(t,i=>{OP(i,e,!0,r)}),n&&r&&e(t)}function kl(t){return new ae(null===t.parent?t.name:kl(t.parent)+"/"+t.name)}function Nv(t){null!==t.parent&&function P7(t,e,n){const r=function N7(t){return void 0===zi(t)&&!PP(t)}(n),i=Hn(t.node.children,e);r&&i?(delete t.node.children[e],t.node.childCount--,Nv(t)):!r&&!i&&(t.node.children[e]=n.node,t.node.childCount++,Nv(t))}(t.parent,t.name,t)}const O7=/[\[\].#$\/\u0000-\u001F\u007F]/,x7=/[\[\].#$\u0000-\u001F\u007F]/,Rv=10485760,fh=function(t){return"string"==typeof t&&0!==t.length&&!O7.test(t)},xP=function(t){return"string"==typeof t&&0!==t.length&&!x7.test(t)},qn=function(t,e,n,r){r&&void 0===e||Ll(Oi(t,"value"),e,n)},Ll=function(t,e,n){const r=n instanceof ae?new Z6(n,t):n;if(void 0===e)throw new Error(t+"contains undefined "+ji(r));if("function"==typeof e)throw new Error(t+"contains a function "+ji(r)+" with contents = "+e.toString());if(jd(e))throw new Error(t+"contains "+e.toString()+" "+ji(r));if("string"==typeof e&&e.length>Rv/3&&Ld(e)>Rv)throw new Error(t+"contains a string greater than "+Rv+" utf8 bytes "+ji(r)+" ('"+e.substring(0,50)+"...')");if(e&&"object"==typeof e){let i=!1,o=!1;if(Qe(e,(s,a)=>{if(".value"===s)i=!0;else if(".priority"!==s&&".sv"!==s&&(o=!0,!fh(s)))throw new Error(t+" contains an invalid key ("+s+") "+ji(r)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function X6(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=Ld(e),GR(t)})(r,s),Ll(t,a,r),function J6(t){const e=t.parts_.pop();t.byteLength_-=Ld(e),t.parts_.length>0&&(t.byteLength_-=1)}(r)}),i&&o)throw new Error(t+' contains ".value" child '+ji(r)+" in addition to actual children.")}},kP=function(t,e,n,r){if(r&&void 0===e)return;const i=Oi(t,"values");if(!e||"object"!=typeof e||Array.isArray(e))throw new Error(i+" must be an object containing the children to replace.");const o=[];Qe(e,(s,a)=>{const l=new ae(s);if(Ll(i,a,Te(n,l)),".priority"===z_(l)&&!function(t){return null===t||"string"==typeof t||"number"==typeof t&&!jd(t)||t&&"object"==typeof t&&Hn(t,".sv")}(a))throw new Error(i+"contains an invalid value for '"+l.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");o.push(l)}),function(t,e){let n,r;for(n=0;n<e.length;n++){r=e[n];const o=El(r);for(let s=0;s<o.length;s++)if((".priority"!==o[s]||s!==o.length-1)&&!fh(o[s]))throw new Error(t+"contains an invalid key ("+o[s]+") in path "+r.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}e.sort(Q6);let i=null;for(n=0;n<e.length;n++){if(r=e[n],null!==i&&cn(i,r))throw new Error(t+"contains a path "+i.toString()+" that is ancestor of another path "+r.toString());i=r}}(i,o)},Ov=function(t,e,n,r){if(!(r&&void 0===n||xP(n)))throw new Error(Oi(t,e)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},L7=function(t,e,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),Ov(t,e,n,r)},Yn=function(t,e){if(".info"===Y(e))throw new Error(t+" failed = Can't modify data under /.info/")};class V7{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function ph(t,e){let n=null;for(let r=0;r<e.length;r++){const i=e[r],o=i.getPath();null!==n&&!q_(o,n.path)&&(t.eventLists_.push(n),n=null),null===n&&(n={events:[],path:o}),n.events.push(i)}n&&t.eventLists_.push(n)}function LP(t,e,n){ph(t,n),VP(t,r=>q_(r,e))}function Yt(t,e,n){ph(t,n),VP(t,r=>cn(r,e)||cn(e,r))}function VP(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){const i=t.eventLists_[r];i&&(e(i.path)?(U7(t.eventLists_[r]),t.eventLists_[r]=null):n=!1)}n&&(t.eventLists_=[]),t.recursionDepth_--}function U7(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(null!==n){t.events[e]=null;const r=n.getEventRunner();Ui&&Ke("event: "+n.toString()),Cs(r)}}}const B7=25;class j7{constructor(e,n,r,i){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new V7,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Zd(),this.transactionQueueTree_=new Av,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function BP(t){const n=t.infoData_.getNode(new ae(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+n}function Ul(t){return S7({timestamp:BP(t)})}function jP(t,e,n,r,i){t.dataUpdateCount++;const o=new ae(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let s=[];if(i)if(r){const l=Fd(n,c=>Ne(c));s=function E7(t,e,n,r){const i=Ev(t,r);if(i){const o=wv(i),s=o.path,a=o.queryId,l=It(s,e),c=De.fromObject(n);return Dv(t,s,new Ts(lv(a),l,c))}return[]}(t.serverSyncTree_,o,l,i)}else{const l=Ne(n);s=function TP(t,e,n,r){const i=Ev(t,r);if(null!=i){const o=wv(i),s=o.path,a=o.queryId,l=It(s,e);return Dv(t,s,new $i(lv(a),l,n))}return[]}(t.serverSyncTree_,o,l,i)}else if(r){const l=Fd(n,c=>Ne(c));s=function v7(t,e,n){const r=De.fromObject(n);return As(t,new Ts({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,r))}(t.serverSyncTree_,o,l)}else{const l=Ne(n);s=Pl(t.serverSyncTree_,o,l)}let a=o;s.length>0&&(a=Ns(t,o)),Yt(t.eventQueue_,a,s)}function HP(t,e){xv(t,"connected",e),!1===e&&function z7(t){Ms(t,"onDisconnectEvents");const e=Ul(t),n=Zd();ov(t.onDisconnect_,ne(),(i,o)=>{const s=RP(i,o,t.serverSyncTree_,e);bs(n,i,s)});let r=[];ov(n,ne(),(i,o)=>{r=r.concat(Pl(t.serverSyncTree_,i,o));const s=Vv(t,i);Ns(t,s)}),t.onDisconnect_=Zd(),Yt(t.eventQueue_,ne(),r)}(t)}function xv(t,e,n){const r=new ae("/.info/"+e),i=Ne(n);t.infoData_.updateSnapshot(r,i);const o=Pl(t.infoSyncTree_,r,i);Yt(t.eventQueue_,r,o)}function gh(t){return t.nextWriteId_++}function Fv(t,e,n){let r;r=".info"===Y(e._path)?lh(t.infoSyncTree_,e,n):lh(t.serverSyncTree_,e,n),LP(t.eventQueue_,e._path,r)}function Ms(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),Ke(n,...e)}function ni(t,e,n,r){e&&Cs(()=>{if("ok"===n)e(null);else{const i=(n||"error").toUpperCase();let o=i;r&&(o+=": "+r);const s=new Error(o);s.code=i,e(s)}})}function Lv(t,e,n){return ch(t.serverSyncTree_,e,n)||W.EMPTY_NODE}function mh(t,e=t.transactionQueueTree_){if(e||_h(t,e),zi(e)){const n=zP(t,e);b(n.length>0,"Sending zero length transaction queue"),n.every(i=>0===i.status)&&function J7(t,e,n){const r=n.map(c=>c.currentWriteId),i=Lv(t,e,r);let o=i;const s=i.hash();for(let c=0;c<n.length;c++){const u=n[c];b(0===u.status,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=1,u.retryCount++;const d=It(e,u.path);o=o.updateChild(d,u.currentOutputSnapshotRaw)}const a=o.val(!0),l=e;t.server_.put(l.toString(),a,c=>{Ms(t,"transaction put response",{path:l.toString(),status:c});let u=[];if("ok"===c){const d=[];for(let h=0;h<n.length;h++)n[h].status=2,u=u.concat(ti(t.serverSyncTree_,n[h].currentWriteId)),n[h].onComplete&&d.push(()=>n[h].onComplete(null,!0,n[h].currentOutputSnapshotResolved)),n[h].unwatcher();_h(t,dh(t.transactionQueueTree_,e)),mh(t,t.transactionQueueTree_),Yt(t.eventQueue_,e,u);for(let h=0;h<d.length;h++)Cs(d[h])}else{if("datastale"===c)for(let d=0;d<n.length;d++)n[d].status=3===n[d].status?4:0;else{dt("transaction at "+l.toString()+" failed: "+c);for(let d=0;d<n.length;d++)n[d].status=4,n[d].abortReason=c}Ns(t,e)}},s)}(t,kl(e),n)}else PP(e)&&hh(e,n=>{mh(t,n)})}function Ns(t,e){const n=WP(t,e),r=kl(n);return function e9(t,e,n){if(0===e.length)return;const r=[];let i=[];const s=e.filter(a=>0===a.status).map(a=>a.currentWriteId);for(let a=0;a<e.length;a++){const l=e[a],c=It(n,l.path);let d,u=!1;if(b(null!==c,"rerunTransactionsUnderNode_: relativePath should not be null."),4===l.status)u=!0,d=l.abortReason,i=i.concat(ti(t.serverSyncTree_,l.currentWriteId,!0));else if(0===l.status)if(l.retryCount>=B7)u=!0,d="maxretry",i=i.concat(ti(t.serverSyncTree_,l.currentWriteId,!0));else{const h=Lv(t,l.path,s);l.currentInputSnapshot=h;const f=e[a].update(h.val());if(void 0!==f){Ll("transaction failed: Data returned ",f,l.path);let p=Ne(f);"object"==typeof f&&null!=f&&Hn(f,".priority")||(p=p.updatePriority(h.getPriority()));const m=l.currentWriteId,y=Ul(t),_=Tv(p,h,y);l.currentOutputSnapshotRaw=p,l.currentOutputSnapshotResolved=_,l.currentWriteId=gh(t),s.splice(s.indexOf(m),1),i=i.concat(yv(t.serverSyncTree_,l.path,_,l.currentWriteId,l.applyLocally)),i=i.concat(ti(t.serverSyncTree_,m,!0))}else u=!0,d="nodata",i=i.concat(ti(t.serverSyncTree_,l.currentWriteId,!0))}Yt(t.eventQueue_,n,i),i=[],u&&(e[a].status=2,setTimeout(e[a].unwatcher,Math.floor(0)),e[a].onComplete&&r.push("nodata"===d?()=>e[a].onComplete(null,!1,e[a].currentInputSnapshot):()=>e[a].onComplete(new Error(d),!1,null)))}_h(t,t.transactionQueueTree_);for(let a=0;a<r.length;a++)Cs(r[a]);mh(t,t.transactionQueueTree_)}(t,zP(t,n),r),r}function WP(t,e){let n,r=t.transactionQueueTree_;for(n=Y(e);null!==n&&void 0===zi(r);)r=dh(r,n),n=Y(e=me(e));return r}function zP(t,e){const n=[];return qP(t,e,n),n.sort((r,i)=>r.order-i.order),n}function qP(t,e,n){const r=zi(e);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);hh(e,i=>{qP(t,i,n)})}function _h(t,e){const n=zi(e);if(n){let r=0;for(let i=0;i<n.length;i++)2!==n[i].status&&(n[r]=n[i],r++);n.length=r,Mv(e,n.length>0?n:void 0)}hh(e,r=>{_h(t,r)})}function Vv(t,e){const n=kl(WP(t,e)),r=dh(t.transactionQueueTree_,e);return function R7(t,e,n){let r=n?t:t.parent;for(;null!==r;){if(e(r))return!0;r=r.parent}}(r,i=>{Uv(t,i)}),Uv(t,r),OP(r,i=>{Uv(t,i)}),n}function Uv(t,e){const n=zi(e);if(n){const r=[];let i=[],o=-1;for(let s=0;s<n.length;s++)3===n[s].status||(1===n[s].status?(b(o===s-1,"All SENT items should be at beginning of queue."),o=s,n[s].status=3,n[s].abortReason="set"):(b(0===n[s].status,"Unexpected transaction status in abort"),n[s].unwatcher(),i=i.concat(ti(t.serverSyncTree_,n[s].currentWriteId,!0)),n[s].onComplete&&r.push(n[s].onComplete.bind(null,new Error("set"),!1,null))));-1===o?Mv(e,void 0):n.length=o+1,Yt(t.eventQueue_,kl(e),i);for(let s=0;s<r.length;s++)Cs(r[s])}}const Bv=function(t,e){const n=r9(t),r=n.namespace;return"firebase.com"===n.domain&&Gn(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||"undefined"===r)&&"localhost"!==n.domain&&Gn("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||typeof window<"u"&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&dt("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new B_(n.host,n.secure,r,"ws"===n.scheme||"wss"===n.scheme,e,"",r!==n.subdomain),path:new ae(n.pathString)}},r9=function(t){let e="",n="",r="",i="",o="",s=!0,a="https",l=443;if("string"==typeof t){let c=t.indexOf("//");c>=0&&(a=t.substring(0,c-1),t=t.substring(c+2));let u=t.indexOf("/");-1===u&&(u=t.length);let d=t.indexOf("?");-1===d&&(d=t.length),e=t.substring(0,Math.min(u,d)),u<d&&(i=function t9(t){let e="";const n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}(t.substring(u,d)));const h=function n9(t){const e={};"?"===t.charAt(0)&&(t=t.substring(1));for(const n of t.split("&")){if(0===n.length)continue;const r=n.split("=");2===r.length?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):dt(`Invalid query segment '${n}' in query '${t}'`)}return e}(t.substring(Math.min(t.length,d)));c=e.indexOf(":"),c>=0?(s="https"===a||"wss"===a,l=parseInt(e.substring(c+1),10)):c=e.length;const f=e.slice(0,c);if("localhost"===f.toLowerCase())n="localhost";else if(f.split(".").length<=2)n=f;else{const p=e.indexOf(".");r=e.substring(0,p).toLowerCase(),n=e.substring(p+1),o=r}"ns"in h&&(o=h.ns)}return{host:e,port:l,domain:n,subdomain:r,secure:s,scheme:a,pathString:i,namespace:o}},YP="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",i9=function(){let t=0;const e=[];return function(n){const r=n===t;let i;t=n;const o=new Array(8);for(i=7;i>=0;i--)o[i]=YP.charAt(n%64),n=Math.floor(n/64);b(0===n,"Cannot push at time == 0");let s=o.join("");if(r){for(i=11;i>=0&&63===e[i];i--)e[i]=0;e[i]++}else for(i=0;i<12;i++)e[i]=Math.floor(64*Math.random());for(i=0;i<12;i++)s+=YP.charAt(e[i]);return b(20===s.length,"nextPushId: Length should be 20."),s}}();class KP{constructor(e,n,r,i){this.eventType=e,this.eventRegistration=n,this.snapshot=r,this.prevName=i}getPath(){const e=this.snapshot.ref;return"value"===this.eventType?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+Ye(this.snapshot.exportVal())}}class QP{constructor(e,n,r){this.eventRegistration=e,this.error=n,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class jv{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return b(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}class Kt{constructor(e,n,r,i){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=i}get key(){return K(this._path)?null:z_(this._path)}get ref(){return new Tn(this._repo,this._path)}get _queryIdentifier(){const e=tP(this._queryParams),n=V_(e);return"{}"===n?"default":n}get _queryObject(){return tP(this._queryParams)}isEqual(e){if(!((e=$n(e))instanceof Kt))return!1;const n=this._repo===e._repo,r=q_(this._path,e._path);return n&&r&&this._queryIdentifier===e._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function K6(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)""!==t.pieces_[n]&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}(this._path)}}class Tn extends Kt{constructor(e,n){super(e,n,new tv,!1)}get parent(){const e=$R(this._path);return null===e?null:new Tn(this._repo,e)}get root(){let e=this;for(;null!==e.parent;)e=e.parent;return e}}class qi{constructor(e,n,r){this._node=e,this.ref=n,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const n=new ae(e),r=Ps(this.ref,e);return new qi(this._node.getChild(n),r,we)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(r,i)=>e(new qi(i,Ps(this.ref,r),we)))}hasChild(e){const n=new ae(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function Rs(t,e){return(t=$n(t))._checkNotDeleted("ref"),void 0!==e?Ps(t._root,e):t._root}function Ps(t,e){return null===Y((t=$n(t))._path)?L7("child","path",e,!1):Ov("child","path",e,!1),new Tn(t._repo,Te(t._path,e))}function Hv(t,e){t=$n(t),Yn("set",t._path),qn("set",e,t._path,!1);const n=new ms;return function kv(t,e,n,r,i){Ms(t,"set",{path:e.toString(),value:n,priority:r});const o=Ul(t),s=Ne(n,r),a=ch(t.serverSyncTree_,e),l=Tv(s,a,o),c=gh(t),u=yv(t.serverSyncTree_,e,l,c,!0);ph(t.eventQueue_,u),t.server_.put(e.toString(),s.val(!0),(h,f)=>{const p="ok"===h;p||dt("set at "+e+" failed: "+h);const g=ti(t.serverSyncTree_,c,!p);Yt(t.eventQueue_,e,g),ni(0,i,h,f)});const d=Vv(t,e);Ns(t,d),Yt(t.eventQueue_,d,[])}(t._repo,t._path,e,null,n.wrapCallback(()=>{})),n.promise}function l9(t,e){kP("update",e,t._path,!1);const n=new ms;return function W7(t,e,n,r){Ms(t,"update",{path:e.toString(),value:n});let i=!0;const o=Ul(t),s={};if(Qe(n,(a,l)=>{i=!1,s[a]=RP(Te(e,a),Ne(l),t.serverSyncTree_,o)}),i)Ke("update() called with empty data.  Don't do anything."),ni(0,r,"ok",void 0);else{const a=gh(t),l=function _7(t,e,n,r){!function xq(t,e,n,r){b(r>t.lastWriteId,"Stacking an older merge on top of newer ones"),t.allWrites.push({path:e,children:n,writeId:r,visible:!0}),t.visibleWrites=uv(t.visibleWrites,e,n),t.lastWriteId=r}(t.pendingWriteTree_,e,n,r);const i=De.fromObject(n);return As(t,new Ts({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},e,i))}(t.serverSyncTree_,e,s,a);ph(t.eventQueue_,l),t.server_.merge(e.toString(),n,(c,u)=>{const d="ok"===c;d||dt("update at "+e+" failed: "+c);const h=ti(t.serverSyncTree_,a,!d),f=h.length>0?Ns(t,e):e;Yt(t.eventQueue_,f,h),ni(0,r,c,u)}),Qe(n,c=>{const u=Vv(t,Te(e,c));Ns(t,u)}),Yt(t.eventQueue_,e,[])}}(t._repo,t._path,e,n.wrapCallback(()=>{})),n.promise}class Bl{constructor(e){this.callbackContext=e}respondsTo(e){return"value"===e}createEvent(e,n){const r=n._queryParams.getIndex();return new KP("value",this,new qi(e.snapshotNode,new Tn(n._repo,n._path),r))}getEventRunner(e){return"cancel"===e.getEventType()?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new QP(this,e,n):null}matches(e){return e instanceof Bl&&(!e.callbackContext||!this.callbackContext||e.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class Ch{constructor(e,n){this.eventType=e,this.callbackContext=n}respondsTo(e){let n="children_added"===e?"child_added":e;return n="children_removed"===n?"child_removed":n,this.eventType===n}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new QP(this,e,n):null}createEvent(e,n){b(null!=e.childName,"Child events should have a childName.");const r=Ps(new Tn(n._repo,n._path),e.childName),i=n._queryParams.getIndex();return new KP(e.type,this,new qi(e.snapshotNode,r,i),e.prevName)}getEventRunner(e){return"cancel"===e.getEventType()?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,e.prevName)}matches(e){return e instanceof Ch&&this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function $v(t,e,n,r){return function jl(t,e,n,r,i){let o;if("object"==typeof r&&(o=void 0,i=r),"function"==typeof r&&(o=r),i&&i.onlyOnce){const l=n,c=(u,d)=>{Fv(t._repo,t,a),l(u,d)};c.userCallback=n.userCallback,c.context=n.context,n=c}const s=new jv(n,o||void 0),a="value"===e?new Bl(s):new Ch(e,s);return function Q7(t,e,n){let r;r=".info"===Y(e._path)?Cv(t.infoSyncTree_,e,n):Cv(t.serverSyncTree_,e,n),LP(t.eventQueue_,e._path,r)}(t._repo,t,a),()=>Fv(t._repo,t,a)}(t,"value",e,n,r)}(function c7(t){b(!oh,"__referenceConstructor has already been defined"),oh=t})(Tn),function p7(t){b(!ah,"__referenceConstructor has already been defined"),ah=t}(Tn);const Gv={};function eO(t,e,n,r,i){let o=r||t.options.databaseURL;void 0===o&&(t.options.projectId||Gn("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Ke("Using default host for project ",t.options.projectId),o=`${t.options.projectId}-default-rtdb.firebaseio.com`);let l,c,s=Bv(o,i),a=s.repoInfo;typeof process<"u"&&process.env&&(c=process.env.FIREBASE_DATABASE_EMULATOR_HOST),c?(l=!0,o=`http://${c}?ns=${a.namespace}`,s=Bv(o,i),a=s.repoInfo):l=!s.repoInfo.secure;const u=i&&l?new Cl(Cl.OWNER):new I6(t.name,t.options,e);(function(t,e){const n=e.path.toString();if("string"!=typeof e.repoInfo.host||0===e.repoInfo.host.length||!fh(e.repoInfo.namespace)&&"localhost"!==e.repoInfo.host.split(":")[0]||0!==n.length&&!function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),xP(t)}(n))throw new Error(Oi(t,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')})("Invalid Firebase Database URL",s),K(s.path)||Gn("Database URL must point to the root of a Firebase Database (not including a child path).");const d=function E9(t,e,n,r){let i=Gv[e.name];i||(i={},Gv[e.name]=i);let o=i[t.toURLString()];return o&&Gn("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),o=new j7(t,false,n,r),i[t.toURLString()]=o,o}(a,t,u,new D6(t.name,n));return new D9(d,t)}class D9{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function H7(t,e,n){if(t.stats_=$_(t.repoInfo_),t.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)t.server_=new Qd(t.repoInfo_,(r,i,o,s)=>{jP(t,r,i,o,s)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>HP(t,!0),0);else{if(typeof n<"u"&&null!==n){if("object"!=typeof n)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Ye(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new Hi(t.repoInfo_,e,(r,i,o,s)=>{jP(t,r,i,o,s)},r=>{HP(t,r)},r=>{!function $7(t,e){Qe(e,(n,r)=>{xv(t,n,r)})}(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=function S6(t,e){const n=t.toString();return H_[n]||(H_[n]=e()),H_[n]}(t.repoInfo_,()=>new Sq(t.stats_,t.server_)),t.infoData_=new wq,t.infoSyncTree_=new bP({startListening:(r,i,o,s)=>{let a=[];const l=t.infoData_.getNode(r._path);return l.isEmpty()||(a=Pl(t.infoSyncTree_,r._path,l),setTimeout(()=>{s("ok")},0)),a},stopListening:()=>{}}),xv(t,"connected",!1),t.serverSyncTree_=new bP({startListening:(r,i,o,s)=>(t.server_.listen(r,o,i,(a,l)=>{const c=s(a,l);Yt(t.eventQueue_,r._path,c)}),[]),stopListening:(r,i)=>{t.server_.unlisten(r,i)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Tn(this._repo,ne())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function C9(t,e){const n=Gv[e];(!n||n[t.key]!==t)&&Gn(`Database ${e}(${t.repoInfo_}) has already been deleted.`),function GP(t){t.persistentConnection_&&t.persistentConnection_.interrupt("repo_interrupt")}(t),delete n[t.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){null===this._rootInternal&&Gn("Cannot call "+e+" on a deleted database.")}}function nO(t=ZN(),e){const n=function QN(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){const r=(t=>{const e=(t=>{var e,n;return null===(n=null===(e=xd())||void 0===e?void 0:e.emulatorHosts)||void 0===n?void 0:n[t]})(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return"["===e[0]?[e.substring(1,n-1),r]:[e.substring(0,n),r]})("database");r&&function I9(t,e,n,r={}){(t=$n(t))._checkNotDeleted("useEmulator"),t._instanceStarted&&Gn("Cannot call useEmulator() after instance has already been initialized.");const i=t._repoInternal;let o;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&Gn('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),o=new Cl(Cl.OWNER);else if(r.mockUserToken){const s="string"==typeof r.mockUserToken?r.mockUserToken:function j5(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Pd(JSON.stringify({alg:"none",type:"JWT"})),Pd(JSON.stringify(s)),""].join(".")}(r.mockUserToken,t.app.options.projectId);o=new Cl(s)}!function y9(t,e,n,r){t.repoInfo_=new B_(`${e}:${n}`,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0),r&&(t.authTokenProvider_=r)}(i,e,n,o)}(n,...r)}return n}Hi.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)},Hi.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)},function b9(t){(function sR(t){k_=t})(Bd),vs(new xi("database",(e,{instanceIdentifier:n})=>eO(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"),e.getProvider("app-check-internal"),n),"PUBLIC").setMultipleInstances(!0)),ln(iR,"1.0.1",t),ln(iR,"1.0.1","esm2017")}();class Eh{}class wh{}class Kn{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?"string"==typeof e?this.lazyInit=()=>{this.headers=new Map,e.split("\n").forEach(n=>{const r=n.indexOf(":");if(r>0){const i=n.slice(0,r),o=i.toLowerCase(),s=n.slice(r+1).trim();this.maybeSetNormalizedName(i,o),this.headers.has(o)?this.headers.get(o).push(s):this.headers.set(o,[s])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((n,r)=>{this.setHeaderEntries(r,n)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([n,r])=>{this.setHeaderEntries(n,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const n=this.headers.get(e.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,n){return this.clone({name:e,value:n,op:"a"})}set(e,n){return this.clone({name:e,value:n,op:"s"})}delete(e,n){return this.clone({name:e,value:n,op:"d"})}maybeSetNormalizedName(e,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,e)}init(){this.lazyInit&&(this.lazyInit instanceof Kn?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(n=>{this.headers.set(n,e.headers.get(n)),this.normalizedNames.set(n,e.normalizedNames.get(n))})}clone(e){const n=new Kn;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof Kn?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([e]),n}applyUpdate(e){const n=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(e.name,n);const i=("a"===e.op?this.headers.get(n):void 0)||[];i.push(...r),this.headers.set(n,i);break;case"d":const o=e.value;if(o){let s=this.headers.get(n);if(!s)return;s=s.filter(a=>-1===o.indexOf(a)),0===s.length?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,s)}else this.headers.delete(n),this.normalizedNames.delete(n)}}setHeaderEntries(e,n){const r=(Array.isArray(n)?n:[n]).map(o=>o.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>e(this.normalizedNames.get(n),this.headers.get(n)))}}class A9{encodeKey(e){return rO(e)}encodeValue(e){return rO(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const N9=/%(\d[a-f0-9])/gi,R9={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function rO(t){return encodeURIComponent(t).replace(N9,(e,n)=>R9[n]??e)}function Dh(t){return`${t}`}class ii{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new A9,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function M9(t,e){const n=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(i=>{const o=i.indexOf("="),[s,a]=-1==o?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,o)),e.decodeValue(i.slice(o+1))],l=n.get(s)||[];l.push(a),n.set(s,l)}),n}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(n=>{const r=e.fromObject[n],i=Array.isArray(r)?r.map(Dh):[Dh(r)];this.map.set(n,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const n=this.map.get(e);return n?n[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,n){return this.clone({param:e,value:n,op:"a"})}appendAll(e){const n=[];return Object.keys(e).forEach(r=>{const i=e[r];Array.isArray(i)?i.forEach(o=>{n.push({param:r,value:o,op:"a"})}):n.push({param:r,value:i,op:"a"})}),this.clone(n)}set(e,n){return this.clone({param:e,value:n,op:"s"})}delete(e,n){return this.clone({param:e,value:n,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const n=this.encoder.encodeKey(e);return this.map.get(e).map(r=>n+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const n=new ii({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(e),n}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const n=("a"===e.op?this.map.get(e.param):void 0)||[];n.push(Dh(e.value)),this.map.set(e.param,n);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let r=this.map.get(e.param)||[];const i=r.indexOf(Dh(e.value));-1!==i&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class P9{constructor(){this.map=new Map}set(e,n){return this.map.set(e,n),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function iO(t){return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer}function oO(t){return typeof Blob<"u"&&t instanceof Blob}function sO(t){return typeof FormData<"u"&&t instanceof FormData}class Hl{constructor(e,n,r,i){let o;if(this.url=n,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function O9(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==r?r:null,o=i):o=r,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params)),this.headers||(this.headers=new Kn),this.context||(this.context=new P9),this.params){const s=this.params.toString();if(0===s.length)this.urlWithParams=n;else{const a=n.indexOf("?");this.urlWithParams=n+(-1===a?"?":a<n.length-1?"&":"")+s}}else this.params=new ii,this.urlWithParams=n}serializeBody(){return null===this.body?null:iO(this.body)||oO(this.body)||sO(this.body)||function x9(t){return typeof URLSearchParams<"u"&&t instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof ii?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||sO(this.body)?null:oO(this.body)?this.body.type||null:iO(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof ii?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){const n=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,o=void 0!==e.body?e.body:this.body,s=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,a=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let l=e.headers||this.headers,c=e.params||this.params;const u=e.context??this.context;return void 0!==e.setHeaders&&(l=Object.keys(e.setHeaders).reduce((d,h)=>d.set(h,e.setHeaders[h]),l)),e.setParams&&(c=Object.keys(e.setParams).reduce((d,h)=>d.set(h,e.setParams[h]),c)),new Hl(n,r,o,{params:c,headers:l,context:u,reportProgress:a,responseType:i,withCredentials:s})}}var Os=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}(Os||{});class Wv{constructor(e,n=200,r="OK"){this.headers=e.headers||new Kn,this.status=void 0!==e.status?e.status:n,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class zv extends Wv{constructor(e={}){super(e),this.type=Os.ResponseHeader}clone(e={}){return new zv({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class xs extends Wv{constructor(e={}){super(e),this.type=Os.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new xs({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class aO extends Wv{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function qv(t,e){return{body:e,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials}}let lO=(()=>{var t;class e{constructor(r){this.handler=r}request(r,i,o={}){let s;if(r instanceof Hl)s=r;else{let c,u;c=o.headers instanceof Kn?o.headers:new Kn(o.headers),o.params&&(u=o.params instanceof ii?o.params:new ii({fromObject:o.params})),s=new Hl(r,i,void 0!==o.body?o.body:null,{headers:c,context:o.context,params:u,reportProgress:o.reportProgress,responseType:o.responseType||"json",withCredentials:o.withCredentials})}const a=k(s).pipe(ns(c=>this.handler.handle(c)));if(r instanceof Hl||"events"===o.observe)return a;const l=a.pipe(fr(c=>c instanceof xs));switch(o.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return l.pipe(re(c=>{if(null!==c.body&&!(c.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return c.body}));case"blob":return l.pipe(re(c=>{if(null!==c.body&&!(c.body instanceof Blob))throw new Error("Response is not a Blob.");return c.body}));case"text":return l.pipe(re(c=>{if(null!==c.body&&"string"!=typeof c.body)throw new Error("Response is not a string.");return c.body}));default:return l.pipe(re(c=>c.body))}case"response":return l;default:throw new Error(`Unreachable: unhandled observe type ${o.observe}}`)}}delete(r,i={}){return this.request("DELETE",r,i)}get(r,i={}){return this.request("GET",r,i)}head(r,i={}){return this.request("HEAD",r,i)}jsonp(r,i){return this.request("JSONP",r,{params:(new ii).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(r,i={}){return this.request("OPTIONS",r,i)}patch(r,i,o={}){return this.request("PATCH",r,qv(o,i))}post(r,i,o={}){return this.request("POST",r,qv(o,i))}put(r,i,o={}){return this.request("PUT",r,qv(o,i))}}return(t=e).\u0275fac=function(r){return new(r||t)(O(Eh))},t.\u0275prov=x({token:t,factory:t.\u0275fac}),e})();function dO(t,e){return e(t)}function F9(t,e){return(n,r)=>e.intercept(n,{handle:i=>t(i,r)})}const V9=new N(""),$l=new N(""),hO=new N("");function U9(){let t=null;return(e,n)=>{null===t&&(t=(M(V9,{optional:!0})??[]).reduceRight(F9,dO));const r=M(Ou),i=r.add();return t(e,n).pipe(Ga(()=>r.remove(i)))}}let fO=(()=>{var t;class e extends Eh{constructor(r,i){super(),this.backend=r,this.injector=i,this.chain=null,this.pendingTasks=M(Ou)}handle(r){if(null===this.chain){const o=Array.from(new Set([...this.injector.get($l),...this.injector.get(hO,[])]));this.chain=o.reduceRight((s,a)=>function L9(t,e,n){return(r,i)=>n.runInContext(()=>e(r,o=>t(o,i)))}(s,a,this.injector),dO)}const i=this.pendingTasks.add();return this.chain(r,o=>this.backend.handle(o)).pipe(Ga(()=>this.pendingTasks.remove(i)))}}return(t=e).\u0275fac=function(r){return new(r||t)(O(wh),O($t))},t.\u0275prov=x({token:t,factory:t.\u0275fac}),e})();const $9=/^\)\]\}',?\n/;let gO=(()=>{var t;class e{constructor(r){this.xhrFactory=r}handle(r){if("JSONP"===r.method)throw new D(-2800,!1);const i=this.xhrFactory;return(i.\u0275loadImpl?Ge(i.\u0275loadImpl()):k(null)).pipe(dn(()=>new Ae(s=>{const a=i.build();if(a.open(r.method,r.urlWithParams),r.withCredentials&&(a.withCredentials=!0),r.headers.forEach((m,y)=>a.setRequestHeader(m,y.join(","))),r.headers.has("Accept")||a.setRequestHeader("Accept","application/json, text/plain, */*"),!r.headers.has("Content-Type")){const m=r.detectContentTypeHeader();null!==m&&a.setRequestHeader("Content-Type",m)}if(r.responseType){const m=r.responseType.toLowerCase();a.responseType="json"!==m?m:"text"}const l=r.serializeBody();let c=null;const u=()=>{if(null!==c)return c;const m=a.statusText||"OK",y=new Kn(a.getAllResponseHeaders()),_=function G9(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}(a)||r.url;return c=new zv({headers:y,status:a.status,statusText:m,url:_}),c},d=()=>{let{headers:m,status:y,statusText:_,url:R}=u(),P=null;204!==y&&(P=typeof a.response>"u"?a.responseText:a.response),0===y&&(y=P?200:0);let $=y>=200&&y<300;if("json"===r.responseType&&"string"==typeof P){const Ve=P;P=P.replace($9,"");try{P=""!==P?JSON.parse(P):null}catch(ht){P=Ve,$&&($=!1,P={error:ht,text:P})}}$?(s.next(new xs({body:P,headers:m,status:y,statusText:_,url:R||void 0})),s.complete()):s.error(new aO({error:P,headers:m,status:y,statusText:_,url:R||void 0}))},h=m=>{const{url:y}=u(),_=new aO({error:m,status:a.status||0,statusText:a.statusText||"Unknown Error",url:y||void 0});s.error(_)};let f=!1;const p=m=>{f||(s.next(u()),f=!0);let y={type:Os.DownloadProgress,loaded:m.loaded};m.lengthComputable&&(y.total=m.total),"text"===r.responseType&&a.responseText&&(y.partialText=a.responseText),s.next(y)},g=m=>{let y={type:Os.UploadProgress,loaded:m.loaded};m.lengthComputable&&(y.total=m.total),s.next(y)};return a.addEventListener("load",d),a.addEventListener("error",h),a.addEventListener("timeout",h),a.addEventListener("abort",h),r.reportProgress&&(a.addEventListener("progress",p),null!==l&&a.upload&&a.upload.addEventListener("progress",g)),a.send(l),s.next({type:Os.Sent}),()=>{a.removeEventListener("error",h),a.removeEventListener("abort",h),a.removeEventListener("load",d),a.removeEventListener("timeout",h),r.reportProgress&&(a.removeEventListener("progress",p),null!==l&&a.upload&&a.upload.removeEventListener("progress",g)),a.readyState!==a.DONE&&a.abort()}})))}}return(t=e).\u0275fac=function(r){return new(r||t)(O(eA))},t.\u0275prov=x({token:t,factory:t.\u0275fac}),e})();const Yv=new N("XSRF_ENABLED"),mO=new N("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),_O=new N("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class vO{}let q9=(()=>{var t;class e{constructor(r,i,o){this.doc=r,this.platform=i,this.cookieName=o,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const r=this.doc.cookie||"";return r!==this.lastCookieString&&(this.parseCount++,this.lastToken=$0(r,this.cookieName),this.lastCookieString=r),this.lastToken}}return(t=e).\u0275fac=function(r){return new(r||t)(O(Wt),O(kr),O(mO))},t.\u0275prov=x({token:t,factory:t.\u0275fac}),e})();function Y9(t,e){const n=t.url.toLowerCase();if(!M(Yv)||"GET"===t.method||"HEAD"===t.method||n.startsWith("http://")||n.startsWith("https://"))return e(t);const r=M(vO).getToken(),i=M(_O);return null!=r&&!t.headers.has(i)&&(t=t.clone({headers:t.headers.set(i,r)})),e(t)}var oi=function(t){return t[t.Interceptors=0]="Interceptors",t[t.LegacyInterceptors=1]="LegacyInterceptors",t[t.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",t[t.NoXsrfProtection=3]="NoXsrfProtection",t[t.JsonpSupport=4]="JsonpSupport",t[t.RequestsMadeViaParent=5]="RequestsMadeViaParent",t[t.Fetch=6]="Fetch",t}(oi||{});function Yi(t,e){return{\u0275kind:t,\u0275providers:e}}function K9(...t){const e=[lO,gO,fO,{provide:Eh,useExisting:fO},{provide:wh,useExisting:gO},{provide:$l,useValue:Y9,multi:!0},{provide:Yv,useValue:!0},{provide:vO,useClass:q9}];for(const n of t)e.push(...n.\u0275providers);return function gp(t){return{\u0275providers:t}}(e)}const yO=new N("LEGACY_INTERCEPTOR_FN");let Z9=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=At({type:t}),t.\u0275inj=ft({providers:[K9(Yi(oi.LegacyInterceptors,[{provide:yO,useFactory:U9},{provide:$l,useExisting:yO,multi:!0}]))]}),e})(),Gl=(()=>{var t;class e{constructor(r){this.http=r,this.db=nO()}SendEmail(r){return this.http.post("https://bookingmail.onrender.com/Send-Mail",r)}Vedant(){var r=this;return A(function*(){return new Promise((i,o)=>{$v(Rs(r.db,"Data/"),a=>{const l=a.val();r.DataLength=Object.keys(l).length,l?i(l):o(new Error("Data not found"))},a=>{o(a)})})})()}GetDataById(r){var i=this;return A(function*(){return new Promise((o,s)=>{$v(Rs(i.db,"Data/"+r),l=>{const c=l.val();c?o(c):s(new Error("Data not found"))},l=>{s(l)})})})()}writeUserData(r){var i=this;return A(function*(){try{const s=function s9(t,e){t=$n(t),Yn("push",t._path),qn("push",e,t._path,!0);const n=BP(t._repo),r=i9(n),i=Ps(t,r),o=Ps(t,r);let s;return s=null!=e?Hv(o,e).then(()=>o):Promise.resolve(o),i.then=s.then.bind(s),i.catch=s.then.bind(s,void 0),i}(Rs(i.db,"Data/"));return yield Hv(s,{id:s.key,Date:r.Date,Time:r.Time,Email:r.Email,FullName:r.FullName,PhoneNo:r.PhoneNo}),!0}catch{return console.log("error Sending Data"),!1}})()}DeleteData(r){var i=this;return A(function*(){try{return yield function a9(t){return Yn("remove",t._path),Hv(t,null)}(Rs(i.db,"Data/"+r)),!0}catch(o){return console.log("Data Dididnt Delete"+o),!1}})()}EditData(r,i){var o=this;return A(function*(){try{return yield l9(Rs(o.db,"Data/"+r),{id:r,Date:i.Date,Time:i.Time,Email:i.Email,FullName:i.FullName,PhoneNo:i.PhoneNo}),!0}catch{return console.log("error Sending Data"),!1}})()}}return(t=e).\u0275fac=function(r){return new(r||t)(O(lO))},t.\u0275prov=x({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),Kv=(()=>{var t;class e{constructor(){this.ReloadComponent=new Qt,this.Reload$=this.ReloadComponent.asObservable()}TriggerReload(r){this.ReloadComponent.next(r)}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=x({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function rY(t,e){1&t&&(C(0,"div",33),I(1,"*Invalid Code"),v())}let iY=(()=>{var t;class e{constructor(r,i,o,s,a,l){this.el=r,this.render=i,this.FB=o,this.DataSerice=s,this.router=a,this.ReloadService=l,this.CurrentDateLibrary=new Date,this.DateLibrary=new Date,this.counter=this.DateLibrary.getMonth(),this.BookingForm=new zr({}),this.DateValue="",this.TimeValue="",this.isEmailSucess="",this.isSubmitEnabled=!1,this.VerifcationCodeNotification=!1,this.BookingForm=this.FB.group({Date:["",[ut.required]],Time:["",[ut.required]],FullName:["",[ut.required,ut.pattern("^[A-Za-z\\s]{2,}$")]],Email:["",[ut.required,ut.email]],PhoneNo:["",[ut.required,ut.pattern("^[2-9]{1}[0-9]{9}$")]]})}ngOnInit(){this.SelectedTime(),this.MonthScrolling(),this.UpdateYear(),this.RenderDates(),this.DataSerice.Vedant().then(r=>{this.BookingData=r}),this.scheduleContainer=document.getElementsByClassName("ScheduleContainer")[0],this.emailNotification=document.getElementsByClassName("EmailNotification")[0],this.emailNotificationImg=this.emailNotification.children[0],this.verificationCode=document.getElementsByClassName("VerificationCode")[0],this.emailNotificationButton=this.emailNotification.children[2]}sendVerificationEmail(){const r={ema:this.BookingForm.value.Email,Code:this.VerificationCodeGenerator()};this.DataSerice.SendEmail(r).subscribe(i=>{i?(this.HandleEmailNotification(!0),console.log("Email sent successfully")):(this.HandleEmailNotification(!1),console.error("Error sending email"))},i=>{this.HandleEmailNotification(!1),console.error("Error sending email:",i)})}CloseEmailNotification(r){document.getElementsByClassName(r)[0].classList.remove("EmailNotificationToggle"),this.scheduleContainer.style.pointerEvents=""}HandleEmailNotification(r){this.scheduleContainer.style.pointerEvents="none",this.emailNotificationImg.src=r?"/assets/images/correct.png":"/assets/images/wrong.png",this.isEmailSucess=r?"Email Sent: Successfully":"Email Sent: Unsuccessfully",this.emailNotification.classList.add("EmailNotificationToggle"),r&&setTimeout(()=>{this.emailNotification.classList.remove("EmailNotificationToggle"),this.verificationCode.classList.add("EmailNotificationToggle")},1500)}VerificationCodeSubmit(r){r.value.trim()===this.VerifcationCodeNum?(this.VerifcationCodeNotification=!1,this.verificationCode.classList.remove("EmailNotificationToggle"),this.SubmitData(!0)):this.VerifcationCodeNotification=!0}SubmitData(r){var i=this;return A(function*(){r&&((yield i.DataSerice.writeUserData(i.BookingForm.value))?(i.emailNotificationImg.src="/assets/images/correct.png",i.isEmailSucess=`Appointment Scheduled Date:${i.BookingForm.value.Date} Time:${i.BookingForm.value.Time}`,i.emailNotificationButton.addEventListener("click",()=>{i.router.navigate([""])}),i.ReloadService.TriggerReload(!0),i.emailNotification.classList.add("EmailNotificationToggle"),i.BookingForm.reset()):(i.emailNotificationImg.src="/assets/images/wrong.png",i.isEmailSucess="Appointment Error",i.emailNotification.classList.add("EmailNotificationToggle")))})()}VerificationCodeGenerator(){let r=Math.floor(9e3*Math.random())+1e3;return this.VerifcationCodeNum=r.toString(),r}selectDate(r){this.BookingForm.patchValue({Date:`${this.DateLibrary.getMonth()+1}/${r}/${this.DateLibrary.getFullYear()}`}),this.DateValue=`${this.DateLibrary.getMonth()+1}/${r}/${this.DateLibrary.getFullYear()}`,this.MoveLeft("Date"),this.DisableTime()}SelectedTime(){let r=null;const i=document.querySelectorAll(".ScheduleTime > .FormDiv");for(let o=0;o<i.length;o++)i[o].addEventListener("click",()=>{null!=r&&(i[r].classList.remove("TimeDiv"),this.isSubmitEnabled=!1),i[o].classList.add("TimeDiv"),this.isSubmitEnabled=!0,r=o})}DisableTime(){const r=new Set,i=document.querySelectorAll(".ScheduleTime > .FormDiv");for(let o=0;o<i.length;o++)i[o].style.opacity="1",i[o].style.pointerEvents="auto";for(let o of Object.values(this.BookingData))o.Date==this.DateValue&&r.add(o.Time);for(let o=0;o<i.length;o++)r.has(i[o].textContent)&&(i[o].style.opacity="0.5",i[o].style.pointerEvents="none")}SubmitTime(){const r=document.querySelectorAll(".ScheduleTime > .FormDiv");let i="";r.forEach(o=>{o.classList.contains("TimeDiv")&&(i=o.textContent)}),this.BookingForm.patchValue({Time:i}),this.MoveLeft("Time")}MonthScrolling(){const r=document.getElementsByClassName("Month");for(let i=0;i<r.length;i++)r[i].style.left=200*i+"%",r[i].style.transform=`translateX(-${200*this.counter}%)`}TranslateX(){const r=document.getElementsByClassName("Month");Array.from(r).forEach(i=>{i.style.transform=`translateX(-${200*this.counter}%)`})}UpdateYear(){document.getElementsByClassName("Year")[0].children[0].innerText=`${this.DateLibrary.getFullYear()}`}RenderDates(){const r=this.el.nativeElement.querySelector(".Dates");let i=new Date(this.DateLibrary.getFullYear(),this.DateLibrary.getMonth()).getDay(),o=new Date(this.DateLibrary.getFullYear(),this.DateLibrary.getMonth(),0).getDate();for(let l=i;l>0;l--)r.appendChild(this.GenerateDateHTML(o-l+1,"Previous_Date"));let s=new Date(this.DateLibrary.getFullYear(),this.DateLibrary.getMonth()+1,0).getDate();for(let l=1;l<=s;l++){let c=new Date(this.DateLibrary.getFullYear(),this.DateLibrary.getMonth());c.setDate(l),this.CurrentDateLibrary.getMonth()==this.DateLibrary.getMonth()?0==c.getDay()||6==c.getDay()?r.appendChild(this.GenerateDateHTML(l,"Weekend")):c.getDate()>=this.CurrentDateLibrary.getDate()?r.appendChild(this.GenerateDateHTML(l,"green",()=>this.selectDate(l))):r.appendChild(this.GenerateDateHTML(l)):0==c.getDay()||6==c.getDay()?r.appendChild(this.GenerateDateHTML(l,"Weekend")):r.appendChild(this.GenerateDateHTML(l))}let a=new Date(this.DateLibrary.getFullYear(),this.DateLibrary.getMonth()+1).getDay();if(a){let l=1;for(let c=a;c<=6;c++)r.appendChild(this.GenerateDateHTML(l,"Next_Date")),l++}}GenerateDateHTML(r,i="",o=null){const s=this.render.createElement("p");return this.render.setProperty(s,"textContent",r),this.render.addClass(s,"Date"),i&&this.render.addClass(s,i),o&&this.render.listen(s,"click",o),s}MonthChanger(r){const i=this.el.nativeElement.querySelector(".Dates");"Left"==r?(this.counter++,this.DateLibrary.setMonth(this.counter)):(this.counter--,this.DateLibrary.setMonth(this.counter)),this.counter<0?this.counter=11:this.counter>11&&(this.counter=0),i.innerHTML="",this.TranslateX(),this.RenderDates(),this.UpdateYear()}MoveLeft(r){const i=document.getElementsByClassName("ScheduleDate")[0],o=document.getElementsByClassName("ScheduleTime")[0],s=document.getElementsByClassName("ScheduleForm")[0];"Date"==r?(i.classList.toggle("ScheduleDateMoveLeft"),o.classList.toggle("DsipalyTime")):(o.classList.toggle("ScheduleDateMoveLeft"),s.classList.toggle("DsipalyTime"))}}return(t=e).\u0275fac=function(r){return new(r||t)(E(Ot),E(_n),E(p_),E(Gl),E(lt),E(Kv))},t.\u0275cmp=pn({type:t,selectors:[["app-booking"]],decls:131,vars:5,consts:[[1,"ScheduleContainer"],[1,"ScheduleInformation"],[1,"ThreeContainer"],[1,"ScheduleForm",3,"formGroup","ngSubmit"],[1,"Header"],[3,"click"],[1,"FormDiv"],["type","text","readonly","","formControlName","Date"],["type","text","readonly","","formControlName","Time"],["type","text","formControlName","FullName"],["type","text","formControlName","Email"],["type","text","formControlName","PhoneNo"],[1,"FormDivButton"],["type","submit",3,"disabled"],[1,"ScheduleTime"],["type","submit",3,"disabled","click"],[1,"ScheduleDate"],[1,"Heading"],[1,"MonthYear"],[1,"MonthName"],[1,"Month"],[1,"Year"],[1,"Arrow"],[1,"Weeks"],[1,"Dates"],[1,"EmailNotification"],["src",""],[1,"VerificationCode"],[1,"InputField"],["type","text"],["Code",""],["class","CodeMessage",4,"ngIf"],[1,"VerificationCloseBtton",3,"click"],[1,"CodeMessage"]],template:function(r,i){if(1&r){const o=wu();C(0,"div",0)(1,"div",1)(2,"h2"),I(3,"Book Appointments"),v(),C(4,"p"),I(5,"\u{1f554} 1 Hr"),v(),C(6,"p"),I(7,"\u{1f30e} Delhi, Get Me Therapy"),v()(),C(8,"div",2)(9,"form",3),de("ngSubmit",function(){return i.sendVerificationEmail()}),C(10,"div",4)(11,"p",5),de("click",function(){return i.MoveLeft("Time")}),I(12,"\u25c2"),v(),C(13,"p"),I(14,"Fill This Details"),v()(),C(15,"div",6)(16,"label"),I(17,"Date :"),v(),q(18,"input",7),v(),C(19,"div",6)(20,"label"),I(21,"Time :"),v(),q(22,"input",8),v(),C(23,"div",6)(24,"label"),I(25,"Full Name :"),v(),q(26,"input",9),v(),C(27,"div",6)(28,"label"),I(29,"Email :"),v(),q(30,"input",10),v(),C(31,"div",6)(32,"label"),I(33,"Phone No :"),v(),q(34,"input",11),v(),C(35,"div",12),q(36,"input",13),v()(),C(37,"div",14)(38,"div",4)(39,"p",5),de("click",function(){return i.MoveLeft("Date")}),I(40,"\u25c2"),v(),C(41,"p"),I(42,"Select Time"),v()(),C(43,"div",6)(44,"p"),I(45,"8:00 AM"),v()(),C(46,"div",6)(47,"p"),I(48,"10:00 AM"),v()(),C(49,"div",6)(50,"p"),I(51,"12:00 AM"),v()(),C(52,"div",6)(53,"p"),I(54,"4:00 PM"),v()(),C(55,"div",6)(56,"p"),I(57,"6:00 PM"),v()(),C(58,"div",12)(59,"input",15),de("click",function(){return i.SubmitTime()}),v()()(),C(60,"div",16)(61,"div",17)(62,"h2"),I(63,"Select Date"),v()(),C(64,"div",18)(65,"div",19)(66,"p",20),I(67,"January"),v(),C(68,"p",20),I(69,"February"),v(),C(70,"p",20),I(71,"March"),v(),C(72,"p",20),I(73,"April"),v(),C(74,"p",20),I(75,"May"),v(),C(76,"p",20),I(77,"June"),v(),C(78,"p",20),I(79,"July"),v(),C(80,"p",20),I(81,"August"),v(),C(82,"p",20),I(83,"September"),v(),C(84,"p",20),I(85,"October"),v(),C(86,"p",20),I(87,"November"),v(),C(88,"p",20),I(89,"December"),v()(),C(90,"div",21),q(91,"p"),v(),C(92,"div",22)(93,"p",5),de("click",function(){return i.MonthChanger("Left")}),I(94,"\u25c2"),v(),C(95,"P",5),de("click",function(){return i.MonthChanger("Right")}),I(96,"\u25b8"),v()()(),C(97,"div",23)(98,"p"),I(99,"Sun"),v(),C(100,"p"),I(101,"Mon"),v(),C(102,"p"),I(103,"Tue"),v(),C(104,"p"),I(105,"Wed"),v(),C(106,"p"),I(107,"Thu"),v(),C(108,"p"),I(109,"Fri"),v(),C(110,"p"),I(111,"Sat"),v()(),q(112,"div",24),v()()(),C(113,"div",25),q(114,"img",26),C(115,"p"),I(116),v(),C(117,"button",5),de("click",function(){return i.CloseEmailNotification("EmailNotification")}),I(118,"Close"),v()(),C(119,"div",27)(120,"div",28)(121,"label"),I(122,"Enter Verification Code"),v(),q(123,"input",29,30),v(),rg(125,rY,2,0,"div",31),C(126,"div")(127,"button",5),de("click",function(){fo(o);const a=Eu(124);return po(i.VerificationCodeSubmit(a))}),I(128,"Verify"),v(),C(129,"button",32),de("click",function(){return i.CloseEmailNotification("VerificationCode")}),I(130,"Close"),v()()()}2&r&&(rt(9),on("formGroup",i.BookingForm),rt(27),on("disabled",!i.BookingForm.valid),rt(23),on("disabled",!i.isSubmitEnabled),rt(57),Lr(i.isEmailSucess),rt(9),on("ngIf",i.VerifcationCodeNotification))},dependencies:[Y0,Rd,hs,Ed,wd,ps,hl],styles:[".ScheduleContainer[_ngcontent-%COMP%]{margin:2% 2% 4%}.ScheduleInformation[_ngcontent-%COMP%]{padding:2%;margin-bottom:4%;box-shadow:0 4px 8px #0000004a,0 6px 20px #0000006b}.ScheduleInformation[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .ScheduleInformation[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;padding:0}.ThreeContainer[_ngcontent-%COMP%]{position:relative;border:2px solid;height:50vh;padding:2%;overflow-y:scroll;box-shadow:0 4px 8px #0000004a,0 6px 20px #0000006b}.ScheduleForm[_ngcontent-%COMP%], .ScheduleTime[_ngcontent-%COMP%], .ScheduleDate[_ngcontent-%COMP%]{width:92%;height:auto;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);background-color:#fff;transition:all .7s ease-out}.ScheduleForm[_ngcontent-%COMP%]{visibility:hidden}.Header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;height:5vh;margin-bottom:3%}.Header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;border:2px solid;border-radius:5px;background-color:silver;text-align:center;font-weight:700;line-height:5vh;height:100%}.Header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:first-child{width:10%}.Header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:last-child{width:80%}.FormDiv[_ngcontent-%COMP%]{display:flex;align-items:center;border:2px solid;border-radius:5px;margin-bottom:2%;font-weight:700}.FormDiv[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{width:40%}.FormDiv[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{outline:none;border:none;border-bottom:2px solid transparent;width:50%;font-weight:lighter;-webkit-text-stroke:.4px black;transition:all .3s ease-in}.FormDiv[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{border-bottom:2px solid rgb(0,107,255)}.FormDivButton[_ngcontent-%COMP%]{display:flex;border:2px solid;border-radius:5px;align-items:center;justify-content:center;height:5vh;background-color:silver}.FormDivButton[_ngcontent-%COMP%]   input[type=submit][_ngcontent-%COMP%]{border:2px solid transparent;border-radius:5px;color:#fff;background-color:#006bff;height:90%;cursor:pointer}.FormDivButton[_ngcontent-%COMP%]   input[type=submit][_ngcontent-%COMP%]:active{border:2px solid black}.ScheduleTime[_ngcontent-%COMP%]{visibility:hidden}.FormDiv[_ngcontent-%COMP%]{background-color:none}.ScheduleTime[_ngcontent-%COMP%]   .FormDiv[_ngcontent-%COMP%]{justify-content:center}.FormDiv[_ngcontent-%COMP%]   P[_ngcontent-%COMP%]{margin:0}.TimeDiv[_ngcontent-%COMP%]{border-color:#006bff}.ScheduleDate[_ngcontent-%COMP%]{font-weight:700}.ScheduleDate[_ngcontent-%COMP%]   .Heading[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0 0 2%}.ScheduleDate[_ngcontent-%COMP%]   .MonthYear[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;margin-bottom:2%}.ScheduleDate[_ngcontent-%COMP%]   .MonthYear[_ngcontent-%COMP%]   .MonthName[_ngcontent-%COMP%]{display:flex;width:90px;height:20px;border-radius:2px;position:relative;text-align:center;overflow:hidden;background-color:silver}.ScheduleDate[_ngcontent-%COMP%]   .MonthYear[_ngcontent-%COMP%]   .MonthName[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:-2% 0 0;position:absolute;width:100%;height:100%;transition:all .4s}.ScheduleDate[_ngcontent-%COMP%]   .MonthYear[_ngcontent-%COMP%]   .Year[_ngcontent-%COMP%]{width:65%}.ScheduleDate[_ngcontent-%COMP%]   .MonthYear[_ngcontent-%COMP%]   .Year[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{display:inline;padding:0 2%;border-radius:2px;margin:0;background-color:silver}.ScheduleDate[_ngcontent-%COMP%]   .MonthYear[_ngcontent-%COMP%]   .Arrow[_ngcontent-%COMP%]{width:20%;display:flex;justify-content:space-between}.ScheduleDate[_ngcontent-%COMP%]   .MonthYear[_ngcontent-%COMP%]   .Arrow[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;padding:0 8%;height:100%;border-radius:2px;color:#006bff;background-color:silver}.Weeks[_ngcontent-%COMP%]{display:grid;text-align:center;margin-bottom:2%;grid-template-columns:repeat(7,1fr)}.Weeks[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;text-align:center}.Dates[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(7,1fr);grid-template-rows:auto}.Dates[_ngcontent-%COMP%]   .Date[_ngcontent-%COMP%]{margin:0 0 12%;text-align:center}.Dates[_ngcontent-%COMP%]   .Previous_Date[_ngcontent-%COMP%], .Dates[_ngcontent-%COMP%]   .Next_Date[_ngcontent-%COMP%]{color:silver}.Dates[_ngcontent-%COMP%]   .Weekend[_ngcontent-%COMP%]{color:red}.Dates[_ngcontent-%COMP%]   .green[_ngcontent-%COMP%]{color:#67cc02}.Dates[_ngcontent-%COMP%]   .green[_ngcontent-%COMP%]:active:hover{background-color:#006bff;border-radius:2px}.ScheduleDateMoveLeft[_ngcontent-%COMP%]{transform:translate(-160%,-50%)}.DsipalyTime[_ngcontent-%COMP%]{visibility:visible}@media only screen and (max-width:750px){.ScheduleDate[_ngcontent-%COMP%]   .MonthYear[_ngcontent-%COMP%]   .Year[_ngcontent-%COMP%]{width:50%}}@media only screen and (max-width:550px){.Header[_ngcontent-%COMP%], .FormDiv[_ngcontent-%COMP%]{margin-bottom:4%}.ScheduleDate[_ngcontent-%COMP%]   .MonthYear[_ngcontent-%COMP%]   .Year[_ngcontent-%COMP%]{width:40%}.ScheduleDate[_ngcontent-%COMP%]   .Heading[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0 0 4%}.ScheduleDate[_ngcontent-%COMP%]   .MonthYear[_ngcontent-%COMP%], .Weeks[_ngcontent-%COMP%]{margin-bottom:4%}.Dates[_ngcontent-%COMP%]   .Date[_ngcontent-%COMP%]{margin:0 0 20%}}@media only screen and (max-width:330px){.FormDiv[_ngcontent-%COMP%]{margin-bottom:2%}.ScheduleDate[_ngcontent-%COMP%]   .Heading[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:medium;margin:0 0 1%}.ScheduleDate[_ngcontent-%COMP%]   .MonthYear[_ngcontent-%COMP%]{margin-bottom:1%}}input.ng-invalid[_ngcontent-%COMP%]{color:red}input.ng-valid[_ngcontent-%COMP%]{color:#68f050}.EmailNotification[_ngcontent-%COMP%], .VerificationCode[_ngcontent-%COMP%]{z-index:1;position:fixed;top:-10%;left:50%;visibility:hidden;transform:translate(-50%,-50%)scale(.1);border:2px solid;width:250px;height:auto;text-align:center;border-radius:10px;background-color:#006bff;font-weight:700;transition:all .3s ease}.EmailNotification[_ngcontent-%COMP%]{padding:0 1% 2%}img[_ngcontent-%COMP%]{width:20%;margin-top:-10%;border-radius:50%}.EmailNotification[_ngcontent-%COMP%]   button[_ngcontent-%COMP%], .VerificationCloseBtton[_ngcontent-%COMP%]{border:2px solid transparent;color:#fff;font-weight:700;border-radius:2px;background-color:#ff355e;padding:2%;cursor:pointer}.EmailNotification[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:active, .VerificationCode[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:active{border:2px solid}.EmailNotificationToggle[_ngcontent-%COMP%]{top:50%;transform:translate(-50%,-50%)scale(1);visibility:visible}.VerificationCode[_ngcontent-%COMP%]{padding:1%}.VerificationCode[_ngcontent-%COMP%]   .InputField[_ngcontent-%COMP%]{margin-bottom:2%}.VerificationCode[_ngcontent-%COMP%]   .CodeMessage[_ngcontent-%COMP%]{margin-bottom:3%;font-size:small;color:#ff355e;text-align:left;padding-left:15%}.VerificationCode[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:first-child{border:2px solid transparent;color:#fff;font-weight:700;border-radius:2px;background-color:#2ce42c;padding:2%;margin-right:2%}.VerificationCloseBtton[_ngcontent-%COMP%]{margin-left:2%}"]}),e})();function oY(t,e){if(1&t){const n=wu();C(0,"div",5)(1,"div",6),I(2),v(),C(3,"div",6),I(4),v(),C(5,"div",6),I(6),v(),C(7,"div",6),I(8),v(),C(9,"div",6),I(10),v(),C(11,"div",6)(12,"button",7),de("click",function(){const o=fo(n).$implicit;return po(ag().UpdateData(o.id))}),I(13,"Edit"),v(),C(14,"button",7),de("click",function(){const o=fo(n).$implicit;return po(ag().DeleteData(o.id))}),I(15,"Delete"),v()()()}if(2&t){const n=e.$implicit;rt(2),Lr(n.Date),rt(2),Lr(n.Time),rt(2),Lr(n.FullName),rt(2),Lr(n.Email),rt(2),Lr(n.PhoneNo)}}let sY=(()=>{var t;class e{constructor(r,i,o){this.router=r,this.DataService=i,this.ReloadService=o,this.CurrentDate=new Date,this.ReloadService.Reload$.subscribe(s=>{s&&this.ngOnInit()})}ngOnInit(){this.DataService.Vedant().then(r=>{this.Data=Object.values(r),this.DeletePastData(r)})}DeletePastData(r){let i=new Date(`${this.CurrentDate.getMonth()+1}/${this.CurrentDate.getDate()}/${this.CurrentDate.getFullYear()}`);for(let o in r)new Date(r[o].Date)<i&&this.DeleteData(r[o].id)}DeleteData(r){var i=this;return A(function*(){(yield i.DataService.DeleteData(r))?i.ngOnInit():alert("Error IN Deleting")})()}UpdateData(r){this.router.navigate(["/Update-Details",r])}}return(t=e).\u0275fac=function(r){return new(r||t)(E(lt),E(Gl),E(Kv))},t.\u0275cmp=pn({type:t,selectors:[["app-manual-data-managing"]],decls:16,vars:1,consts:[[1,"MainContainer"],[1,"Headers"],[1,"Heading"],[1,"DataGroup"],["class","Data",4,"ngFor","ngForOf"],[1,"Data"],[1,"Details"],[3,"click"]],template:function(r,i){1&r&&(C(0,"div",0)(1,"div",1)(2,"div",2),I(3,"Date"),v(),C(4,"div",2),I(5,"Time"),v(),C(6,"div",2),I(7,"Full Name"),v(),C(8,"div",2),I(9,"Email"),v(),C(10,"div",2),I(11,"Phone No"),v(),C(12,"div",2),I(13,"Actions"),v()(),C(14,"div",3),rg(15,oY,16,5,"div",4),v()()),2&r&&(rt(15),on("ngForOf",i.Data))},dependencies:[z0],styles:[".MainContainer[_ngcontent-%COMP%]{padding:2%;margin-bottom:10%}.Headers[_ngcontent-%COMP%], .Data[_ngcontent-%COMP%]{display:flex;width:100%;font-weight:500}.Headers[_ngcontent-%COMP%]{font-weight:700;background-color:#006bff}.Data[_ngcontent-%COMP%]:nth-child(2n){background-color:#c2bebe}.Data[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border:1px solid;border-radius:2px;font-weight:700;cursor:pointer}.Data[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:first-child{color:#000;background-color:#98fb98;margin-right:2%}.Data[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child{color:#000;background-color:#f46860;margin-left:2%}.Heading[_ngcontent-%COMP%], .Details[_ngcontent-%COMP%]{width:16.6%;text-align:center;overflow:hidden;text-overflow:ellipsis;border:1px solid;border-radius:2px}"]}),e})(),aY=(()=>{var t;class e{constructor(r,i,o,s){this.FB=r,this.DataService=i,this.ACroute=o,this.router=s,this.EditDetails=new zr({}),this.ID="",this.EditDetails=this.FB.group({Date:["",[ut.required]],Time:["",[ut.required]],FullName:["",[ut.required,ut.pattern("^[A-Za-z\\s]{2,}$")]],Email:["",[ut.required,ut.email]],PhoneNo:["",[ut.required,ut.pattern("^[2-9]{1}[0-9]{9}$")]]})}ngOnInit(){this.ACroute.params.subscribe(r=>{this.ID=r.id}),this.DataService.GetDataById(this.ID).then(r=>{this.EditDetails.setValue({Date:r.Date,Time:r.Time,FullName:r.FullName,Email:r.Email,PhoneNo:r.PhoneNo})})}UpdateDetails(){this.DataService.EditData(this.ID,this.EditDetails.value).then(r=>{r?this.router.navigate(["/Private"]):alert("Error In Editing")}).catch(r=>{alert("Error In Editing")})}}return(t=e).\u0275fac=function(r){return new(r||t)(E(p_),E(Gl),E(Ai),E(lt))},t.\u0275cmp=pn({type:t,selectors:[["app-edit-booking"]],decls:30,vars:3,consts:[[1,"ScheduleContainer"],[1,"ThreeContainer"],[1,"ScheduleForm",3,"formGroup","ngSubmit"],[1,"Header"],["routerLink","/Private"],[1,"FormDiv"],["type","text","formControlName","Date",3,"readonly"],["type","text","readonly","","formControlName","Time"],["type","text","formControlName","FullName"],["type","text","formControlName","Email"],["type","text","formControlName","PhoneNo"],[1,"FormDivButton"],["type","submit",3,"disabled"]],template:function(r,i){1&r&&(C(0,"div",0)(1,"div",1)(2,"form",2),de("ngSubmit",function(){return i.UpdateDetails()}),C(3,"div",3)(4,"p",4),I(5,"\u25c2"),v(),C(6,"p"),I(7,"Fill This Details"),v()(),C(8,"div",5)(9,"label"),I(10,"Date :"),v(),q(11,"input",6),v(),C(12,"div",5)(13,"label"),I(14,"Time :"),v(),q(15,"input",7),v(),C(16,"div",5)(17,"label"),I(18,"Full Name :"),v(),q(19,"input",8),v(),C(20,"div",5)(21,"label"),I(22,"Email :"),v(),q(23,"input",9),v(),C(24,"div",5)(25,"label"),I(26,"Phone No :"),v(),q(27,"input",10),v(),C(28,"div",11),q(29,"input",12),v()()()()),2&r&&(rt(2),on("formGroup",i.EditDetails),rt(9),on("readonly",!0),rt(18),on("disabled",!i.EditDetails.valid))},dependencies:[ds,Rd,hs,Ed,wd,ps,hl],styles:[".ScheduleContainer[_ngcontent-%COMP%]{margin:2% 2% 4%}.ThreeContainer[_ngcontent-%COMP%]{position:relative;border:2px solid;height:50vh;padding:2%;overflow:hidden;box-shadow:0 4px 8px #0000004a,0 6px 20px #0000006b}.ScheduleForm[_ngcontent-%COMP%]{width:92%;height:auto;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);background-color:#fff;transition:all .7s ease-out}.Header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;height:5vh;margin-bottom:3%}.Header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;border:2px solid;border-radius:5px;background-color:silver;text-align:center;font-weight:700;line-height:5vh;height:100%}.Header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:first-child{width:10%}.Header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:last-child{width:80%}.FormDiv[_ngcontent-%COMP%]{display:flex;align-items:center;border:2px solid;border-radius:5px;margin-bottom:2%;font-weight:700}.FormDiv[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{width:40%}.FormDiv[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{outline:none;border:none;border-bottom:2px solid transparent;width:50%;font-weight:lighter;-webkit-text-stroke:.4px black;transition:all .3s ease-in}.FormDiv[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{border-bottom:2px solid rgb(0,107,255)}.FormDivButton[_ngcontent-%COMP%]{display:flex;border:2px solid;border-radius:5px;align-items:center;justify-content:center;height:5vh;background-color:silver}.FormDivButton[_ngcontent-%COMP%]   input[type=submit][_ngcontent-%COMP%]{border:none;border-radius:5px;color:#fff;background-color:#006bff;height:90%;cursor:pointer}@media only screen and (max-width:550px){.Header[_ngcontent-%COMP%], .FormDiv[_ngcontent-%COMP%]{margin-bottom:4%}}input.ng-invalid[_ngcontent-%COMP%]{color:red}input.ng-valid[_ngcontent-%COMP%]{color:#68f050}"]}),e})(),lY=(()=>{var t;class e{constructor(r,i){this.FB=r,this.router=i,this.AdminForm=new zr({}),this.AdminForm=r.group({UserName:[""],Password:[""]})}AdminLog(){"Hello"===this.AdminForm.value.UserName&&"World"===this.AdminForm.value.Password?(localStorage.setItem("UserName",this.AdminForm.value.UserName),localStorage.setItem("Password",this.AdminForm.value.Password),this.router.navigate(["/Private"])):alert("Wrong Input")}}return(t=e).\u0275fac=function(r){return new(r||t)(E(p_),E(lt))},t.\u0275cmp=pn({type:t,selectors:[["app-admin"]],decls:15,vars:2,consts:[[1,"MainContainer"],[1,"AdminDiv"],[1,"AdminLogin"],[3,"formGroup","ngSubmit"],[1,"FormDiv"],["type","text","formControlName","UserName"],["type","password","formControlName","Password"],[1,"FormDivButton"],["type","submit",3,"disabled"]],template:function(r,i){1&r&&(C(0,"div",0)(1,"div",1)(2,"div",2),I(3,"Admin Login"),v(),C(4,"form",3),de("ngSubmit",function(){return i.AdminLog()}),C(5,"div",4)(6,"label"),I(7,"UserName : "),v(),q(8,"input",5),v(),C(9,"div",4)(10,"label"),I(11,"Password : "),v(),q(12,"input",6),v(),C(13,"div",7),q(14,"input",8),v()()()()),2&r&&(rt(4),on("formGroup",i.AdminForm),rt(10),on("disabled",!i.AdminForm.valid))},dependencies:[Rd,hs,Ed,wd,ps,hl],styles:[".MainContainer[_ngcontent-%COMP%]{width:80%;margin:0 auto;display:grid;place-items:center;height:50vh}.AdminDiv[_ngcontent-%COMP%]{border:2px solid}form[_ngcontent-%COMP%]{padding:4%}.AdminLogin[_ngcontent-%COMP%]{background-color:silver;text-align:center;font-weight:700;border-bottom:2px solid;margin-bottom:2%}.FormDiv[_ngcontent-%COMP%]{display:flex;align-items:center;border:2px solid;border-radius:5px;margin-bottom:3%;font-weight:700}.FormDiv[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{width:40%}.FormDiv[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{outline:none;border:none;border-bottom:2px solid transparent;width:50%;font-weight:lighter;-webkit-text-stroke:.4px black;transition:all .3s ease-in}.FormDiv[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{border-bottom:2px solid rgb(0,107,255)}.FormDivButton[_ngcontent-%COMP%]{display:flex;border:2px solid;border-radius:5px;align-items:center;justify-content:center;height:5vh;background-color:silver}.FormDivButton[_ngcontent-%COMP%]   input[type=submit][_ngcontent-%COMP%]{border:none;border-radius:5px;color:#fff;background-color:#006bff;height:90%}@media only screen and (max-width:555px){.FormDiv[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{width:40%}.FormDiv[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:50%}}"]}),e})();const CO=(t,e)=>!(null==localStorage.getItem("UserName")&&null==localStorage.getItem("Password")),cY=[{path:"",component:x4},{path:"Booking",component:iY},{path:"Private",component:sY,canActivate:[CO]},{path:"Update-Details/:id",component:aY,canActivate:[CO]},{path:"admin",component:lY}];let uY=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=At({type:t}),t.\u0275inj=ft({imports:[MM.forRoot(cY),MM]}),e})(),dY=(()=>{var t;class e{constructor(){this.counter=0}ngOnInit(){this.SlideImage=document.querySelectorAll(".SlideImage")}Translatex(){this.SlideImage.forEach(r=>{r.style.transform=`translateX(-${100*this.counter}%)`})}SlideImageFunction(r){"Left"==r&&this.counter>0?this.counter--:"Right"==r&&this.counter<3&&this.counter++,this.Translatex()}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=pn({type:t,selectors:[["app-header"]],decls:7,vars:0,consts:[["routerLink","",2,"cursor","pointer"],["routerLink","/admin"],[1,"fas","fa-user"]],template:function(r,i){1&r&&(C(0,"header")(1,"div"),I(2,"\u2261"),v(),C(3,"div",0),I(4,"Get Me Therapy"),v(),C(5,"div",1),q(6,"i",2),v()())},dependencies:[ds],styles:["header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;background-color:#006bff;padding:1%;border-bottom:2px solid}header[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{font-weight:700}"]}),e})(),hY=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=pn({type:t,selectors:[["app-footer"]],decls:37,vars:0,consts:[["rel","stylesheet","href","https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css"],["href","https://www.facebook.com/getmetherapy","target","_blank"],[1,"fab","fa-facebook"],["href","https://www.instagram.com/getmetherapy/","target","_blank"],[1,"fab","fa-instagram"],["href","https://www.youtube.com/channel/UCKrOS3c60lxF3Nn47EZLYOA","target","_blank"],[1,"fab","fa-youtube"],["href","https://in.linkedin.com/company/getmetherapy","target","_blank"],[1,"fab","fa-linkedin"]],template:function(r,i){1&r&&(q(0,"link",0),C(1,"footer")(2,"div")(3,"h1"),I(4,"Useful links"),v(),C(5,"ul")(6,"li"),I(7," Home"),v(),C(8,"li"),I(9,"About Us"),v(),C(10,"li"),I(11,"Pricing"),v(),C(12,"li"),I(13,"Our Clients"),v(),C(14,"li"),I(15,"FAQs"),v(),C(16,"li"),I(17,"Contact Us"),v()()(),C(18,"div")(19,"h1"),I(20,"Get Me Therapy"),v(),C(21,"p"),I(22,"Getting mental health support can be tough. But we're here for you."),v(),C(23,"div")(24,"a",1),q(25,"i",2),v(),C(26,"a",3),q(27,"i",4),v(),C(28,"a",5),q(29,"i",6),v(),C(30,"a",7),q(31,"i",8),v()(),C(32,"div")(33,"h1"),I(34,"Our Company"),v(),C(35,"p"),I(36,"Terms & Conditions Privacy Policy"),v()()()())},styles:["footer[_ngcontent-%COMP%]{text-align:center;background-color:#006bff}p[_ngcontent-%COMP%], h1[_ngcontent-%COMP%], ul[_ngcontent-%COMP%]{padding:0;margin:0}li[_ngcontent-%COMP%]{list-style-type:none}a[_ngcontent-%COMP%]{color:#0b3558;text-decoration:none;cursor:pointer}footer[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#0ff;padding:1% 1% 0}@media only screen and (max-width:480px){p[_ngcontent-%COMP%]{font-size:80%}}@media only screen and (max-width:380px){p[_ngcontent-%COMP%]{font-size:70%}}"]}),e})(),fY=(()=>{var t;class e{constructor(r,i,o){this.Render=r,this.DataService=i,this.ReloadService=o,this.State="Start",this.data={},this.ReloadService.Reload$.subscribe(s=>{s&&this.ngOnInit()})}ngOnInit(){this.DataService.Vedant().then(r=>{this.data=r})}SubmitText(r){let i=r.value.trim();i&&(this.AddText(i,"Outgoing"),setTimeout(()=>{this.ChatBotLogic(i)},1e3)),r.value=""}Check_Details(r){for(let i of Object.values(this.data))if(i.Email.toLowerCase()==r.toLowerCase())return`Date:${i.Date} Time:${i.Time}`;return!1}Cancel_Appointment(r){var i=this;return A(function*(){for(let o of Object.values(i.data))if(o.Email.toLowerCase()==r.toLowerCase()&&(yield i.DataService.DeleteData(o.id)))return i.ReloadService.TriggerReload(!0),!0;return!1})()}ChatBotLogic(r){const i=document.getElementsByClassName("MessagingDiv")[0];"3"===r&&(this.State="3");let o="";switch(this.State){case"Start":"1"===r?(this.State="CheckDetails",o="Enter Your Email To see Appointment Details."):"2"===r?(this.State="CancelAppointment",o="Enter Your Email To Cancel Appointment."):o="Wrong Input",this.AddText(o);break;case"CheckDetails":const s=this.Check_Details(r);"string"==typeof s?(o=s,this.State="Start"):o="Please Enter a Valid Email",this.AddText(o);break;case"CancelAppointment":this.Cancel_Appointment(r).then(a=>{a?(o="Appointment Has Been Cancelled",this.State="Start"):o="Please Enter a Valid Email",this.AddText(o)});break;case"3":Array.from(i.children).slice(2).forEach(a=>{a.remove()}),this.State="Start"}}AddText(r,i=""){const o=document.getElementsByClassName("MessagingDiv")[0];o.appendChild(i?this.GenerateHtml(r,"Outgoing"):this.GenerateHtml(r)),o.scrollTop=o.scrollHeight}GenerateHtml(r,i=""){const o=this.Render.createElement("li");return this.Render.setProperty(o,"textContent",r),i&&this.Render.addClass(o,i),o}}return(t=e).\u0275fac=function(r){return new(r||t)(E(_n),E(Gl),E(Kv))},t.\u0275cmp=pn({type:t,selectors:[["app-chat-bot"]],decls:18,vars:0,consts:[[1,"Heading"],[1,"MessagingDiv"],[1,"InputDiv"],["type","text","placeholder","Text Here...",1,"ChatBotInput",3,"keyup.enter"],["inputText",""],[3,"click"],[1,"fas","fa-paper-plane"]],template:function(r,i){if(1&r){const o=wu();C(0,"div",0),I(1,"ChatBot"),v(),C(2,"div",1)(3,"li"),I(4,"Hello How May I assist You Today"),v(),C(5,"li"),I(6,"Press 1: To See Appointment Details."),q(7,"br")(8,"br"),I(9,"Press 2: To Cancel Appointment."),q(10,"br")(11,"br"),I(12,"Press 3: To Reset Chats."),v()(),C(13,"div",2)(14,"input",3,4),de("keyup.enter",function(){fo(o);const a=Eu(15);return po(i.SubmitText(a))}),v(),C(16,"button",5),de("click",function(){fo(o);const a=Eu(15);return po(i.SubmitText(a))}),q(17,"i",6),v()()}},styles:[".Heading[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;width:100%;background-color:#006bff;border-bottom:2px solid;height:10%;font-weight:700}.MessagingDiv[_ngcontent-%COMP%]{width:96%;padding:2%;height:69%;overflow-x:hidden;overflow-y:scroll;display:flex;flex-direction:column;justify-content:flex-start;align-items:flex-start;scroll-behavior:smooth}li[_ngcontent-%COMP%]{list-style-type:none;background-color:silver;padding:3%;margin:2% 0;border-radius:2px;max-width:70%;width:auto;white-space:wrap;word-wrap:break-word;font-size:small;font-weight:500}.Outgoing[_ngcontent-%COMP%]{align-self:flex-end;text-align:left;background-color:#006bff}.InputDiv[_ngcontent-%COMP%]{display:flex;align-items:center;width:94%;height:17%;padding:0 3%;background-color:#006bff;position:absolute;bottom:0;border-top:2px solid}input[_ngcontent-%COMP%]{width:80%;height:50%;border:none;outline:none;resize:none;border-radius:2px}input[type=text][_ngcontent-%COMP%]:not(:placeholder-shown)~button{color:#006bff}button[_ngcontent-%COMP%]{width:15%;height:55%;border-radius:20%;padding:2% 0;margin-left:4%;background-color:#f8f8ff;color:#f8f8ff;text-align:center;display:flex;align-items:center;justify-content:center;cursor:pointer}@media only screen and (max-width:320px){button[_ngcontent-%COMP%]{font-size:small}}"]}),e})(),pY=(()=>{var t;class e{constructor(){this.title="Booking-Appointment",this.ChatBotContainer=null,this.ChatBot=null,this.ChatBotButton=null,this.Itag=null,this.IconDiv=null}ngAfterViewInit(){this.ChatBot=document.getElementsByClassName("ChatBot")[0],this.ChatBotButton=document.getElementsByClassName("ChatBotButton")[0],this.Itag=document.querySelectorAll("i")[2],this.ChatBotContainer=document.getElementsByClassName("ChatBotContainer")[0],this.ChatBotButton.addEventListener("click",()=>{this.ChatBotContainer?.classList.toggle("ChatBotContainerVisible"),this.Itag?.classList.toggle("HideChatTag"),this.ChatBotButton?.classList.toggle("RotateIconDiv")})}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=pn({type:t,selectors:[["app-root"]],decls:9,vars:0,consts:[[1,"ChatBotContainer"],[1,"ChatBot"],[1,"ChatBotButton"],[1,"fas","fa-comment-alt"],[1,"fa","fa-times"]],template:function(r,i){1&r&&(q(0,"app-header")(1,"router-outlet"),C(2,"div",0)(3,"div",1),q(4,"app-chat-bot"),v()(),C(5,"div",2),q(6,"i",3)(7,"i",4),v(),q(8,"app-footer"))},dependencies:[jm,dY,hY,fY],styles:[".ChatBotContainer[_ngcontent-%COMP%]{width:20vw;height:45vh;position:fixed;top:85%;left:90%;transform:translate(-90%,-85%)scale(.5);z-index:-1;opacity:0;transform-origin:bottom right;transition:all .2s ease}.ChatBot[_ngcontent-%COMP%]{width:100%;height:100%;opacity:1;transform:scale(1);background-color:#fff;border:2px solid}.ChatBotContainerVisible[_ngcontent-%COMP%]{z-index:1;opacity:1;transform:translate(-90%,-85%)scale(1)}.ChatBotButton[_ngcontent-%COMP%]{position:fixed;top:92%;left:93%;width:6vh;height:6vh;z-index:1;display:flex;align-items:center;justify-content:center;margin-right:6%;border-radius:50%;border:2px solid;background-color:#006bff;transition:all .2s ease;cursor:pointer}.RotateIconDiv[_ngcontent-%COMP%]{transform:rotate(90deg)}.ChatBotButton[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);font-size:small}.HideChatTag[_ngcontent-%COMP%]{opacity:0}@media only screen and (max-width:1000px){.ChatBotContainer[_ngcontent-%COMP%]{width:30vw;top:85%;left:82%;transform:translateX(-82%,-85%)}.ChatBotButton[_ngcontent-%COMP%]{left:87%}}@media only screen and (max-width:750px){.ChatBotContainer[_ngcontent-%COMP%]{width:35vw;top:85%;left:83%;transform:translateX(-83%,-85%)}}@media only screen and (max-width:610px){.ChatBotContainer[_ngcontent-%COMP%]{width:40vw;top:85%;left:81%;transform:translateX(-81%,-85%)}}@media only screen and (max-width:540px){.ChatBotContainer[_ngcontent-%COMP%]{width:45vw;top:85%;left:79%;transform:translateX(-79%,-85%)}}@media only screen and (max-width:490px){.ChatBotContainer[_ngcontent-%COMP%]{width:50vw;top:85%;left:77%;transform:translateX(-77%,-85%)}}@media only screen and (max-width:420px){.ChatBotContainer[_ngcontent-%COMP%]{width:55vw;height:40vh;top:85%;left:77%;transform:translateX(-77%,-85%)}}@media only screen and (max-width:395px){.ChatBotContainer[_ngcontent-%COMP%]{width:55vw;height:40vh;top:85%;left:77%;transform:translateX(-77%,-85%)}.ChatBotButton[_ngcontent-%COMP%]{left:82%}}"]}),e})();function Wl(t){return(Wl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function bt(t,e,n){return(e=function mY(t){var e=function gY(t,e){if("object"!==Wl(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==Wl(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===Wl(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}ln("firebase","10.5.2","app");class yY extends Tt{constructor(e,n){super()}schedule(e,n=0){return this}}const bh={setInterval(t,e,...n){const{delegate:r}=bh;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){const{delegate:e}=bh;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};class EO extends yY{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;const i=this.id,o=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(o,i,n)),this.pending=!0,this.delay=n,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(o,this.id,n),this}requestAsyncId(e,n,r=0){return bh.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return n;null!=n&&bh.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,n);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let i,r=!1;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,eo(r,this),null!=e&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}}const wO={now:()=>(wO.delegate||Date).now(),delegate:void 0};class zl{constructor(e,n=zl.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}}zl.now=wO.now;class DO extends zl{constructor(e,n=zl.now){super(e,n),this.actions=[],this._active=!1}flush(e){const{actions:n}=this;if(this._active)return void n.push(e);let r;this._active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}}const wY=new class EY extends DO{}(class CY extends EO{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return null!=r&&r>0||null==r&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}}),DY=new DO(EO),Qv=new xo("ANGULARFIRE2_VERSION");const Zv=(t,e)=>{const n=e?[e]:XN(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r};class IY{constructor(){return Zv(bY)}}const bY="app-check";function ks(){}class bO{constructor(e,n=wY){bt(this,"zone",void 0),bt(this,"delegate",void 0),this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){const i=this.zone;return this.delegate.schedule(function(s){i.runGuarded(()=>{e.apply(this,[s])})},n,r)}}class TY{constructor(e){bt(this,"zone",void 0),bt(this,"task",null),this.zone=e}call(e,n){const r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ks,{},ks,ks)),n.pipe(it({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let TO=(()=>{var t;class e{constructor(r){bt(this,"ngZone",void 0),bt(this,"outsideAngular",void 0),bt(this,"insideAngular",void 0),this.ngZone=r,this.outsideAngular=r.runOutsideAngular(()=>new bO(Zone.current)),this.insideAngular=r.run(()=>new bO(Zone.current,DY)),globalThis.\u0275AngularFireScheduler||=this}}return t=e,bt(e,"\u0275fac",function(r){return new(r||t)(O(ce))}),bt(e,"\u0275prov",x({token:t,factory:t.\u0275fac,providedIn:"root"})),e})();function Fs(){const t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return t}function Ki(t){return Fs().ngZone.run(()=>t())}function AY(t){return function MY(t){return function(n){return(n=n.lift(new TY(t.ngZone))).pipe(cc(t.outsideAngular),lc(t.insideAngular))}}(Fs())(t)}const NY=(t,e)=>function(){const r=arguments;return e&&setTimeout(()=>{"scheduled"===e.state&&e.invoke()},10),Ki(()=>t.apply(void 0,r))},RY=(t,e)=>function(){let n;const r=arguments;for(let o=0;o<arguments.length;o++)"function"==typeof r[o]&&(e&&(n||=Ki(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ks,{},ks,ks))),r[o]=NY(r[o],n));const i=function SY(t){return Fs().ngZone.runOutsideAngular(()=>t())}(()=>t.apply(this,r));if(!e){if(i instanceof Ae){const o=Fs();return i.pipe(cc(o.outsideAngular),lc(o.insideAngular))}return Ki(()=>i)}return i instanceof Ae?i.pipe(AY):i instanceof Promise?Ki(()=>new Promise((o,s)=>i.then(a=>Ki(()=>o(a)),a=>Ki(()=>s(a))))):"function"==typeof i&&n?function(){return setTimeout(()=>{n&&"scheduled"===n.state&&n.invoke()},10),i.apply(this,arguments)}:Ki(()=>i)};class ql{constructor(e){return e}}class SO{constructor(){return XN()}}const Xv=new N("angularfire2._apps"),OY={provide:ql,useFactory:function PY(t){return t&&1===t.length?t[0]:new ql(ZN())},deps:[[new nn,Xv]]},xY={provide:SO,deps:[[new nn,Xv]]};function kY(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new ql(r)}}let FY=(()=>{var t;class e{constructor(r){ln("angularfire",Qv.full,"core"),ln("angularfire",Qv.full,"app"),ln("angular",_I.full,r.toString())}}return t=e,bt(e,"\u0275fac",function(r){return new(r||t)(O(kr))}),bt(e,"\u0275mod",At({type:t})),bt(e,"\u0275inj",ft({providers:[OY,xY]})),e})();function LY(t,...e){return{ngModule:FY,providers:[{provide:Xv,useFactory:kY(t),multi:!0,deps:[ce,yt,TO,...e]}]}}const VY=function AO(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},MO=new fl("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Th=new w_("@firebase/auth");function Sh(t,...e){Th.logLevel<=pe.ERROR&&Th.error(`Auth (${Bd}): ${t}`,...e)}function Lt(t,...e){throw Jv(t,...e)}function Qn(t,...e){return Jv(t,...e)}function Jv(t,...e){if("string"!=typeof t){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return MO.create(t,...e)}function T(t,e,...n){if(!t)throw Jv(e,...n)}function Zn(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Sh(e),new Error(e)}function si(t,e){t||Zn(e)}function RO(){var t;return typeof self<"u"&&(null===(t=self.location)||void 0===t?void 0:t.protocol)||null}function BY(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function ey(){return"http:"===RO()||"https:"===RO()}()||function $5(){const t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}()||"connection"in navigator))||navigator.onLine}class Kl{constructor(e,n){this.shortDelay=e,this.longDelay=n,si(n>e,"Short delay should be less than long delay!"),this.isMobile=__()||BN()}get(){return BY()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}class PO{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void Zn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void Zn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void Zn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const HY={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},$Y=new Kl(3e4,6e4);function Re(t,e,n,r){return ny.apply(this,arguments)}function ny(){return(ny=A(function*(t,e,n,r,i={}){return OO(t,i,A(function*(){let o={},s={};r&&("GET"===e?s=r:o={body:JSON.stringify(r)});const a=y_(Object.assign({key:t.config.apiKey},s)).slice(1),l=yield t._getAdditionalHeaders();return l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode),PO.fetch()(xO(t,t.config.apiHost,n,a),Object.assign({method:e,headers:l,referrerPolicy:"no-referrer"},o))}))})).apply(this,arguments)}function OO(t,e,n){return ry.apply(this,arguments)}function ry(){return(ry=A(function*(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},HY),e);try{const i=new WY(t),o=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();const s=yield o.json();if("needConfirmation"in s)throw Ql(t,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{const a=o.ok?s.errorMessage:s.error.message,[l,c]=a.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===l)throw Ql(t,"credential-already-in-use",s);if("EMAIL_EXISTS"===l)throw Ql(t,"email-already-in-use",s);if("USER_DISABLED"===l)throw Ql(t,"user-disabled",s);const u=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw function NO(t,e,n){const r=Object.assign(Object.assign({},VY()),{[e]:n});return new fl("auth","Firebase",r).create(e,{appName:t.name})}(t,u,c);Lt(t,u)}}catch(i){if(i instanceof Pi)throw i;Lt(t,"network-request-failed",{message:String(i)})}})).apply(this,arguments)}function xO(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?function ty(t,e){si(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}(t.config,i):`${t.config.apiScheme}://${i}`}class WY{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Qn(this.auth,"network-request-failed")),$Y.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Ql(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Qn(t,e,r);return i.customData._tokenResponse=n,i}function ay(){return(ay=A(function*(t,e){return Re(t,"POST","/v1/accounts:delete",e)})).apply(this,arguments)}function cy(){return(cy=A(function*(t,e){return Re(t,"POST","/v1/accounts:lookup",e)})).apply(this,arguments)}function Zl(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function uy(){return(uy=A(function*(t,e=!1){const n=$n(t),r=yield n.getIdToken(e),i=Ah(r);T(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o="object"==typeof i.firebase?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:Zl(dy(i.auth_time)),issuedAtTime:Zl(dy(i.iat)),expirationTime:Zl(dy(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})).apply(this,arguments)}function dy(t){return 1e3*Number(t)}function Ah(t){const[e,n,r]=t.split(".");if(void 0===e||void 0===n||void 0===r)return Sh("JWT malformed, contained fewer than 3 sections"),null;try{const i=Od(n);return i?JSON.parse(i):(Sh("Failed to decode base64 JWT payload"),null)}catch(i){return Sh("Caught error parsing JWT payload as JSON",i?.toString()),null}}function Er(t,e){return hy.apply(this,arguments)}function hy(){return(hy=A(function*(t,e,n=!1){if(n)return e;try{return yield e}catch(r){throw r instanceof Pi&&function XY({code:t}){return"auth/user-disabled"===t||"auth/user-token-expired"===t}(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})).apply(this,arguments)}class JY{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),r}{this.errorBackoff=3e4;const i=(null!==(n=this.user.stsTokenManager.expirationTime)&&void 0!==n?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){var n=this;if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(A(function*(){yield n.iteration()}),r)}iteration(){var e=this;return A(function*(){try{yield e.user.getIdToken(!0)}catch(n){return void("auth/network-request-failed"===n?.code&&e.schedule(!0))}e.schedule()})()}}class UO{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Zl(this.lastLoginAt),this.creationTime=Zl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Xl(t){return fy.apply(this,arguments)}function fy(){return fy=A(function*(t){var e;const n=t.auth,r=yield t.getIdToken(),i=yield Er(t,function KY(t,e){return cy.apply(this,arguments)}(n,{idToken:r}));T(i?.users.length,n,"internal-error");const o=i.users[0];t._notifyReloadListener(o);const s=null!==(e=o.providerUserInfo)&&void 0!==e&&e.length?function nK(t){return t.map(e=>{var{providerId:n}=e,r=Zh(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}(o.providerUserInfo):[],a=function tK(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}(t.providerData,s),u=!!t.isAnonymous&&!(t.email&&o.passwordHash||a?.length),d={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new UO(o.createdAt,o.lastLoginAt),isAnonymous:u};Object.assign(t,d)}),fy.apply(this,arguments)}function py(){return(py=A(function*(t){const e=$n(t);yield Xl(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})).apply(this,arguments)}function gy(){return(gy=A(function*(t,e){const n=yield OO(t,{},A(function*(){const r=y_({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,s=xO(t,i,"/v1/token",`key=${o}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",PO.fetch()(s,{method:"POST",headers:a,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})).apply(this,arguments)}class Jl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){T(e.idToken,"internal-error"),T(typeof e.idToken<"u","internal-error"),T(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):function ZY(t){const e=Ah(t);return T(e,"internal-error"),T(typeof e.exp<"u","internal-error"),T(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}getToken(e,n=!1){var r=this;return A(function*(){return T(!r.accessToken||r.refreshToken,e,"user-token-expired"),n||!r.accessToken||r.isExpired?r.refreshToken?(yield r.refresh(e,r.refreshToken),r.accessToken):null:r.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(e,n){var r=this;return A(function*(){const{accessToken:i,refreshToken:o,expiresIn:s}=yield function rK(t,e){return gy.apply(this,arguments)}(e,n);r.updateTokensAndExpiration(i,o,Number(s))})()}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*r}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:o}=n,s=new Jl;return r&&(T("string"==typeof r,"internal-error",{appName:e}),s.refreshToken=r),i&&(T("string"==typeof i,"internal-error",{appName:e}),s.accessToken=i),o&&(T("number"==typeof o,"internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Jl,this.toJSON())}_performRefresh(){return Zn("not implemented")}}function ai(t,e){T("string"==typeof t||typeof t>"u","internal-error",{appName:e})}class Qi{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,o=Zh(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new JY(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new UO(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(e){var n=this;return A(function*(){const r=yield Er(n,n.stsTokenManager.getToken(n.auth,e));return T(r,n.auth,"internal-error"),n.accessToken!==r&&(n.accessToken=r,yield n.auth._persistUserIfCurrent(n),n.auth._notifyListenersIfCurrent(n)),r})()}getIdTokenResult(e){return function QY(t){return uy.apply(this,arguments)}(this,e)}reload(){return function eK(t){return py.apply(this,arguments)}(this)}_assign(e){this!==e&&(T(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Qi(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){T(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){var r=this;return A(function*(){let i=!1;e.idToken&&e.idToken!==r.stsTokenManager.accessToken&&(r.stsTokenManager.updateFromServerResponse(e),i=!0),n&&(yield Xl(r)),yield r.auth._persistUserIfCurrent(r),i&&r.auth._notifyListenersIfCurrent(r)})()}delete(){var e=this;return A(function*(){const n=yield e.getIdToken();return yield Er(e,function qY(t,e){return ay.apply(this,arguments)}(e.auth,{idToken:n})),e.stsTokenManager.clearRefreshToken(),e.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,o,s,a,l,c,u;const d=null!==(r=n.displayName)&&void 0!==r?r:void 0,h=null!==(i=n.email)&&void 0!==i?i:void 0,f=null!==(o=n.phoneNumber)&&void 0!==o?o:void 0,p=null!==(s=n.photoURL)&&void 0!==s?s:void 0,g=null!==(a=n.tenantId)&&void 0!==a?a:void 0,m=null!==(l=n._redirectEventId)&&void 0!==l?l:void 0,y=null!==(c=n.createdAt)&&void 0!==c?c:void 0,_=null!==(u=n.lastLoginAt)&&void 0!==u?u:void 0,{uid:R,emailVerified:P,isAnonymous:$,providerData:Ve,stsTokenManager:ht}=n;T(R&&ht,e,"internal-error");const Ir=Jl.fromJSON(this.name,ht);T("string"==typeof R,e,"internal-error"),ai(d,e.name),ai(h,e.name),T("boolean"==typeof P,e,"internal-error"),T("boolean"==typeof $,e,"internal-error"),ai(f,e.name),ai(p,e.name),ai(g,e.name),ai(m,e.name),ai(y,e.name),ai(_,e.name);const li=new Qi({uid:R,auth:e,email:h,emailVerified:P,displayName:d,isAnonymous:$,photoURL:p,phoneNumber:f,tenantId:g,stsTokenManager:Ir,createdAt:y,lastLoginAt:_});return Ve&&Array.isArray(Ve)&&(li.providerData=Ve.map(uE=>Object.assign({},uE))),m&&(li._redirectEventId=m),li}static _fromIdTokenResponse(e,n,r=!1){return A(function*(){const i=new Jl;i.updateFromServerResponse(n);const o=new Qi({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield Xl(o),o})()}}const BO=new Map;function wr(t){si(t instanceof Function,"Expected a class definition");let e=BO.get(t);return e?(si(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,BO.set(t,e),e)}const jO=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return A(function*(){return!0})()}_set(n,r){var i=this;return A(function*(){i.storage[n]=r})()}_get(n){var r=this;return A(function*(){const i=r.storage[n];return void 0===i?null:i})()}_remove(n){var r=this;return A(function*(){delete r.storage[n]})()}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})();function Mh(t,e,n){return`firebase:${t}:${e}:${n}`}class Vs{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:o}=this.auth;this.fullUserKey=Mh(this.userKey,i.apiKey,o),this.fullPersistenceKey=Mh("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){var e=this;return A(function*(){const n=yield e.persistence._get(e.fullUserKey);return n?Qi._fromJSON(e.auth,n):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){var n=this;return A(function*(){if(n.persistence===e)return;const r=yield n.getCurrentUser();return yield n.removeCurrentUser(),n.persistence=e,r?n.setCurrentUser(r):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return A(function*(){if(!n.length)return new Vs(wr(jO),e,r);const i=(yield Promise.all(n.map(function(){var c=A(function*(u){if(yield u._isAvailable())return u});return function(u){return c.apply(this,arguments)}}()))).filter(c=>c);let o=i[0]||wr(jO);const s=Mh(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const u=yield c._get(s);if(u){const d=Qi._fromJSON(e,u);c!==o&&(a=d),o=c;break}}catch{}const l=i.filter(c=>c._shouldAllowMigration);return o._shouldAllowMigration&&l.length?(o=l[0],a&&(yield o._set(s,a.toJSON())),yield Promise.all(n.map(function(){var c=A(function*(u){if(u!==o)try{yield u._remove(s)}catch{}});return function(u){return c.apply(this,arguments)}}())),new Vs(o,e,r)):new Vs(o,e,r)})()}}function HO(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(function WO(t=qt()){return/iemobile/i.test(t)}(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(function $O(t=qt()){return/firefox\//i.test(t)}(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(function qO(t=qt()){return/blackberry/i.test(t)}(e))return"Blackberry";if(function YO(t=qt()){return/webos/i.test(t)}(e))return"Webos";if(function my(t=qt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}(e))return"Safari";if((e.includes("chrome/")||function GO(t=qt()){return/crios\//i.test(t)}(e))&&!e.includes("edge/"))return"Chrome";if(function zO(t=qt()){return/android/i.test(t)}(e))return"Android";{const r=t.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===r?.length)return r[1]}return"Other"}function KO(t,e=[]){let n;switch(t){case"Browser":n=HO(qt());break;case"Worker":n=`${HO(qt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Bd}/${r}`}class sK{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=o=>new Promise((s,a)=>{try{s(e(o))}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){var n=this;return A(function*(){if(n.auth.currentUser===e)return;const r=[];try{for(const i of n.queue)yield i(e),i.onAbort&&r.push(i.onAbort)}catch(i){r.reverse();for(const o of r)try{o()}catch{}throw n.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}})()}}function _y(){return(_y=A(function*(t,e={}){return Re(t,"GET","/v2/passwordPolicy",function Se(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}(t,e))})).apply(this,arguments)}class cK{constructor(e){var n,r,i,o;const s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(n=s.minPasswordLength)&&void 0!==n?n:6,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),void 0!==s.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),void 0!==s.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),void 0!==s.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),void 0!==s.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(i=null===(r=e.allowedNonAlphanumericCharacters)||void 0===r?void 0:r.join(""))&&void 0!==i?i:"",this.forceUpgradeOnSignin=null!==(o=e.forceUpgradeOnSignin)&&void 0!==o&&o,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,o,s,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=null===(n=l.meetsMinPasswordLength)||void 0===n||n),l.isValid&&(l.isValid=null===(r=l.meetsMaxPasswordLength)||void 0===r||r),l.isValid&&(l.isValid=null===(i=l.containsLowercaseLetter)||void 0===i||i),l.isValid&&(l.isValid=null===(o=l.containsUppercaseLetter)||void 0===o||o),l.isValid&&(l.isValid=null===(s=l.containsNumericCharacter)||void 0===s||s),l.isValid&&(l.isValid=null===(a=l.containsNonAlphanumericCharacter)||void 0===a||a),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){let r;this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}class uK{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new QO(this),this.idTokenSubscription=new QO(this),this.beforeStateQueue=new sK(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=MO,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){var r=this;return n&&(this._popupRedirectResolver=wr(n)),this._initializationPromise=this.queue(A(function*(){var i,o;if(!r._deleted&&(r.persistenceManager=yield Vs.create(r,e),!r._deleted)){if(null!==(i=r._popupRedirectResolver)&&void 0!==i&&i._shouldInitProactively)try{yield r._popupRedirectResolver._initialize(r)}catch{}yield r.initializeCurrentUser(n),r.lastNotifiedUid=(null===(o=r.currentUser)||void 0===o?void 0:o.uid)||null,!r._deleted&&(r._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var e=this;return A(function*(){if(e._deleted)return;const n=yield e.assertedPersistence.getCurrentUser();if(e.currentUser||n){if(e.currentUser&&n&&e.currentUser.uid===n.uid)return e._currentUser._assign(n),void(yield e.currentUser.getIdToken());yield e._updateCurrentUser(n,!0)}})()}initializeCurrentUser(e){var n=this;return A(function*(){var r;const i=yield n.assertedPersistence.getCurrentUser();let o=i,s=!1;if(e&&n.config.authDomain){yield n.getOrInitRedirectPersistenceManager();const a=null===(r=n.redirectUser)||void 0===r?void 0:r._redirectEventId,l=o?._redirectEventId,c=yield n.tryRedirectSignIn(e);(!a||a===l)&&c?.user&&(o=c.user,s=!0)}if(!o)return n.directlySetCurrentUser(null);if(!o._redirectEventId){if(s)try{yield n.beforeStateQueue.runMiddleware(o)}catch(a){o=i,n._popupRedirectResolver._overrideRedirectResult(n,()=>Promise.reject(a))}return o?n.reloadAndSetCurrentUserOrClear(o):n.directlySetCurrentUser(null)}return T(n._popupRedirectResolver,n,"argument-error"),yield n.getOrInitRedirectPersistenceManager(),n.redirectUser&&n.redirectUser._redirectEventId===o._redirectEventId?n.directlySetCurrentUser(o):n.reloadAndSetCurrentUserOrClear(o)})()}tryRedirectSignIn(e){var n=this;return A(function*(){let r=null;try{r=yield n._popupRedirectResolver._completeRedirectFn(n,e,!0)}catch{yield n._setRedirectUser(null)}return r})()}reloadAndSetCurrentUserOrClear(e){var n=this;return A(function*(){try{yield Xl(e)}catch(r){if("auth/network-request-failed"!==r?.code)return n.directlySetCurrentUser(null)}return n.directlySetCurrentUser(e)})()}useDeviceLanguage(){this.languageCode=function jY(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}()}_delete(){var e=this;return A(function*(){e._deleted=!0})()}updateCurrentUser(e){var n=this;return A(function*(){const r=e?$n(e):null;return r&&T(r.auth.config.apiKey===n.config.apiKey,n,"invalid-user-token"),n._updateCurrentUser(r&&r._clone(n))})()}_updateCurrentUser(e,n=!1){var r=this;return A(function*(){if(!r._deleted)return e&&T(r.tenantId===e.tenantId,r,"tenant-id-mismatch"),n||(yield r.beforeStateQueue.runMiddleware(e)),r.queue(A(function*(){yield r.directlySetCurrentUser(e),r.notifyAuthListeners()}))})()}signOut(){var e=this;return A(function*(){return yield e.beforeStateQueue.runMiddleware(null),(e.redirectPersistenceManager||e._popupRedirectResolver)&&(yield e._setRedirectUser(null)),e._updateCurrentUser(null,!0)})()}setPersistence(e){var n=this;return this.queue(A(function*(){yield n.assertedPersistence.setPersistence(wr(e))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){var n=this;return A(function*(){n._getPasswordPolicyInternal()||(yield n._updatePasswordPolicy());const r=n._getPasswordPolicyInternal();return r.schemaVersion!==n.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(n._errorFactory.create("unsupported-password-policy-schema-version",{})):r.validatePassword(e)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var e=this;return A(function*(){const n=yield function aK(t){return _y.apply(this,arguments)}(e),r=new cK(n);null===e.tenantId?e._projectPasswordPolicy=r:e._tenantPasswordPolicies[e.tenantId]=r})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new fl("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}_setRedirectUser(e,n){var r=this;return A(function*(){const i=yield r.getOrInitRedirectPersistenceManager(n);return null===e?i.removeCurrentUser():i.setCurrentUser(e)})()}getOrInitRedirectPersistenceManager(e){var n=this;return A(function*(){if(!n.redirectPersistenceManager){const r=e&&wr(e)||n._popupRedirectResolver;T(r,n,"argument-error"),n.redirectPersistenceManager=yield Vs.create(n,[wr(r._redirectPersistence)],"redirectUser"),n.redirectUser=yield n.redirectPersistenceManager.getCurrentUser()}return n.redirectPersistenceManager})()}_redirectUserForId(e){var n=this;return A(function*(){var r,i;return n._isInitialized&&(yield n.queue(A(function*(){}))),(null===(r=n._currentUser)||void 0===r?void 0:r._redirectEventId)===e?n._currentUser:(null===(i=n.redirectUser)||void 0===i?void 0:i._redirectEventId)===e?n.redirectUser:null})()}_persistUserIfCurrent(e){var n=this;return A(function*(){if(e===n.currentUser)return n.queue(A(function*(){return n.directlySetCurrentUser(e)}))})()}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=null!==(n=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==n?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const o="function"==typeof n?n:n.next.bind(n);let s=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(T(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),"function"==typeof n){const l=e.addObserver(n,r,i);return()=>{s=!0,l()}}{const l=e.addObserver(n);return()=>{s=!0,l()}}}directlySetCurrentUser(e){var n=this;return A(function*(){n.currentUser&&n.currentUser!==e&&n._currentUser._stopProactiveRefresh(),e&&n.isProactiveRefreshEnabled&&e._startProactiveRefresh(),n.currentUser=e,e?yield n.assertedPersistence.setCurrentUser(e):yield n.assertedPersistence.removeCurrentUser()})()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return T(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=KO(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var e=this;return A(function*(){var n;const r={"X-Client-Version":e.clientVersion};e.app.options.appId&&(r["X-Firebase-gmpid"]=e.app.options.appId);const i=yield null===(n=e.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===n?void 0:n.getHeartbeatsHeader();i&&(r["X-Firebase-Client"]=i);const o=yield e._getAppCheckToken();return o&&(r["X-Firebase-AppCheck"]=o),r})()}_getAppCheckToken(){var e=this;return A(function*(){var n;const r=yield null===(n=e.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===n?void 0:n.getToken();return r?.error&&function UY(t,...e){Th.logLevel<=pe.WARN&&Th.warn(`Auth (${Bd}): ${t}`,...e)}(`Error while retrieving App Check token: ${r.error}`),r?.token})()}}class QO{constructor(e){this.auth=e,this.observer=null,this.addObserver=function X5(t,e){const n=new J5(t,e);return n.subscribe.bind(n)}(n=>this.observer=n)}get next(){return T(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}(function ZO(t){return`__${t}${Math.floor(1e6*Math.random())}`})("rcb"),new Kl(3e4,6e4),new Kl(2e3,1e4),new Kl(3e4,6e4),new Kl(5e3,15e3),encodeURIComponent("fac");var Mx="@firebase/auth";class uZ{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}getToken(e){var n=this;return A(function*(){return n.assertAuthConfigured(),yield n.auth._initializationPromise,n.auth.currentUser?{accessToken:yield n.auth.currentUser.getIdToken(e)}:null})()}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){T(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}xd(),function hZ(t){vs(new xi("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;T(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:s,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:KO(t)},c=new uK(r,i,o,l);return function _K(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(wr);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),vs(new xi("auth-internal",e=>{const n=function je(t){return $n(t)}(e.getProvider("auth").getImmediate());return new uZ(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ln(Mx,"1.3.2",function dZ(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(t)),ln(Mx,"1.3.2","esm2017")}("Browser");class Ox{constructor(){return Zv("auth")}}class lE{constructor(e){return e}}const xx="database",cE=new N("angularfire2.database-instances");function EZ(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new lE(r)}}const wZ={provide:class yZ{constructor(){return Zv(xx)}},deps:[[new nn,cE]]},DZ={provide:lE,useFactory:function CZ(t,e){const n=function IO(t,e,n){if(e){if(1===e.length)return e[0];const o=e.filter(s=>s.app===n);if(1===o.length)return o[0]}return n.container.getProvider(t).getImmediate({optional:!0})}(xx,t,e);return n&&new lE(n)},deps:[[new nn,cE],ql]};let IZ=(()=>{var t;class e{constructor(){ln("angularfire",Qv.full,"rtdb")}}return t=e,bt(e,"\u0275fac",function(r){return new(r||t)}),bt(e,"\u0275mod",At({type:t})),bt(e,"\u0275inj",ft({providers:[DZ,wZ]})),e})();function bZ(t,...e){return{ngModule:IZ,providers:[{provide:cE,useFactory:EZ(t),multi:!0,deps:[ce,yt,TO,SO,[new nn,Ox],[new nn,IY],...e]}]}}const TZ=RY(nO,!0),kx_firebase={projectId:"booking-appointment-2023",appId:"1:948954666883:web:c796e6b3d7ba6f4ee948b6",databaseURL:"https://booking-appointment-2023-default-rtdb.asia-southeast1.firebasedatabase.app",storageBucket:"booking-appointment-2023.appspot.com",apiKey:"AIzaSyDOGyF33vk0l5Gf04AqmMpUmR0sTKBgPH0",authDomain:"booking-appointment-2023.firebaseapp.com",messagingSenderId:"948954666883",measurementId:"G-ERQJE1K5SV"};N_(kx_firebase);let SZ=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=At({type:t,bootstrap:[pY]}),t.\u0275inj=ft({providers:[Gl],imports:[KG,uY,M5,Z9,A5,LY(()=>N_(kx_firebase)),bZ(()=>TZ())]}),e})();qG().bootstrapModule(SZ).catch(t=>console.error(t))}},fe=>{fe(fe.s=515)}]);